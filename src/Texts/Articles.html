1. Introduction
In IoT world, there are many nodes with different sizes
including sensors, actuators, gateways or some middle-nodes
such as routers, access points, extenders, relays which create a
crowded network area as a result. According to a survey, there are
50 billions of devices are connected to the Internet by 2020 where
it will exponentially increase to 500 billions of devices as of 2030. Within these nodes, there are lots of data
traversing, where important portion of them are possibly
redundant or have low-priority. An IoT network is typically
considered as constrained node networks (which is an IETF
definition) as it includes many constrained dumb endpoints. These
endpoints produce lots of data which they sense and send them to
related destinations. Many of them have no intelligence or any
idea about when or how frequently to send their sensed data. They
do not care if a network node is congested or not.
There are many protocols suitable for IoT such as MQTT
(Message Queuing Telemetry Transport) or AMQP (Active
Message Queueing Protocol) which are lightweight but reliable
protocols. These protocols stand on TCP/IP. Both of them uses
queueing methodology to satisfy reliability and to avoid data loss
during offline or communication failure states. On application
layer, MQTT works with subscription/publish methodology
which queues the messages before leaving the system and
publishes to a specified topic which is considered also as
application layer (Naik, 2017). MQTT does not implement a
specific congestion control per se, but underlying TCP can handle
this congestion control. Moreover, HTTP is still an irreplaceable
protocol which is also used in IoT world even it is not lightweight
like MQTT. Regardless of what is used, all of them relies on
TCP/IP protocol and all of them needs a TCP congestion control.
Recently new TCP congestion control algorithms are proposed for
IoT networks (Verma et al. 2020). In addition to TCP-congestion
control, Active Queue Management methodologies also used to
maintain end-to-end non-congested network. One difference is
that they reside at different layers where TCP-Congestion is
handled in transport layer and Active Queue Management (AQM)
is handled in network layer (Baker et al. 2015). Security is also a
critical point over MQTT as there is always an option to use the
non-secure MQTT which works on 1883 port as default. Applying
a security over MQTT level, will also affect to lower levels, such
as transport layer or network layer. There will be some impacts
while implementing an algorithm at network layer. For example,
a related work proposed an algorithm to authenticate and encrypt
communication between the gateway and MQTT broker by also
approaching from a new aspect to provide simultaneous
encryption and MQTT-based communication by utilizing
physical I2C property of the ARM Cortex M3
As this approach encrypts the message by starting from
authentication phase, it should have some impacts while
implementing some AQM algorithms which will be discussed
later in this paper.
Another vital part of IoT are the gateways which act as
bridges between sensors and the server/cloud layer. Lots of nodes
send data to same gateway, and gateway should handle this load,
otherwise a congestion may occur and all the communication
between nodes will be down. Most sensor nodes are so dumb that
they cannot be configured generically, flexibly. They are aimed to
send what they sense within pre-configured time intervals. One
can‚Äôt tell them to stop while there is a huge load on a gateway or
a main node. Even if we can tell them to stop, One need to speak
in their different and separate languages. Thus, implementing a
common interface would not be easy and efficient. So, instead of
implementing on application layer, implementing on network
layer would be easier and extendable.
Another method to handle TCP congestion on IoT network is
to use Explicit Congestion Notification (ECN) (Gomez, 2019). In
this approach, they define dumb devices such as sensors, actuators
as constrained nodes, and clouds as unconstrained nodes. There
might be direct connection between constrained and
unconstrained nodes where there might be a middleware between
them as well. ECN allows a node to signal via the IP header of a
packet to notify whether congestion is about to happen, for
instance, when a queue size reaches a certain threshold.
In aspect of AQM, the well known approach is Random Early
Detection (RED) (Floyd et al. 1993) which calculates the average
size of queue and drops the packets with defined possibilities
between specific minimum and maximum queue thresholds. This
satisfies proactive queue congestion control. This method is too
simple but also generic. This approach inspires the researchers to
create more RED-based AQM approaches to fit specific domains.
In the literature, there are several extensions of RED.
Weighted RED (WRED) defines different queue thresholds for
different traffic classes and it is likely better at applying QoSSensitive congestion avoidance. It has reasonable approach to
drops and marks packets. Although WRED is limited in terms of
number of traffic flow types, it is still more viable for some routers
(Freed et al. 2006). Another extension of RED is Adaptive RED
(ARED) (Feng et al. 1999) which tries to adapt itself to be more
or less aggressive according to the observation of the average
queue length. Caring with the content, another extension of RED
is XRED which is a content aware approach (Hassan et al. 2003).
This approach is similar to our proposed approach which
contributes to IoT networking. The similarity and differences will
be defined in Section III in detail.
GREEN (Generalized Random Early Evasion Network)
(Feng et al. 2002) is another congestion avoidance solution. A
proactive queue management algorithm is proposed to ensure
higher degree of fairness between flows. This algorithm uses
more intelligent drop possibility calculation. It considers some
network conditions like ùëÄùëÜùëÜ, ùëÖùëáùëá or outgoing link capacity. So
that, it calculates more adaptive drop possibilities rather than
random calculated possibilities and thus, can create fairness
between flows. PIE (Proportional Integral controller Enhanced)
(Pan et al. 2013) is robust and optimized for various network
scenarios which does not require per-packet extra processing, so
that causes very small overhead and ease of implementation and
deployment at both device and software side. This algorithm uses
different approach of drop probability calculation by not only
using the current estimation of the queuing delay, but also sensing
the direction of where the delay is shifting, which is not a simple
random drop possibility.
Grazia et al (Grazia et al. 2017) provides a simulation-based
comparison of the selected ones of these algorithms in terms of
goodput, throughput, RTT variation, fairness, etc. in order to study
suitability of these algorithms for an IoT environment. They
conclude that although some algorithms have no advantages over
IoT network, ARED has a good performance over specifically
high congested IoT networks. PIE seems to be the winner in any
aspect of stress levels.
European Journal of Science and Technology
e-ISSN: 2148-2683 173
Another related approach is to provide fairness by penalizing
unresponsive (or aggressive) traffic in case of network
congestion. CHOKe algorithm is widely researched fairnessoriented AQM algorithm which effectively punishes unresponsive
traffic, although it is stateless and easy to implement. In order to
improve the performance of CHOKe (Pan et al. 2000) (Eshete et
al. 2013), numerous extensions are proposed, such as CHOKeR
(Lu et al. 2013), CHOKeH (Abbas et al. 2018), D-PAC (Hu et al.
2018), etc. These approaches further reduce the ratio of
unresponsive traffic by making more match-and-drop
comparisons. There is also another recent study which provides a
fairness-oriented AQM algorithm called Hash Table and Circular
Buffer (HTCB) that is inspired from CHOKe. This approach
utilizes a hash table to identify aggressive traffic and aims to
improve performance in network nodes with low buffer space.
(Hu et al. 2020)
Although all the mentioned approaches are valuable, they
have still some limitations and deficiencies for IoT domain as we
will discuss in Section III. In this paper, we will adopt a very
simple but powerful intelligence on network layer of IoT nodes to
use network fairly and feasible, moreover to handle a congestion
and queue management. The main contribution of this paper can
be summarized as follows. We propose an approach where any
part of network (including source nodes) will give a hand to
handle the congestion and queue management. We propose a
novel decision-making mechanism for both the sender (whether
to send a packet or not) and the receiver (whether to drop a packet
or not) based on an extensive-form game model. In the game
model, we take account of priority and size of packets, network
conditions in the network side and also network conditions
between the sender and the destination. On the contrary of most
AQM algorithms, we avoid most of the packet drops in gateway
by a light-weight decision making mechanism and we avoid dumb
sensors to exploit network nodes with sending too much
redundant data.
Rest of the paper is organized as follows. Next section
describes a general problem definition and detailed explanation of
proposed novel AQM implementation. Section III decribes the
efficiency of the proposed implementation by comparing with
existing methods in various performance metrics. Finally, Section
IV concludes the paper.
2. Background and Algorithm Proposal
2.1. Background
In IoT, many kinds of topologies can be encountered. Within
a simple network, there might be thousands of devices connected
to each other. In some topologies, only one gateway takes care all
the sensors. Where in some topologies there are some midgateways that are responsible from a portion of sensors and collect
the data and process to another main gateway to push the data to
Internet as shown in Figure 1.
MQTT protocol is the most common way to communicate. It
uses the advantage of having a queue mechanism which keeps the
messages in the queue when there is a connectivity problem,
bottleneck, low-rates etc. When possible, it tries to consume the
queue and send the messages to the destination. As IoT
environments are prone to weak networks, there are many things
to consider. Such as, if sender fills up its queue with message
containing sensed values, and when a connection is up, it bursts
all the messages in a dummy way. Sensors never consider if a
gateway is tired or not. They always send over and over. They like
exploiting the network, they do not recognize what a fairness is.
So, they are such dumb that no gateway can tell them to stop. In
an IoT environment, all the sensors vary, thus not identical. So,
while a dumb sensor exploiting the network, some important
sensors cannot send their important values which might cause an
alert due to congestion. At these times, we wish to implement a
fairness amongst sensors considering duplicate, unimportant or
malfunctioned values. So, to satisfy all the requirements
mentioned, we propose a novel AQM method which is called
AQM of Things (AQMoT). Using this AQM approach, we try to
handle the congestion within a network while satisfying some
fairness and also a little intelligence for sensors or gateways in the
network layer.
Figure 1. An IoT Sample Environment where sensors
directly connected to one and main gateway which tunnels to
internet
2.2. AQM-of-Things
2.2.1. Concept
The main concept is to think from the angle of sensors and
gateways. A source (sensor, mid-gateway) will send message to a
destination (gateway, communication node, mid-gateway). A
sensor should consider the possibility of a congestion at the
destination and also consider whether its message is important or
not, whether it is big or small, and also consider the network status
if it is weak or strong. So, if we impersonate as sensor, we‚Äôd not
send our messages if they are not important and the network is
weak and destination possibly in critical queue levels. We‚Äôd keep
the message in the queue or drop it. Because our message will be
dropped without enqueued or lost in network, why should we lose
effort intentionally. Moreover, we‚Äôd try our chance sending the
message if it is important even if destination queue is possibly
congested. We can increase the number of examples. We‚Äôd also
send our messages if it is big and unimportant, but destination has
empty buffer, because the road is fully open and destination will
accept, why not using it. It also keeps a good utilization over
network. Many AQM algorithms have some important thresholds
for deciding what to do with the packet. For example, accepting it
or dropping it with a defined possibility according to the average
queue. Calculation of average queue length also differs from
method to another method. Such as, RED uses a simplistic
average calculation like moving average where WRED depends
on the previous average as well as the current size of the queue.
Moreover, all of them define a different drop function beyond a
defined threshold named as ùëÑùëöùëñùëõ. A drop function defines the
possibility to drop a packet when it tries to enqueue itself to the
queue. It is not more than a spinning a roulette to decide whether
Avrupa Bilim ve Teknoloji Dergisi
e-ISSN: 2148-2683 174
to drop or not. It is not actually intelligent way to drop these
packets. Moreover, what if sender is aware of the occupancy at
the destination; would it still send the packet if its packet was
going to be dropped or possibly not accepted? Why should
destination always try to orchestrate everything where sender can
be pushed for a cooperation easily? Let us give an analogy. In an
online meeting there is a teacher and some students isolated from
each other around him/her. In a traditional way, when students are
talking at the same time, teacher tries to understand the
conversations one by one. If he/she cannot understand some of
them, ignore and focus other students to get the point. And then
change the focus to another student who was ignored before, so
on so forth. Now let us try this approach. Teacher notifies the
students about his/her condition that there are some students
already speaking. So, a student will understand that their teacher
is already occupied with another conversations, and if it is not
important, student may wait to speak or give up. Thanks to
cooperation, teacher will understand and reply to everyone
efficiently. So, how are we supposed to implement such an
intelligent but also simplistic approach briefly mentioned above?
Using some artificial intelligence or machine learning approaches
may not be better as they will be heavy for our layer. Here we
introduce a game theoretical approach which is very light and
easy to implement and scalable.
2.2.2. Implementation
In this section we will describe details of the proposed
AQMoT algorithm. We consider a two-player game, where the
first player (player 1) is the sender and the second player (player
2) is the destination which can be gateway, a communication node
or a mid-gateway etc. In this game, player 1 will not be waiting
for a possible signal from player 2 saying that ‚ÄúI‚Äôm congested,
please stop!‚Äù. We will try to figure out how possibly player 1 is
congested or congestion-candidate using some simple
information such as ùëÖùëáùëá, time-outs, dupacks etc. Moreover
player 2 will be transparent to player 1 in terms of queue status so
that player 1 will be able to understand if its packet will be
dropped at player 2 side if the packet manages to reach. We will
be touching these details further later. The game is quite simple.
We will try to reduce the following story to game theory payoff
tables (Aumann et al. 1985).
Figure 2. Extensive-form game formulation, where
destination is Player 2 and source is Player 1
In Figure 2, an extensive form game model (Kuhn et al. 2016)
is illustrated where the first action (Send, Not Send) is played by
the player 1 (P1 - sender), and the second action (Drop, Accept)
is performed by the player 2 (P2 - receiver). The payoff values of
the players in the game outcomes depend on the variables defined
in Table 1. Both sides are focused to grant the greatest payoff by
their action. Player 1 has the advantage of observing the latest
status of Player 2. ùëÑ is the percentage of occupancy (busyness) of
queue at the destination illustrated as in Figure 3. This function is
similar to the drop function for other AQM algorithms like RED
and WRED. ùëÑùëöùëñùëõ is a minimum threshold for the destination to
define itself as empty. Until this threshold in terms of Queue
Average (ùëÑùëéùë£ùëî), destination is not tended to drop any packet, but
accept all. ùëÑùëöùëéùë• is another threshold which is close to maximum
possible queue length of destination (buffer size). Beyond this
threshold, destination is fully tended to drop all packets to keep
its buffer at ease not to cause overflown buffer or some network
problems. Between ùëÑùëöùëñùëõ and ùëÑùëöùëéùë• thresholds, destination defines
its occupancy as linear and tended to drop some of the packets by
evaluating the packet size and its priority. In this implementation,
without loss of generality, we will set our occupancy function as
linear, while other functions (quadratic, exponential, etc) can also
be used as desired. ùëÑùëöùëñùëõ and ùëÑùëöùëéùë• are pre-set and static values
just after the network is up and shared with any source via
handshake process. Current occupancy percent (ùëÑ) is also shared
by gateway (the destination) to sensors (the sources) when a
sensor establishes a new connection via handshake, and with any
acknowledge packets for incoming packets as illustrated in Figure
4. ùëÑ2
is another information used at the side of sender. This is
based on ùëÑ plus other circumstances like timeouts, dupacks. If ùëÑ2
is tended to be greater than 100% which is not feasible, than it is
assumed as 100%. The calculation methodology will be handed
over in the next section. If player 1 (the sender) doesn‚Äôt see any
possible overhead at its own side and find out the possible action
of player 2 (the destination) which is an ‚Äúaccept‚Äù for a lowprioritized, small sized packet under normal circumstanced
network, both player 1 and player 2 will receive a good amount
of payoff. The more prioritized packet is, the more payoff will be
received by sensor and gateway. We will try both sides to boost to
complete a transfer with high-prioritized packets. But also, sender
will pay the cost of size of packet and average ùëÖùëáùëá. If packet is
big and average ùëÖùëáùëá is high, then player 1 needs to pay more from
earnt payoff. It is assumed as an effort which should be reduced
from total award. On the other hand, if there is a possible high
occupancy at player 2 (the destination), and there is some network
issues which is sensed from timeouts or dupacks and still player
1 tries to send a packet, as player 2 may not receive it or drop it
even if received, there will be futile effort at the side of Player 1.
So, there will be no awards, but effort is lost in terms of ùëÜ and
ùëÖùëáùëá.
Table 1. Variables of the proposed game model
pr Priority of packet from 0 to 1.
S Size of packet from 0 to 1. It is calculated as the
ratio of the packet size to the Maximum Segment
Size (MSS).
RTT Moving average of RTT occurred till then. 0 means
low RTT, 1 means very high RTT.
A An award. (-A stands for a penalty.) It should be
greater than sum of maximum possible value of S
and RTT.
Q The percentage of busyness of queue at destination
according to defined function.
Q2 Drop probability at source. It is based on Q and
additionally some other decision inputs (like
timeouts, dupacks).
European Journal of Science and Technology
e-ISSN: 2148-2683 175
Figure 3. Queue occupancy function by queue average
Figure 4. Flow diagram of queue information sharing from
gateway to sensor
Now let us describe the rationale behind the formulated game
illustrated in Figure 2. If receiver has low or no occupancy (ùëÑ is
nearly 0), sending a packet will grant a payoff correlated with the
priority of the packet. Low-prioritized packet grant low payoff
etc. Player 1 always pay for the size of packet and packet delay
ùëÖùëáùëá from its award. An award ùê¥ will be deterministic for our
players behavior. Increasing ùê¥ will make both sides greedy and to
grant it both sides will try to complete a packet transfer even in an
occupied destination and loose network. Decreasing ùê¥ will make
them to be at the safe side. They will take less risk. Accepting the
packet for player 2 will give same amount of award excluding
ùëÖùëáùëá as ùëÖùëáùëá does not matter at the gateway side. It is the round
trip delay experienced by the sender (sensor, in our scenario).
Now let us consider the outcome where player 1 sends and
player 2 drops in a non-occupied queue. Player 1 will get the same
reward mentioned above, but player 2 will receive a penalty
correlated with the priority of packet. This action is actually
undesired. We try to avoid player 2 not accepting packets while
available to keep the system utilized. Last action for Figure 2, not
sending the packet in an available system which makes no
difference at gateway side. So that gateway will not be granted or
fined any payoff. Player 1 also never receives anything. We want
to keep them away from this lazy action by zero-grants as much
as not needed. But if needed, they would profit from loss.
Let us examine the scenario where player 2 is occupied. If
player 1 sends the packet to occupied player 2, then player 1 must
pay for the futile effort (‚àíùëÜ ‚àí ùëÖùëáùëá). In all payoffs, according to
the ùëÑ value, left-hand side or right-hand side will be dominant. If
ùëÑ is high, then the side which is multiplied with ùëÑ is dominant, if
ùëÑ is low then the side which is multiplied with (1 ‚àíùëÑ) is
dominant. If the packet is too prioritized, then the punishment
aimed to be less due to the left-hand side. We do not want to blame
too much if player 1 wants to send a very prioritized packet to an
occupied destination. Trying to accept a packet for player 2, will
make it lose in the same way excluding ùëÖùëáùëá. So, for the next
scenario, player 1 sends to occupied player 2 and player 2 drops;
player 1 will be fined for the efforts done, but player 2 will be
granted with an award of ùê¥ by dropping the packet. This is also
correlated with the unimportance of packet. Not accepting a lowprioritized packet will grant more as usual.
2.2.3. Numerical Results
In this title, we will simulate how AQM algorithm works with
real life use cases. We will instantiate some environments to have
better understanding about the proposed AQM algorithm. Now let
us give some example environments and analyze the
corresponding game models. Let us imagine an environment
where the sensor wants to send a medium sized packet (ùëÜ =0.5)
with medium priority (ùëùùëü =0.5) on a high-speed link with low
ùëÖùëáùëá value. Award is set to 4 which is a moderate incentive value
and there is no occupancy at the destination and no recent
timeouts or dupacks, thus ùëÑ = ùëÑ2 = 0. The normal-form
representation of the extensive form game for this scenario is
illustrated in Table 2. In this game, Send, Accept is a Nash
Equilibrium (Kuhn et al. 2016), because both do not gain more by
changing their actions. For the sender, it would be OK to send the
packet, because it will be awarded with a reward of 1.4 and also
it obviously knows that destination will accept the packet.
Table 2. Payoff Table for given environment
Player 1
Player 2
Accept Drop
Send (1.4 , 1.5) (-0.6 , -1.5)
Not Send (0 , 0) (0 , 0)
pr: 0.5 S: 0.5 RTT: 0.1 A:4 Q:0 Q2:0
Now, let us imagine the same environment, but we would like
to send very prioritized packet such as ùëÉùëü = 0.9. The
corresponding payoff table is shown in Table 3. Sending the
packet will reward both side 3 and 3,1 respectively with Send,
Accept action which has greater payoffs than the previous one.
Another identical environment but with highly occupied
destination (ùëÑ = 0.7), with some timeout and dupack scenarios, so
that ùëÑ2
is 0.8. Table 4 shows the corresponding game. Here, there
is a considerable occupancy at the destination, but also there is a
high prioritized packet. So, still sending it will be the best
selection although the rewards are lower than the previous cases.
Avrupa Bilim ve Teknoloji Dergisi
e-ISSN: 2148-2683 176
Table 3. Payoff Table for given environment for high
prioritized packet
Player 1
Player 2
Accept Drop
Send (3 , 3.1) (-0.6 , -3.1)
Not Send (0 , 0) (0 , 0)
pr: 0.9 S: 0.5 RTT: 0.1 A:4 Q:0 Q2:0
Table 4. Payoff Table for given environment for high
prioritized packet in a highly occupied destination with some
network issues at sender
Player 1
Player 2
Accept Drop
Send (0.12 , 0.3) (-0.6 , -0.3)
Not Send (0 , 0) (0 , 0)
pr: 0.9 S: 0.5 RTT: 0.1 A:4 Q:0.7 Q2:0.8
Now, let us consider an environment where the sender
realizes more timeouts and dupacks compared to the previous
cases, and the ùëÑ2 value is 0.9 at sender side. The payoff values are
now shown in Table 5.
Table 5. Payoff Table for given environment for high
prioritized packet in a highly occupied destination with more
network issues at sender
Player 1
Player 2
Accept Drop
Send (-0.24 , 0.3) (-0.6 , -0.3)
Not Send (0 , 0) (0 , 0)
pr: 0.9 S: 0.5 RTT: 0.1 A:4 Q:0.7 Q2:0.9
Here when we consider destination, it seems to accept the
packet, if the packet can make through its way to destination.
However, sending the packet will give a negative payoff to the
sender. So, here not sending the packet would be the best choice
as there is no loss in this action for sensor. This scenario can be
commented as there is some network issues and the destination is
highly occupied, so no need to take risks on the network for this
packet and it might be better to relax destination side by not
sending this packet. The flow after ‚Äúnot send‚Äù action will be
revealed in the next section. Now, we consider another scenario
where a medium-low priority packet is sent to a medium-low
occupied destination and there exists some network issues. In the
resulting payoff table shown in Table 6, it is clearly seen that
Player 2 will drop the packet if player 1 sends. So here, it is not
possible to collect 0.36 payoff in the action Send, Accept. If player
1 sends the packet, player 2 drops it and player 1 gets ‚Äì0.6. So
that, not sending the packet will make it profit from the loss with
zero-grant, in other words, zero-loss.
Table 6. Payoff Table for given environment for mid-low
prioritized packet in a mid-low occupied destination with
medium packet in a high-speed link network with some network
issues.
Player 1
Player 2
Accept Drop
Send (0.36 , -0.1) (-0.6 , 0.1)
Not Send (0 , 0) (0 , 0)
pr: 0.4 S: 0.5 RTT: 0.1 A:4 Q:0.3 Q2:0.4
However, this does not mean that this packet will be vanished
and never be sent to destination again. Not sending a packet which
is going to be dropped would result in a high utilization and effort.
Waiting for a better time to send it will be a better and efficient
choice. If award is increased, let us say ùê¥ = 8, then both sides will
have more dare to fulfill their mission. Source will force itself to
send the message to destination no matter what and the destination
will force itself to accept the packet unless there are extraordinary
situations. This scenario can be observed in Table 7.
Table 7. When award increased, both sides observe that they
resist to extraordinary situations.
Player 1
Player 2
Accept Drop
Send (1.32 , 0.3) (-0.6 , -0.3)
Not Send (0 , 0) (0 , 0)
pr: 0.4 S: 0.5 RTT: 0.1 A:8 Q:0.3 Q2:0.4
2.2.4. Deep Diving
So far, we explained the proposed method in general terms
and try to give a better understanding on what we are aiming to
do, briefly. Now we will deep dive into the proposed algorithm to
describe the details of the variables used in the game model, and
how to determine them. First struggle is how to determine the ùëÑ2
which is based on ùëÑ and increased with some dupack and
timeouts. The value of increment is called ùëÑùëé, hence ùëÑ2 = ùëÑ +
ùëÑùëé. The value of ùëÑùëé is proportional to some score ùõº which is
between 0 and 100. Actually, ùõº is sum of two non-negative scores,
one is ùõºùë° which is related to timeout events, and the other is ùõºùëë
which is related to dupacks. Hence ùõº = ùõºùë° +ùõºùëë. If there is no
congestion and all the ACKs are received in time, then ùõº = 0 and
there is 100 score to fill up. When a timeout occurs for a sent
packet, ùõºùë° would be incremented by 2
ùëõ where ùëõ is the number of
consecutive timeouts. However maximum value of ùõº cannot
exceed 100. When an ACK of a packet is received successfully
after a timeout event, ùõºùë°
is reset to 0 (but ùõºùëë stays as is). Moreover,
any dupacks will add 1 to ùõºùëë and normal ACKs will subtract 1
from the score granted from dupacks. ùõºùë° and ùõºùëë are separate
scores that do not affect each other, however their sum, ùõº, cannot
exceed 100. Then, ùëÑùëé is determined based on ùõº. In our model,
ùëÑùëé = ùõº/100 ‚àô ùëÑ/2, hence the maximum value of ùëÑùëé cannot
European Journal of Science and Technology
e-ISSN: 2148-2683 177
exceed ùëÑ/2. To be more specific what we are trying to do that
here; we actually do not want this part to strongly affect ùëÑ2 as ùëÑ
itself is already robust and decision-maker. That‚Äôs why we wanted
its effect as half of what ùëÑ is. This is still open for discussion and
will be fine-tuned in the future works. For example, if ùëÑ is 0.3,
then ùëÑ2 can be as much as 0.45. If ùõº = 50, then ùëÑ2 = 0.3 +
0.075.
Another struggle is to determine packet priority. This can be
set at application layer where we will determine this at the
transport layer. A packet priority can be overridden by any higher
layers at sensor side. But this priority should be used cautiously.
Setting all the priorities as the highest will incur the general
system to determine which packet is important or not. Besides of
overriding the priorities, as default approach the payload is read
within a TCP envelope. Sensors usually create same values within
a specific time interval. Thus, if a sensor value is the same with
the previous one, this will decrease the importance of packet. Any
identical value will decrease 0.1 score over 1 as priority. Any
different value will reset this priority to important state with score
1. Now, ‚Äúnot send‚Äù actions require special care where we will
touch in detailed here. Let us think from the aspect of MQTT
level. There are lots of values that are queued to be sent. MQTT
can use priority in its queue itself. When a value desired to be sent,
a TCP packet shows up to wrap this value in transport layer and
transfers to network layer. In this layer, it can also be accessed to
payload of TCP packet. The game theoretical decision is
implemented here, if it happens to decide not to send the packet,
a waiting period for this packet appears. This waiting period
depends on the absolute value of the greatest negative payoff of
source or destination in Send action. For example, in Table 6, it is
0.1 which comes from Send, Accept action. In Table 5, it is 0.24.
This represents the value how easily source picked this action if it
decided not to send due to ùëÑ2
, or how easily destination picked
this action if it decided to drop due to ùëÑ. This extracted value is
multiplied by Award ùê¥ to find how much to wait in terms of
seconds, such as 4 ‚àó 0.24 = 0.96 sec. After this waiting period,
transport layer will be notified as the packet refused. So that, TCP
would learn that specific packet was unable to be sent. As it has
retransmission policy this packet will be resent, or it will be
discarded if maximum retransmission count has been reached. If
the packet is resent, then its priority will be increased by 0.1 and
decisions would be re-evaluated using game theory. An overview
of the algorithm is revealed in the pseudocode given in Figure 5.
The last, but not the least variable is award ùê¥. This award can
be set static which should not be a problem and it is 3 as default.
But customizing this award according to senders will provide
many advantages. Awards boosts the source and destination to
send and accept the packet. If award is high enough, and if a
packet is decided to be sent, the more payoffs will be granted for
sender. Award can be determined by receiver and sent to the
sender with an ACK packet using "option" header in TCP.
Receiver such as gateway can store the senders and can find their
value time intervals or their importance of values by reading the
payload. So, frequent message senders can be awarded less than
rare message senders. Assume that a temperature sensor sends
value within 5 second cycles, but an anomaly detector camera
sends value only when an intrusion or suspected actions happens
which rarely occurs only per 6 hours averagely. So, gateway can
give high award to camera, on the contrary low award to
temperature sensor which will throttle it. Moreover, sensors can
override award value on their own and share it with destination
via handshake process if it is a reliable device. But it should be
overridden with caution, otherwise that device might turn into a
zombie exploiting the network and destination.
Figure 5. Pseudocode of the proposed approach.
3. Comparison and Discussion
3.1. Comparison
AQMoT is an IoT specific scalable AQM implementation
algorithm to cope with queue and congestion effectively. Out of
scope of IoT, it might not be appropriate. But, in a contemporary
world circumstances IoT is a must and widely spread. So, this
algorithm may have a remarkable acceptance comparing other
IoT-domained AQM implementations.
AQMoT has also some limitations. Firstly, it may not work
as proposed above in an environment with end-to-end encryption.
If security is applied at the application layer, such as MQTTS
(MQTT secure), the content will be encrypted which disallow us
to read the content, and leads us to a problem of determination of
priority. In this case, priorities should be defined at application
layer and should be passed to transport layer and network layer in
the end. Otherwise, the priority determination approach can be
renewed such that all the packet priorities are defined as 0.5 for a
Avrupa Bilim ve Teknoloji Dergisi
e-ISSN: 2148-2683 178
specific packet, and the priority is incremented by 0.1 if it is not
sent and dedicated to re-send process. Packets can be
distinguished by their sequence numbers reside in TCP headers.
The second limitation of AQMoT is that it requires space in TCP
headers to share some information between sender and destination
(such as Queue information, Award amount, etc.). Moreover,
some packet processing and memory issues are added such as
reading and comparing the contents and the priorities. However,
these requirements are minimal and it would not be a big deal for
the nowadays devices.
Now, we will provide a conceptual comparison of AQMoT
and alternative queue management methods that can be applied in
IoT environment. The first method to be considered is ECN
although it may not be counted as an active queue management
approach. In ECN method, a node can notify another node if it
arises a congestion or not by using IP headers. In this
implementation, An ECN-enabled TCP receiver node will return
with a congestion signal to this notification signal by setting a flag
in its next TCP Acknowledgment. ECN is also able to reduce
packet losses thanks to proactive congestion control; this leads to
an energy and bandwidth save which is crucial for IoT network
called Constrained Node Networks. This method can contribute
any AQM algorithm to satisfy comfort at the network buffer. But
this implementation is too general and it has no specific features
for IoT environment. There are plenty of types of nodes within an
IoT network where generalization might not work very well. All
the nodes require special assistance and individual interest. Some
resource-exploiting nodes can cause a general outage as there is
no specific throttling mechanism as we proposed.
RED is a generic AQM approach to handle queues in any
domain. Although it has an ease of deployment, it is not adaptive
to different types of network domains and it might not fit well to
IoT domain. However, this approach has inspired researchers to
develop many novel approaches. One of the mentioned
approaches based on RED is WRED that has different calculation
way of average queue and drop function for different traffic
classes. WRED, is likely better at applying QoS-Sensitive
congestion avoidance. It has reasonable approach to drop and
mark packets compared to RED but it is still not fully suitable to
IoT network. Because it does not value the content and the sender.
It fully focuses on the destination.
Another mentioned variance of RED is ARED. In this
approach, the queue average is observed and decided to be more
or less aggressive while marking and dropping the packets even
though a queue is more or less busy. It adapts itself in accordance
to current status. Similar to RED, ARED has two thresholds
ùëöùëñùëõùë°‚Ñé and ùëöùëéùë•ùë°‚Ñé where queue average may oscillate around
these limits so that it can define its behavior such as being
aggressive or conservative. It also adapts drop probability in these
times to maintain more adaptive approach for the variable
network conditions. This is also a desired thing in IoT domain.
ARED shows up with the best performance in a highly congested
environment, however it diminishes its performance when it
encounters with an environment with multiple RTT flows. It is
also good at fine-tuning the trade-off between goodput and delay
performance (Grazia et al. 2017). However still as it does not
value the content and network exploiting nodes, and since sender
nodes do not cooperate as they do in AQMoT approach, it may
not be fully ‚Äúadaptive‚Äù to IoT environment.
XRED which values the content is a good approach. Because by
valuing the content, all arriving packets are assigned to some
priorities and these priorities are used in the packet drop decision.
This aims to maintain the network by handling important packets
and getting rid of useless packets. This work has a commonality
with our AQMoT approach which cares about content as well. In
IoT networks, significance of the content is very important and
for fair and effective queue management, it should be considered.
However, this approach has the same disadvantages of ours in
aspect of content reading. In addition, still there is no cooperation
between sender and destination, many packets can fade away due
to drop possibilities causing packet losses.
GREEN uses some network conditions such as ùëÄùëÜùëÜ, ùëÖùëáùëá,
outgoing link capacity, and number of active flows. Using such
kind of terms to define the drop possibility makes it more
reasonable. Moreover, this algorithm proposes a good fairness
index between flows (Feng et al. 2002). According to (Grazia et
al. 2017), PIE, which also overcomes GREEN, has a resistance to
all the stress factors, and it has one of the best trade-offs between
channel exploitation and delay. Coping with channel exploitation
is actually a big part of coping with the whole IoT network. It has
also latency-based drop possibility calculation which is not fully
random and can be considered as smart dropping. This approach
also has a goal to guarantee high-link utilization. However, still it
has no cooperation between sender and destination and content
awareness which may cause some overhead in IoT network. This
still does not avoid sending packets which possibly will be
dropped by destination or within network which may cause a
futile effort in such an IoT dumb data traffic.
CHOKe and its variants provide fairness by penalizing
unresponsive traffic. Since these approaches are stateless, they are
simple to implement and require less resources. AQMoT differs
from these studies by adding a little intelligence to sensor nodes
to avoid them sending data aggressively, instead of penalizing
them after the congestion occurs.
3.2. Discussion
In Table 8 algorithms are compared in terms of many aspects.
"Content Awareness" points to intelligent actions taken according
to the packet content, which is a feature satisfied by XRED and
AQMoT. Both algorithms run some logic according to content
located in the packet. Others operate regardless of what the
content is. "Ease of deployment" mentions about ease of
implementation and deployment to the plenty of network nodes.
AQMoT has medium level in this category, because some nodes
sometimes need to override some priority values which requires
extra development at the nodes. Moreover, it requires an update
in the devices in Operating System level. Well-known and base
algorithms like ECN, RED has a high level of ease of deployment
as they are general approaches in this topic. The more complicated
algorithms they run, the harder to deploy them. Adaptive
approaches like ARED has some struggles to deploy as the logics
and algorithms they run may not be compatible for some kinds of
nodes. "Fully IoT compatible" means whether an algorithm is
developed specifically, efficiently, optimized, and compatibly for
many IoT environments. Here, AQMoT is specifically designed
for IoT so that it has the highest score in this scope. "Other
domains" points to the capability of the algorithm to be efficiently
and compatibly used in other domains. Many of the algorithms
can be used in different domains other than IoT, but AQMoT can
cause overhead. For example, if it is used in streaming services,
the system suffers from content reading and tracking. General
approaches like RED and ECN has a huge implementation area
within many kinds of domains. "Complexity" points to algorithm
European Journal of Science and Technology
e-ISSN: 2148-2683 179
complexity. RED is the simplest and the ancestor for many of
them. The others actually extended the implementation to do
some specific things, such as drop function calculation etc. which
adds extra complexity to algorithms. Although AQMoT has a
decision-making algorithm within its nature, it is as simple as
possible. So the complexity should not be assumed more than a
normal level. "E2E semantics (End to End semantics)" points to
compatibility throughout all the nodes within network regardless
of whether it uses secure channel or different implementations in
mid-nodes. AQMoT and XRED can be affected if a secure
channel preferred which blocks both algorithms to read the
content as it is encrypted. "Coop" means cooperation between
source (sender) and destination where they both value current
conditions of each other. Besides AQMoT, ECN has also
cooperative approach where it signals the sender if it feels itself
as congested and sender behaves according to this signal.
Destination is clear about its condition to sender in order to push
it to coordinate. Other algorithms do not have such kind of
approach, they do not care about the opposite side. "Intelligence"
means that if algorithm runs some intelligent operation to save
itself from randomness, adapts itself to some conditions. For
example, PIE uses different approach at calculation drop function
by using queueing delay and its tendency to more or less. XRED
also uses content tracking to determine priority which is a simple
intelligence. ECN and RED algorithms are simple and constant
algorithms which do not change in any condition. On the other
hand, AQMoT has different decisions and results with respect to
many kinds of conditions as described before.
4. Conclusions
In this study, we propose a novel AQM algorithm which
specifically, efficiently and compatibly works in IoT domain. The
main aim is to avoid futile efforts of dumb IoT nodes, by throttling
them if they are exploiting too much resources by sending a lot of
low-priority data. For this purpose, we describe a novel lightweight decision-making process based on game theory, where
senders (sensors) get feedback from gateways, and make sending
decisions accordingly. In this process, senders and receivers are
also aware of priorities and contents of the packets. Thus, the
proposed approach has a potential of providing better quality of
service and fairness. To the best of our knowledge, this is the first
AQM approach based on game theory, which is specifically
designed for IoT networks. Although the proposed algorithm is
candidate to good results, it is still open to further development.
There are several operations that should be adjusted to find the
best practice, such as determining the ùëÑ values, the variables used
in game model and the occupancy function. Occupancy function
can be exponential or adaptive rather than linear which will be
further examined as a future work. Moreover, a detailed
experimental study is planned in an active IoT environment.
5. Acknowledge
This work is supported by Koc Digital R&D center.
References
Atac, C., and Akleylek, S. (2019). A survey on security threats and
solutions in the age of IoT. Avrupa Bilim ve Teknoloji Dergisi,
No. 15, (pp. 36‚Äì42).
Naik, N. (2017). Choice of effective messaging protocols for IoT
systems: MQTT, CoAP, AMQP and HTTP. 2017 IEEE
international systems engineering symposium (ISSE), IEEE,
(pp. 1‚Äì7).
Baker, F., and Fairhurst, G (2015). IETF Recommendations
Regarding Active Queue Management. RFC 7567.
https://doi.org/10.17487/RFC7567, URL https://rfceditor.org/rfc/rfc7567.txt.
, C., Mutlu, G., Kurtulus, D., and ozgur, F.(2019). Secure
Gateway for the Internet of Things. Avrupa Bilim ve Teknoloji
Dergisi, No. 16, (pp. 414‚Äì426).
Gomez C., J. C. (2019). TCP Usage Guidance in the Internet of
Things (IoT). IETF.
Floyd, S., and Jacobson, V. (1993). Random early detection
gateways for congestion avoidance. IEEE/ACM Transactions
on networking, Vol. 1, No. 4, (pp. 397‚Äì413).
Freed, M., and Amara, S. K. (2006). Policy-based weighted
random early detection method for avoiding congestion in
internet traffic. US Patent 6,996,062.
Feng, W.-C., Kandlur, D. D., Saha, D., and Shin, K. G. (1999) .A
self-configuring RED gateway. IEEE INFOCOM‚Äô99.
Conference on Computer Communications. Proceedings.
Eighteenth Annual Joint Conference of the IEEE Computer
and Communications Societies. The Future is Now (Cat. No.
99CH36320), Vol. 3, IEEE, (pp. 1320‚Äì1328).
Table 8. Overall comparison of algorithms
Content
Awareness Coop
Ease of
Deployment
Fully IoT
Compatible
Other
Domains Complexity
E2E
Semantics Intelligence
ECN No Sometimes Good No Yes Low High No
RED No No Good No Yes Low High No
WRED No No Good No Yes Mid-low High Yes
ARED No No Medium Medium Nearly Medium High Yes
GREEN No No Medium Mid-Low Yes Medium High Yes
XRED Yes No Medium Low Nearly Medium Medium Yes
PIE No No Good High Nearly Medium High Yes
AQMoT Yes Yes Medium Yes Some Medium Medium Yes
Avrupa Bilim ve Teknoloji Dergisi
e-ISSN: 2148-2683 180
Hassan, M., and Jain, R. (2003). High performance TCP/IP
networking, Vol. 29, Prentice Hall Upper Saddle River, NJ
Feng, W.-c., Kapadia, A., and Thulasidasan, S. (2002) GREEN:
proactive queue management over a best-effort network.
Global Telecommunications Conference, 2002.
GLOBECOM‚Äô02. IEEE, Vol. 2, IEEE, 2002, (pp. 1774‚Äì1778).
Pan, R., Natarajan, P., Piglione, C., Prabhu, M. S., Subramanian,
V., Baker, F., and VerSteeg, B. (2013). PIE: A lightweight
control scheme to address the bufferbloat problem. 2013
IEEE 14th International Conference on High Performance
Switching and Routing (HPSR), IEEE, (pp. 148‚Äì155).
Grazia, C. A., Patriciello, N., Klapez, M., and Casoni, M. (2017).
Which AQM fits IoT better?. 2017 IEEE 3rd International
Forum on Research and Technologies for Society and
Industry (RTSI), IEEE, (pp. 1‚Äì6).
Aumann, R. J. (1985) .What is game theory trying to accomplish?.
Frontiers of Economics, edited by K. Arrow and S.
Honkapohja.
Kuhn, H. (2016). Extensive games and the problem op
information. In H. Kuhn and A. Tucker, editors, Contributions
to the Theory of Games, (pp. 193‚Äì216).
Hu, S., Sun, J., Xu, Q., & Kong, J. (2020). A Fairness-driven
Active Queue Management Algorithm with Hash Table and
Circular Buffer. In 2020 Chinese Control And Decision
Conference (CCDC) (pp. 2502-2506). IEEE.
Verma, L. P., & Kumar, M. (2020). An IoT based Congestion
Control Algorithm. Internet of Things, 9, 100157
Pan, R., Prabhakar, B., & Psounis, K. (2000, March). CHOKe-a
stateless active queue management scheme for approximating
fair bandwidth allocation. In Proceedings IEEE INFOCOM
2000. Conference on Computer Communications. Nineteenth
Annual Joint Conference of the IEEE Computer and
Communications Societies (Cat. No. 00CH37064) (Vol. 2, pp.
942-951). IEEE.
Eshete, A. T., & Jiang, Y. (2013). On the transient behavior of
CHOKe. IEEE/ACM Transactions on Networking, 22(3),
875-888.
Lu, L., Du, H., & Liu, R. P. (2013). CHOKeR: A novel AQM
algorithm with proportional bandwidth allocation and TCP
protection. IEEE Transactions on Industrial
Informatics, 10(1), 637-644.
Abbas, G., Manzoor, S., & Hussain, M. (2018). A stateless
fairness-driven active queue management scheme for
efficient and fair bandwidth allocation in congested Internet
routers. Telecommunication Systems, 67(1), 3-20.
Hu, S., Sun, J., Liu, Z., & Xu, Q. (2018). A PI Queueing Delay
Controller Enhanced by Adaptive CHOKe for AQM. IEEE
Access, 6, 57219-57229.
Abstract
Rapid growth in mobile data traffic and technological improvements in mobile devices revealed the concept of collaborative Internet access via User Provided Networks (UPN). According to this approach, users with strong cellular connection share their own connections with other users that have limited or no cellular connection. However, in such services, one of the key issues is the users' willingness to contribute. In this study, we propose a novel incentive mechanism based on Rubinstein's sequential bargaining model. In the proposed scheme, incentives are given by the mobile network operator as virtual currencies, according to the bargaining of users and experienced quality of service. Decisions of users for requesting or offering UPN services depend on energy cost and utility estimations according to the actual communication signal parameters. For this purpose, we introduce realistic energy consumption and data rate models after performing extensive set of experiments and applying various regression methods. We implement the proposed system in a real environment and show its effectiveness in various scenarios.

Introduction
The growing popularity of online mobile applications has increased mobile data traffic dramatically. According to Cisco's forecast, global mobile data traffic will increase sevenfold between 2017 and 2022, reaching 77.5 exabytes per month by 2022 (Cisco, 2019). This huge increase in mobile data traffic reveals that Mobile Network Operators (MNOs) need to make a notable enhancement of capacity in their cellular networks. However, traditional capacity enhancement methods such as acquiring more spectrum licenses or expanding network infrastructure are time-consuming and costly, and also they may not be always applicable due to limited resources such as spectrum. Therefore, some MNOs try to cope with the increasing traffic load by applying high pricing or low-quality policies. However, this makes most of the mobile network users dissatisfied since they cannot receive cheap and/or high capacity Internet services. Therefore, it is clear that some innovative solutions need to be introduced. Recent technological advancements have contributed greatly to providing innovative solutions to address the growing mobile traffic load. For example, handheld user devices have been equipped with very advanced network interfaces, advanced antenna arrays and high-end processors that can execute complicated networking tasks and it is clear that these devices can offer communication services to the nearby devices and act as micro-operators. This reveals a new concept called User Provided Networks (UPN) (Sofia and Mendes, 2008).

In UPNs, unlike traditional infrastructure networks, users can act as both provider and consumer. When users act as a provider, they can improve the coverage and the service of traditional providers. UPNs have a great potential to reduce network congestion and network access costs. They enable to improve user-perceived network performance by utilizing unused capabilities without requiring significant additional network infrastructure investment (Sofia and Mendes, 2008; Coll-Perales et al., 2015). Recently, new UPN solutions have emerged which can be classified as autonomous services and network-assisted services. In autonomous services (such as Open Garden (opengarden.com)), mobile users connect directly to each other using their connections (and data quotas) without the intervention of MNOs. However, the usage of this kind of services can be restricted by some MNOs because these services may exploit resources of MNOs without any payment. This has led to the emergence of network-assisted UPN solutions such as Karma (yourkarma.com) and M-87 (M87.com). In Karma model, each subscriber can act as mobile Wi-Fi hotspot via a portable device and share the Internet connection with nonsubscribers, in turn, she earns a free quota or monetary credit for every client she serves. Each subscriber pays a fixed price for the data she consumes. In M-87 solution, mobile users can access the Internet over the devices of other users that are subscribers of the same MNO. Each user uses her own quota although she accesses the Internet via another user. Remote users can improve the quality of their connectivity by accessing the Internet via other users who have strong cellular connection. This is also profitable for the MNO, because serving a distant node is more costly in terms of signaling overhead and energy consumption. However, it is costly for the gateway users, since sharing the resources brings cost in terms of energy and bandwidth. Therefore, some incentive mechanisms are needed to encourage the users to participate in UPN systems. This is crucial for creating widely accepted and effectively useable UPN solutions (Iosifidis et al., 2014).

In this work, we mainly focus on network-assisted UPN solutions such as M-87, and propose a novel incentive mechanism based on Rubinstein's bargaining model which is a sequential bargaining scheme. In our bargaining model, users bargain according to instantaneous data rate which is an indication for quality of service. They agree on different amount of virtual currency (VC) per data for different service quality. In order to increase the success of an incentive mechanism, it is desirable to model the utility and cost of participants in a realistic manner. For this purpose, we implement a mobile application with connectivity sharing service and we collect large amount of experimental data on energy consumption and data rate of users for various signal parameters. While processing the collected data, we propose a new data flow separation technique that divides a data transfer process into states (such as silent, head, main, and tail), which is important for making more accurate modeling. Then we apply various regression algorithms for modeling energy and data rate of users that involve in a UPN system as clients, gateways or nonparticipating standalone users. Finally, based on the resulting models and proposed bargaining scheme, we examine the utility, cost and profit of users cooperated in a real UPN system implemented on smartphones. Our proposed model is beneficial for both network providers and participants and it is also adaptive to the network changes.

Main contributions of our work can be summarized as follows1:
‚Ä¢
We present a novel realistic sequential bargaining model, such that Rubinstein bargaining is executed based on estimated data rate and energy consumption values, while it is updated according to experienced values. Incentives are given according to experienced quality of service rather than estimated values, which increase truthfulness and robustness of the system. Moreover, our model reflects actual quality of service in a more accurate way since we model costs and utilities as function of data rates as opposed to most recent studies which define them as function of received data.

‚Ä¢
After collecting extensive set of data in a real test environment, we provide several energy and data rate models with respect to LTE and Wi-Fi signal characteristics for standalone nodes and gateway nodes in a UPN system. To the best of our knowledge, this is the first study that provides energy consumption modeling with respect to various LTE signal characteristics.

‚Ä¢
We propose a novel data flow separation technique to separate data transfer process as head, main, tail and silent states, which yields true evaluation of quality of service.

‚Ä¢
We run the proposed system in various real environment scenarios to demonstrate its effectiveness.


The rest of the paper is organized as follows. Section 2 discusses related work. In Section 3 we describe our UPN model and present our system architecture. In Section 4 we describe the proposed bargaining approach, virtual currency system and protocol operations. In Section 5 we explain the details and results of the experiments and describe data flow separation techniques. Also we present the energy and data rate models for both standalone and gateway nodes and evaluate the performance of the models. In Section 6 we present an application scenario of our bargaining scheme, and finally, Section 7 concludes the paper.

Section snippets
Incentive mechanisms for UPNs
Incentive mechanisms play critical role in users' willingness to contribute to a UPN system. Several incentive mechanisms have been studied in the context of wireless mesh networks (Wu et al., 2008; Zhang et al., 2010) and ad hoc networks (Butty√°n and Hubaux, 2003; Iosifidis and Koutsopoulos, 2009; Crowcroft et al., 2004), but the results are not directly applicable to UPN systems due to several reasons. Firstly, those studies do not consider different types of services (such as LTE and Wi-Fi)

UPN model
In our network model, there are basically two types of nodes: clients and gateways. A client is a consumer node which demands mobile data and her Internet connectivity is limited or she has no connection at all. A gateway is a provider node which is directly connected to a base station and has a strong cellular network connection (e.g. LTE). She shares her Internet connection with demanding neighboring clients, while those clients use their own assigned quota. Gateway and client nodes are

Bargaining approach
In this section, we describe utility and cost functions used in the bargaining model, as well as the details of proposed sequential bargaining approach based on a virtual currency system. Brief descriptions of the symbols used in this section are given in Table 1.

Tool and environment
We have developed an Android application that enables smartphones to communicate with each other via Wi-Fi Direct and to share the LTE Internet connection with others via the Wi-Fi hotspot. The application measures voltage, current, LTE/Wi-Fi signal parameters and amount of downloaded data in every 100 ms. It also calculates power spent, net consumed energy and data rate on a smartphone during the data downloading. In order to check the accuracy of the software application's energy

Application of Bargaining module
In this section, we demonstrate an application scenario of the proposed bargaining scheme on real smartphones (Samsung Galaxy J7) using the presented energy and data rate models.

Our case study for bargaining procedure between gateway and client nodes is described as follows. The instantaneous LTE signal parameters of gateway and client nodes during the bargaining are given in Table 11. Also, the link speed Lgc between the gateway and the client is 65 Mbps during the bargaining. The client

Conclusion
In this work, we proposed a practical and realistic incentive mechanism for operator-controlled user provided networks, which is based on Rubinstein bargaining between participating pairs. In order to provide realistic utility and cost functions, we carry out extensive set of experiments and present energy and data rate models with respect to communication signal parameters, for both standalone and collaborative Internet access. Using these models, we implement real scenarios where users agree
DOI: 10.17671/gazibtd.558392
Abstract‚Äî Building or transformation of an enterprise software system is an onerous process which requires a precise
definition of business demands. Then to enable the satisfaction of business requirements, the well-thought-of and
convenient software architecture must be determined and designed. According to common sense, there are two methods
to be followed in order to find the right solution for a problem. One is to handle the problem as a whole; like the
traditional monolith architecture. The second method is to divide the problem into easily understandable and soluble
fine-grains. If the second path is chosen in the software world, microservices architecture can be shown. When the
entire enterprise-level system design is considered, to the best of our knowledge, there is no any leading empirical
research on the evaluation of software architectures, selection of communication protocol, data formats, and database.
In this paper, an easily scalable, maintainable, highly-available, reliable and observable software system is designed by
comparing variant architectures, communication methods, and data models that would help to choose the most
appropriate architecture or model for the right purpose. All the paper is about designing a backend API system. The
client types or technologies are out of scope.
Keywords‚Äî microservices, software architecture, queue-based communication
1. INTRODUCTION
The passing years in software engineering forces us to
find better ways of developing and deploying software
applications. Every company in this sector has been
developing with the help of lessons learned, as well as
observing new generation technology companies like
Google, Amazon and Netflix to gain favor from their
useful and successful approaches. The spread of
technology usage provides opportunities, which can be
captured rarely and of which millions of people seek. In
general, the hardware and software architectural
limitations block old fashion, big and indolently evolving
companies to catch the trend of change. The softwarebased products started to respond to customers‚Äô demands
by improving their software development lifecycle
(SDLC), increasing release count and decreasing
deployment duration. In order to make development
faster, and to release resilient software products, the agile
software development methodologies emerged. Agile
development approach focuses on the development itself
by caring individuals and interactions, working software,
customer collaboration, and responding to change [1].
Agile approaches are supported with cloud computing and
DevOps principles in order to shorten time to market [2]
and to serve higher throughput and increased availability
[3]. With the integration of these terms, Continuous
Software Engineering (CSE) approach arises. CSE is
defined as constructing an automated pipeline which
permits aggressive increasing of the frequency of
successful deployment in enterprise-level applications,
provided with proper tooling [4, 5] and proper testing [6,
7]. CSE optimizes the SDLC as the five continuous
practices including continuous planning, continuous
integration, continuous testing, continuous deployment
and continuous monitoring [8].
To meet the customer‚Äôs sectoral expectations, the
successful and innovative companies must be facilitated
with a well-designed, strong, resilient and agile software
architecture and platform which centralizes core
architectural features and makes easy to develop software
products focusing barely the development of business
requirements itself. For this purpose, microservices
architecture (MSA) is proposed which is a brand-new
approach that separates domain-specific applications into
smaller deployable services to facilitate continuous
integration, scalability, and reliability. Each of these small
services runs in its own process and communicates
through lightweight mechanisms.
In this paper, we suggest and evaluate a flexible
microservices-based software design on the enterpriselevel that allows companies to come to the fore. We first
compare the features of our design with some of the
trendiest existing microservices frameworks and then
provide a thorough comparison of the performance of our
proposed microservices-based design and traditional
monolith architecture.
1.1. Related Work
In the literature, there exists a variety of research studies
in the context of micro-services architectures. Aderaldo et
al. [9] focus on selecting a community-owned architecture
benchmark to support repeatable microservices research.
Takanori et al. [10] analyze the behavior of two versions
of the benchmark, microservice and monolithic. Amaral
et al. [11] aim to compare the CPU usage and bandwidth
utilization benchmarks in the monolithic architectures
where the whole system runs inside a single container, or
inside a microservices architecture where one or few
processes run inside the containers. Hence, the two
models of microservices architecture provide a
benchmark analysis guidance for system designers.
Authors define the steps to construct microservice-based
service software [12,13]. However, the defined steps
include only some high-level suggestions for the
determination phase of the general software microservice
layers without giving detailed information about building
the entire design. Boner discusses strategies and
techniques to build scalable and resilient microservices
and design the communication model [14, 15]. In general,
while studies focus on microservices architecture (MSA),
they do not dig into the inner detail of architecture [15,
16, 17]. The given examples do not provide enough
information and comparison to develop the right solution
in MSA point of view. Soylemez and Tarhan mention the
pros and challenges of MSA and gives alternatives to the
ready tools and approaches to overcome the challenges
[18]. The researchers define a monolith application and a
microservices-based web application [19]. Then they just
compare the cost of the monolith and MSA from the
development and deployment perspectives. Yamuc and
Surme design a microservice-based satellite ground
software system focusing on 12 factors and set the
migration strategies from monolith to MSA [20]. Tang et
al. [21] design a system architecture for the garment
sector using an asynchronous communication mechanism
focusing to decompose the asynchronous sectoral
business operations. Pinheiro and friends compare the
standard monolith and MSA from the point of enterprise
architecture governance and then define the governance
principles, responsibilities, and product scopes of the
MSA [22]. Huang et al. [23] build an MSA and defines
the common points of microservices. In this paper, they
focus specifically on the load balancer optimization and
they propose a dynamic scheduling algorithm based on
unary linear regression. Akbulut and Perros [24] analyze
the performance of MSA carrying on three different
microservice design patterns. They also describe when
asynchronous communication should be preferred, and
which design pattern should be used to increase the
hardware usage efficiency and contribution to green
computing while decreasing hosting costs.
There are also numerous practical microservices
frameworks such as Spring Boot team‚Äôs Spring Cloud
[25], Eclipse team‚Äôs Vert.x [26] and Alibaba‚Äôs Dubbo
[27]. All these frameworks are developed to simplify the
development of distributed software architecture like
microservices. Those preserve ready to use components
Bƒ∞Lƒ∞sƒ∞M TEKNOLOJƒ∞LERƒ∞ DERGƒ∞Sƒ∞, Cƒ∞LT: 13, SAYI: 4, EKƒ∞M 2020 359
including API gateway, load balancer, service registry
and discovery, security, fault tolerance and service
governance. They are all focusing on helping developers
code applications and presenting their documentation to
comfort the usage of their features without giving interior
detail about the implementation of the components.
1.2. Motivation
As a first step towards filling the gap of a detailed
enterprise-level microservice architecture design
documentation, this study proposes, compares, discusses
and illustrates the use of proper architecture, protocol,
data format, web server and deployment methods for a
green-field project implementation of an enterprise-level
application with the following design considerations:
‚Ä¢ The system needs to be scalable. The system should
be able to grow horizontally up to 50 times of its
initial load.
‚Ä¢ The system needs to be highly available. There
should be no single points of failure. The required
uptime is about 99.5%.
‚Ä¢ The system must be maintainable in the following
sense: The impact of any change to the system must
be easily predictable and reversible; as such, risks
should be foreseeable and containable.
‚Ä¢ The system should be resilient to failures in the
following sense: Any failures should not cause
unspecified operations, and the business state of the
system should always remain consistent.
‚Ä¢ The response time to a user request is constrained to
be less than 600 ms time to first byte (TTFB).
‚Ä¢ Business processes should be easy to implement,
modify, route, measure and report.
‚Ä¢ The whole system should be monitored for
interactions, transaction times, and errors.
For the proposed architecture of this design problem,
various concepts, methodologies and patterns like MSA,
queue-based messaging, Representative State Transfer
(REST) services, message formats and conversion
methodologies, data persistence systems (RDBMS,
NoSQL) will be analyzed, compared and considered.
The rest of the paper is organized as follows: Section 2
presents the determination of technology stack for the
satisfaction of the paper motivations. Section 3 provides a
design of the proposed architecture in various aspects.
Section 4 exhibits the evaluation and comparison results.
Section 5 concludes the paper with the gained experience
and research topics that address the open points for
improvement.
2. METHODOLOGICAL CONSIDERATION
Creating a software product is always risky.
Unfortunately, there is no fitting solution for all cases.
Each initiative tries to create a product to figure out a
problem or run and orchestrate complex operation. Hence,
while you are building an enterprise-level application
from greenfield, you must assess the alternative
approaches of a sub-challenge from different aspects. In
this section, the possible tools, approaches and protocols
are reviewed in order to design an enterprise-level
software architecture which has the properties mentioned
in the previous section.
2.1. Architectural Evaluation
The market trends and technologies dominate IT systems.
The evolution of the digital ecosystems forces them to
react to the ever-changing context of the business models.
Adaptation is the only way for technology companies to
survive [17]. The enterprise architects work on
transforming their enterprise architecture (EA) to hold
their companies on to life. To be agile and pioneer, the
architecture of enterprise-level applications should
support promising initiatives.
Firstly, let us introduce basic definitions and prominent
properties of the monolith and MSA by referring to the
pros and cons of both approaches.
2.1.1. Monolithic Architecture
Traditional enterprise-level software systems are
commonly designed as monoliths‚Äîall-in-one, all-ornothing [14]. The monolith is defined as ‚Äúa software
application whose modules cannot be executed
independently‚Äù [28]. The simplest form of the architecture
runs all the bundled functionalities on a single layer.
Essentially, the monolith approach is the style of
development applications in this way. The simplicity
which comes from the form of the single unit application
conforms many small startup teams, then they build selfcontained software applications. In most cases, the
components or services of the monolith are combined and
linked as a unified solution [29, 30]. However, the
traditional EA has essentially three different layers which
are shown as a combined monolith API component in
Figure 1. The presentation layer provides an interface of
so-called frontend to the client. The business logic layer
contains workflows to drive the procedural logic for
business purposes. The last one is the data access layer
which abstracts the database from the upper layers serving
the data access and control abilities. This segregation
somehow aims separation of concerns (SoC) principle to
work on parts of the monolith architecture [31, 32].
The monolithic architecture eases doing business when
the scale or complexity is out of context. It has been a
well-known structure for a long time. Therefore, there are
many tools and applications which can ease the
development. Besides its convenience, the core of
application runs in a single directory. This allows
developers to release easy and newly implemented
version at once. In addition to this, all software
infrastructural operations such as authorization, logging,
exception handling, and rate-limiting are integrated into a
single code base, which requires less effort to implement.
Its performance is better when it is compared with the
360 Bƒ∞Lƒ∞sƒ∞M TEKNOLOJƒ∞LERƒ∞ DERGƒ∞Sƒ∞, Cƒ∞LT: 13, SAYI: 4, EKƒ∞M 2020
service-based alternatives because the monolithic
application is being run on the same host and memory. By
this way, the communication overhead between
components which determines the response time is kept
minimum. The scalability concern can be handled simply
by running multiple instances of the monolith application
behind a load balancer [31].
Figure 1. A standard monolith architecture design
So long as the code size and complexity are relatively
small, the monolithic applications work quite well. The
problems arise when some feature of sets of the tightly
coupled domains need to be scaled up. Over time,
multiple developers can frequently develop on the same
codebase concurrently. The added new features make the
code more complex and establish new dependencies
between the code scopes. This extreme dependency of the
code blocks turns into the code spaghetti which becomes
too tough to understand how the current business flows
and makes harder to map relations among modules,
especially for new developers who join the development
team. By nature of the unified architecture of the
monolith, the developers could face difficulties to work
independently and they require much more collaboration
which decreases efficiency and productivity.
There are lots of tools and languages to develop software
applications. To extend the number of development team
members effectively is possible only by hunting talented
developers. Addition to the difficulty of reaching talented
candidates, their knowledge and/or experience level of the
programming language are other possible obstacles. If
you tend to use a new language or technology, you must
rewrite the whole application. Technology and language
dependencies might be considered as another drawback in
competitive environments.
The agility of the architecture may allow degrading the
time to market by using a variety of frameworks and
languages apart from the existing ones. Code merging,
building, unit and regression testing and deployment may
cause a considerable increase in deployment preparation
and deployment time. As we publish the monolithic
system as a complete, possible development or testing
mistakes may increase downtimes and failure cost [4].
Scaling is another obstacle and it costs systems in which
the number of transactions per hour fluctuates. Since the
monolith does not have a modular structure, the entire
application needs to be scaled rather than only the mostly
used parts of the application. Such a scaling process
requires more hardware resources.
All these negative effects of monoliths have been
catastrophic for companies. Hiring talented developers is
one of the key parameters affects the results of projects
and time-to-market. Typically, top talented developers do
not prefer struggling with architecture caused problems to
keep the legacy systems stable for a long time. Production
environment thrashing causes low morale. This may also
have high effects, from an increase of turnover rate to the
failure of a company [28].
Consequently, the monolithic architecture is not
completely useless. Due to the complications it holds, this
architecture is not proper for the model we design for mid
or big level enterprises.
2.1.2. Service-based Architecture
Software engineering always defies to the challenges of
software development that impact the future success of
digital solution providers and the created applications. In
the middle of 2000s, SOA concept [33] was defined as an
architectural style which supports service-orientation.
Service is a self-contained reusable representation of the
group of domain functions which are bundled according
to the extracted data from the results of services has a
well-defined interface. MSA and SOA are called as
service-based architectures. By these innovations, a lot of
cutting-edge technology companies started to transform
their EA to the first form of SOA. The adoption of new
architecture facilitated better-designed and reusable
business functionality service. SOA led to implementing
many development tools to help service modelling and
orchestration transform and develop. After a while, the
failed software architecture transformation projects
demonstrated how difficult to model services, settle interservices communications and implementation cost of
SOA [34]. Then, microservices became a popular topic.
With MSA, software architects started to change their
mind and spend more time to create decentralized subdomain of a product which is fully responsible for its
functionalities block of that sub-domain instead of
designing ‚Äúnot well-grained‚Äù, ‚Äútoo big domains‚Äù [35].
Although MSA and SOA are not the same EA, they have
the service contracts, service availability, security and
transaction management characteristics of the servicebased distributed design [35].
2.1.3. Microservices Architecture
As Object-Oriented programming has become the
dominant paradigm, an abstraction of the code block and
their business-oriented functionalities have started to be
provided by services. This approach encourages the
Bƒ∞Lƒ∞sƒ∞M TEKNOLOJƒ∞LERƒ∞ DERGƒ∞Sƒ∞, Cƒ∞LT: 13, SAYI: 4, EKƒ∞M 2020 361
adoption of Service Oriented Architecture (SOA) which
serves some business-specific functionalities via an
interface. Application of SOA in enterprise-level systems
is followed by Domain Driven Design (DDD) approach
[14]. As OO architecture and DDD were promoted by
Single Responsibility Principle (SRP) [36], microservice
alike architectures emerged.
Fowler and Lewis define the MSA as an approach for
developing a single application as a suite of small
services, each running in its own process and
communicating with lightweight mechanisms, often an
HTTP resource API [37]. MSA is built around domainspecific business functionalities and employs a full-stack
implementation of software for its business area [38, 39].
As it is depicted in Figure 2, each of the services can be
run independently on its own environment by connecting
to a lightweight inter-service communications
infrastructure [40].
Figure 2. Microservices architecture design
2.2. Monolith and Microservices Comparison
Microservices is proposed as the opposite approach of the
monolith. If the simplicity is your focus, then monolith
may be the way you follow at the first stage. The
approach expedites simpler building and deployment.
When the size of an application is getting bigger, the
application‚Äôs development team must be enlarged. After
that, the complexity of the single application increases,
and the progress requires to run the parallel SDLC phases.
If the scaling is an issue which must be overcome,
running copies of the single large application concurrently
may cause the bottleneck to handle the high-volume
transactions. When the low understandability of the large
codebase and the low quality of code problems are added
to the existing ones, the monolithic approach blocks the
implementation of code independently and reduces the
productivity dramatically.
On the other hand, microservices is getting popular in
many companies in recent years. Transformation of the
software architecture leverages the opportunities of cloud
computing and X-as-a-services infrastructures. MSA
approach shines with its artifacts like developing and
deploying independently, allowing to change the business
management methodology through an agile-wise path.
Now, we mention about the common motivations that
drive several practitioners to embark architectural
transformation from monolith to microservices.
Popularity: Microservices is a cool trendy topic. Within
every technical conversation, MSA is touched upon at
least once with the microservices success stories of large
companies. In that case, several attempters of
microservices confessed that the popularity of the
microservices is the only reason to apply that in their
companies [41, 42]. In recent years, Internet-of-things
(IoT) has become another trending topic in the IT world.
Many of the requirements of IoT [35, 43] are addressed
by microservices. The relation between those topics also
contributes to spreading the popularity of the
microservices.
Scalability: Scalability would be one of the biggest
expenditures in mid-sized or bigger companies. Running
huge monolithic application entails large expenses, in
case an improvement of performance for a specific
function of the overall application is required. The
modular and relatively small service structure of
microservices allows scaling only the expected parts of
the big application requiring allocating less hardware to
be executed. Figure 3. SOA Scaling shows how the
monolith and MSA can be scaled.
When the scaling operation is automated over an ondemand cloud platform supplier, test results show that a
specifically designed auto-scaled deployment mechanism
of microservices can reduce the infrastructure cost up to
70% in comparison the cost of monolith scaling [19].
a.Monolith Scaling b. Microservices Scaling
Figure 3. SOA Scaling
Reusability: Each service in MSA does not execute
domain or business-specific operations. Some of them are
responsible for running infrastructural operations like
authorization, authentication, logging, monitoring,
exception handling, rate limiting, load balancing. You can
reuse these services not only in a single product, but also
in all products a company develops.
Container and DevOps: Container is a host, where we
run the application by allocating the required resources
for the application. DevOps is the set of techniques to
integrate the phases of SDLC from implementation to
deployment. The granularity of microservices supports
the building of the proper environment to adapt DevOps
362 Bƒ∞Lƒ∞sƒ∞M TEKNOLOJƒ∞LERƒ∞ DERGƒ∞Sƒ∞, Cƒ∞LT: 13, SAYI: 4, EKƒ∞M 2020
principles. These facilities simplify the developer‚Äôs life
from the aspects of deployment, monitoring, managing,
and recovering services [44].
Resiliency: Fault tolerance is one of the most important
benefits of MSA. In case of failure of a component in
monolith architecture, all the functionalities terminate,
and the system is totally broken by the failed component.
In contrast, MSA embraces to build isolated environment
for each service. Hence, the failed part does not impact
the whole system. To prove more resiliency to the system,
the circuit breakers pattern [45] should be implemented
and additionally, auto restarting mechanism of the failed
service empowers fault tolerance.
Technology Stack: The hosted potential risk of using
new technologies is one of the biggest barriers to adopt
[46]. Within microservices, small components enable to
show how new advancements of technologies enhance the
current system. Thanks to the polyglot nature of
microservices, you can try new programming languages
or even new databases or newly released framework, as
well without affecting the whole system to observe the
improvements.
Time to Market: MSA shortens time-to-market of
developed products [47]. Small teams can be more
productive when they are working on a correspondingly
small code base due to their augmented mastering on the
specific business domain. They can develop
independently.
Replaceability: Microservices can be consumed via
predefines interfaces. So long as a service offers the same
defined interfaces, each service can be replaced with its
new version.
Maintainability: The granular structure of MSA leads to
a reduction in the complexity of code. If the code contains
just a few hundreds of lines, it will put across the flow of
business or the relations between code blocks. However,
the developers can understand easily and do not hesitate
to change the code when it is required. Otherwise, any
maintenance or change the developers perform could
cause unexpected failures.
In addition to the valuable benefits, MSA requires
inevitable extra cost by opening the door of complexities
in comparison to the monolith. Few of these issues are
related to architecture design, like dividing too large
systems into MSA style consistent sub-domains,
determination of combination business capabilities that
have to be served together, bounding data layer to make
the microservice completely isolated, service registration
and service discovery, message dispatching, event-based
communication, queueing, finding the right client instance
after asynchronous response fetched. The cost of MSA
does not remain limited to the above-mentioned design
time costs. Extra machinery, developers, tools, and
platforms bring extra cost so that MSA is not suggested
when you have fewer than about 60 people working on
your system [48].
3. PROPOSED DESIGN OF MICROSERVICES
ARCHITECTURE
The goal of this paper is to design a microservice-based
architecture that targets to create a scalable system to be
able to grow the system horizontally up to 50 times of its
initial load. Also, the required uptime is about 99.5%, so
no single point of failure is accepted. That means the
system needs to be highly available. Another important
point that should be emphasized is that the impact of any
change to the system must be easily predictable and
reversible. In another meaning, any failures should not
cause unspecified operations, and the business state of the
system should always remain consistent. The response
time to a user request is constrained to be less than 600
ms time to first byte (TTFB) and business processes
should be easy to implement, modify, route, measure, and
report. Finally, the whole system should be monitored for
any interactions, transaction times, and errors.
To transfer technology comparison results into practice,
we have implemented a prototype carrying out MSA with
a message-driven development approach as shown in
Figure 4.
Figure 4. Proposed Enterprise Software Architecture
Design
The outcomes and the real environment of the
implemented architecture are discussed in the following
Bƒ∞Lƒ∞sƒ∞M TEKNOLOJƒ∞LERƒ∞ DERGƒ∞Sƒ∞, Cƒ∞LT: 13, SAYI: 4, EKƒ∞M 2020 363
section. However, there are some possible complication
areas in the study, and they are grouped as
communication, service registry and discovery,
modularity, security, and database selection. They are
explicitly discussed to resolve possible problems.
3.1. Communication
Enterprise software systems are built for making the
operations of the organization easy by interacting with
lots of integration ends. Basically, these systems get
inputs, interpret, and process those values for giving them
meaning and share the result of the technical operations
throughout the interaction point.
Before giving detail about the efficient possible solutions,
it would be better to define the systematic communication
types. The interaction types can be split into two different
dimensions [49]. Each dimension invokes two options.
The options for the first type of interaction are one-to-one
and one-to-many transmission. These two options are
distinguished by the number of the processor instance of
the request. It is called one-to-one interaction if the
transferred request is processed by only one service
processor. If each request is processed by multiple service
instance, then we call the interaction as one-to-many. The
other dimension of communication contains synchronous
and asynchronous options. In synchronous
communication, when the client sends a request, the
interaction between the client and the server is blocked
until the service returns the corresponding response of the
incoming request. Conversely, the client is not blocked
while waiting for the reply in asynchronous
communication.
3.1.1. API Gateway
Each backend system must provide a common facade
regardless of the architecture of a system to make
accessibility and integration easy. There is no easy way to
manage the interaction points of the enterprise systems. In
compliance with the microservices approach and not to be
considered as an antipattern [24] of MSA, we minimize
the dependencies while creating the API gateway
proposed enterprise application. So, the proposed system
must have a common interface is called as API gateway to
serve the service method to the variant client-side
applications like mobile, web or other service
applications.
Two sides of our API gateway communicate on
request/response mechanism. The request involves the
parameters of the queried entities or the input data to
trigger a transaction to insert or update something. The
HTTP protocol is one of the most known protocols all
over the world and has well-defined standards evolved to
satisfy many kinds of demands. Due to the nature of
HTTP, request/response communication is carried on
synchronously. HTTP supplies such type of
communication through blocking and awake style.
REST is an architectural pattern to ease web service
development [50, 51]. Its popularity comes from its
simplicity and its capacity to be built in HTTP features.
Everyone who uses HTTP can easily use REST, as well.
REST-based web services can be implemented in all
programming languages which is capable to send and
receive HTTP requests. Due to the REST-based
framework which provides quick development of web
services, it is pervasive, and it is almost used as the
default communication protocol for MSA based
applications in the EA world. Although there is no reason
to do that, REST is widely used in a synchronous way.
REST provides a kind of resource-oriented
communication approach. The idea behind REST is to
store resource to the server-side and the to get, update or
delete this resource using HTTP methods. Unlike Simple
Object Access Protocol (SOAP), REST does not dictate a
descriptive document like Web Services Description
Language (WSDL) to define the input and output
parameters before calling web services. It is crucial that
REST lacks state management mechanisms. Since all the
operations must be stateless because the server-side does
not know anything about the state information between
requests and responses. The state management should be
handled on the client-side.
We design API gateway as a RESTful web service to ease
the use of service methods by providing an interface. We
aimed to keep the API gateway as simple as possible in
our design. For simplification purpose in development
and service calling from the client-side, we introduce
below restrictions for the usage of the API.
‚Ä¢ HTTP POST is the only method our API accepts.
This enables us to isolate the gateway from the
business domain. Therefore, there is no need to
write code in the API gateway codebase while you
are developing the enterprise-centric tasks.
‚Ä¢ The first part of the URL is kept fixed. Only the last
part of it can change regarding the action taken by
the client. We called the method name as the intent
of the client.
‚Ä¢ Identification and authentication operations are
handled inside API.
Figure 5. Request lifecycle in API Gateway
As it is shown in Figure 5, the API runs identification and
authorization operation and API pushes the requester
364 Bƒ∞Lƒ∞sƒ∞M TEKNOLOJƒ∞LERƒ∞ DERGƒ∞Sƒ∞, Cƒ∞LT: 13, SAYI: 4, EKƒ∞M 2020
thread to a dictionary with a unique message ID to force it
sleep until it receives its response via response queue
while taking HTTP request timeout into account. Then
proceeds transformation of the transmitted data via HTTP
post-operation to a predefined system message with a
unique message ID and sets the message intent with the
posted method name. The final task of the API after the
invocation of the received event is writing the generated
JSON message to a queue.
3.1.2. Messaging Data Format Selection
In principle, REST does not care what the transferred data
format is. All the data formats which HTTP protocol can
transmit are allowed, such as XML, HTML, Protocol
Buffer and JSON (which is the most favorite). Protocol
buffer, JSON and XML can be alternatives for the datainterchange format of message content transportation.
Protocol buffer is the fastest one to process and the size of
data with the same information is smaller than the others.
But decoding the encoded data is hard without the
schema. The formatted data is dense, and it cannot be
called as human-readable. XML is the most humanreadable one. Unfortunately, it contains superfluous
attribute beginning and termination tags causing an
unnecessary increase in the size of transferred data. JSON
is less verbose according to XML. It decreases the data
size by removing attribute tags. Instead, brackets and
curly braces are used to begin and halt a JSON
component.
We prefer to use JSON because the size of the JSON is
smaller and it is more human-readable. All the messages
travelling throughout the system are in JSON format.
3.1.3. Inter-service Communication
In MSA, all the microservices are applications that are
running on their own and they must have a messaging
network to communicate with internal or external
applications [49, 18]. In our proposed design, we offer a
synchronous RESTful-based API gateway to manage the
outer interactions. There are two options to handle interprocess communication (IPC). The microservices can
communicate over a synchronous request/response
principle like our API gateway is doing. Alternatively,
IPC can be carried asynchronously out publish/subscribe
principle like Advanced Message Queueing Protocol
(AMQP).
Although HTTP is a simple, standardized, well-known
and widely used protocol which supports synchronous
request/response, most of the transactions in an enterprise
system do not require sets of fully synchronized
operations. The asynchronous messaging allows
processing a large volume of data when the client-side
does not expect an immediate response [24]. Just as a
well-designed asynchronous communication can pretend
to work as if it is synchronous. The vice-versa is not
possible. In this regard, the asynchronized queue-based
communications, which might be applicable, serves a
reliable platform and functionalities to establish a
buffered message-driven IPC between loosely-coupled
microservices.
Among the alternatives like Kafka, MSMQ, ActiveMQ,
we select the open-source RabbitMQ [52] as the message
broker since it is the most used one and it implements the
AMQP. Besides, taking responsibility for load balancing
with already implemented distribution algorithms, this
communication type makes the system more resilient to
failure by keeping messages in queues in downtimes of
the system. It also provides the state of the messages [24].
Furthermore, it eases scaling by supporting a publishsubscribe messaging infrastructure.
In addition to all the mentioned advantages of the queuebased message-driven communications, this method
causes higher communication latency in comparison to
that of HTTP. While it is easy to call a method from
another component in a monolithic application, one might
have difficulties on implementing a system to handle calls
from another microservice by distinguishing inter-service
messages from common bus messages with a private
queue as it is depicted in Figure 6. Private queue usage
for inter-microservices communication.
Figure 6. Private queue usage for inter-microservices
communication
3.2. Service Registry and Discovery
Despite all the benefits MSA offers, excessive
challenging development tasks are accompanied by these
benefits due to the dynamic nature of distributed systems
[14, 15, 20, 45, 53, 54]. While dividing the system into
smaller applications can ease the management of the
business, addressing of dynamically scaling service
instances is turning into expectedly a tremendous
obstacle. Unlike SOA, maybe the most compelling
challenge is service discovery in MSA. SOA often figures
this problem by implementing service discovery as a task
of Enterprise Service Bus (ESB).
Service registry is the first step of service discovery
operation. There must be an enterprise-level common
repository which is accessible by all the distributed
Bƒ∞Lƒ∞sƒ∞M TEKNOLOJƒ∞LERƒ∞ DERGƒ∞Sƒ∞, Cƒ∞LT: 13, SAYI: 4, EKƒ∞M 2020 365
services in MSA for storing information about the set of
instances of each microservice. This repository must be
kept up to date to present seamless service discovery.
Service discovery is the mechanism which determines the
current addresses of each microservice instance to the
requesters by looking up regarding the requested service
information in the system-level service registry
repository. This mechanism [39] is an obligation which is
revealed from the effort of microservices to keep the
dependencies of the services loosely coupled. Service
discovery fundamentally is an ability to find all the
services each other at run-time.
We implement a message router component with the
name of ‚ÄúMessage Director‚Äù. The API gateway receives
and converts the requests from HTTP to AMQP protocol
and then writes the messages to the message director
queue. The message director is the only component that
manages all queue communications at the backend. This
includes forwarding all the messages to the relevant queue
by checking the intent property of the message. Message
director must keep an intent-to-queue routing table up to
date to transmit messages to the corresponding queues.
We store the mapping table in RAM and if it cannot find a
corresponding registry for an intent in its routing table
then it asks the intent-to-queue registry to a global cache
manager to achieve reliable message routing. When the
registry record of an unknown intent cannot be obtained
from the global cache manager, an exception is thrown to
inform the client about the situation.
Besides, bridging the client request and corresponding
microservice, it logs every request and response messages
while performing the routing process. If it is intended, this
module allows us to write specific rules to monitor the
state of the system or to generate alerts for specific
actions.
3.3. Modularity
The basic principle lies under MSA is ‚Äúdivide and
conquer‚Äù [14] by breaking the systems into bounded
subsystem contexts. The determination of boundaries for
each microservices states the artifacts of using
microservices. The performance of the designed system
depends on how the boundaries of microservices are
drawn to maximize the advantages and to avoid
downsides as much as possible. The study in [29]
suggests following the boundaries of the data model to
determine the boundaries of microservices. In this
approach, each microservice must have a private set of
tables or a private database schema or a private database
which are not able to be accessed directly by other
microservices.
While microservices are being modelled, loose coupling
and high cohesion [46] are two key points which should
be considered to maximize the upsides. These approaches
identify the way which makes the change of a
microservice easier and faster. In that way, any change of
a microservice should not need a change of any other
microservice. The high cohesion is the other goal which is
needed to be supplied with centralizing domain-centric
related operations in a service. This approach also keeps
related codes within a service and reduces coupling.
The microservice is a kind of small application to handle
a specific task or a set of tasks in a domain and the
architecture comes with mentioned coupling and cohesion
problems. To be able to design a successful MSA,
overwhelmingly Distributed Reactive System approach is
proposed. Reactive mechanism [15, 55] is a system that
focuses on asynchronous messaging for distributed
architectures to help build isolated and highly
collaborative services. It is a message-driven-based
architectural approach [46] which composes the results of
multiple calls together to run operations. The calls can be
synchronous or asynchronous and the principle idea under
this approach is to emit the required data from different
resources and push them asynchronously when the results
become ready.
In the proposed enterprise-level MSA design,
fundamentally the reactive programming is used to
decompose each request into multiple discrete steps. Each
microservice communication has been carried out over
AMQP protocol while it can be written in any
programming language. The microservice emits the
message by subscribing to the predefined queue and
extracts the intent of the message to decide the related
inner method to be invoked dynamically. This domainspecific application generates a proper response to each
request and publishes the response message to the
message director queue.
Each microservice must register all the service methods
that are implemented in it on the global service registry
repository at its booting phase. By that way, the service
discovery operation is figured out. The service registry
record contains the name of the service method and the
queue name that the microservice subscribes. If there is a
registry record and if it requires an update, it is updated.
Then, the booting microservice informs the message
director module about the change to revise its intent-toqueue routing table. After the service registration process,
all the related client request can be forwarded to the
correct microservice by message director.
3.4. Security
Security is a major challenge in distributed systems. The
key benefits of distributed systems or MSA such as
granularity, easy deployment, inter-service
communication result in new security gaps and
specifically, small pieces of MSA expand the security risk
surface [28, 56, 57, 58]. Each IT system promotes a
security layer according to the sensitivity of its content or
operations.
Though the security of an organizational system has been
combined as multiple security levels, protection efforts
366 Bƒ∞Lƒ∞sƒ∞M TEKNOLOJƒ∞LERƒ∞ DERGƒ∞Sƒ∞, Cƒ∞LT: 13, SAYI: 4, EKƒ∞M 2020
may be insufficient due to threat propagation from the
weakest layer to the others [59]. Standard hardware,
network and OS levels precautions may not be sufficient
for the protection of microservices-based enterprise
software architecture. However, the first three layers
(hardware, virtualization, cloud) are out of concern in this
work; therefore, rest three sub-layers will be observed
here.
All organizational systems should identify the client of an
incoming request and should control its access
permissions for the related resources of the request.
Authentication is the identification operation whereas
authorization is to check permissions of the identified
client. Authentication and authorization can be provided
easier in a single embodied application. However, the
complexity of identification or authority is not less in
microservices. Thanks to the abstraction layer of our
proposed design, API gateway is the entry point of
microservices-based software and it should be the first
defending layer.
Figure 7. Authentication and authorization flow
OAuth2 can be accepted as the standard for user
authorization [60]. OAuth 2.0 is the protocol used to
simplify security operations. It allows developers to
process user tokens and obtains user to access a resource.
The valid tokens can be used for access permission to the
resource up to their expiration times.
In the proposed design, API gateway is the point where
all requests are sent via HTTP and authorized with JSON
Web Token (JWT) [61] to prevent unauthorized access.
In Figure 7. Authentication and authorization flow, it is
demonstrated how the authentication and the
authorization can be obtained.
When API gateway starts up, gets all users and their
access rights from server-side. Afterwards, all kind of
authorization changes triggers data feeding to the API in
order to inform API about the change of users‚Äô access
rights. Each HTTP request must be posted to the API
gateway with JWT token. The identity of the requester is
fetched from the token and then the access right is
controlled whether the user has permission to call this
method.
3.5. Resiliency
The health of the overall software system depends on the
health of the network, DNS, data storage, virtual or
physical hardware, the instances of services. When the
infrastructural outages are considered out of concern in
this paper, there are four best practices such as timeouts,
bounded retries, circuit breakers and bulkheads [62] to
achieve designing a reliable MSA.
Timeout is a determined duration in advance for every
API call to guarantee that every API request is going to be
replied in a specified duration. In our design, each API
request thread, which is slept in API gateway while
waiting for its response message, has a lifetime as the
timeout value. By that way, unless the sleeping request
gets the corresponding result up to the end of its lifetime,
it will be awakened by the API thread pool manager and
will be replied with a message declaring that the expected
response message cannot be received in the acceptable
duration.
Bounded retry is a pattern which retries the failed API
calls complying with a determined frequency strategy.
This pattern is applied to minimize the negative effects of
the transient outage of the backend services. In our MSA
design, this pattern is not implemented, and it is expected
that the clients take over this mission. On the other hand,
it is strongly recommended that the service method can be
coded by considering the possibility of retried calls.
Circuit breaker is a method which is designed to handle
the repeated failed calls of a microservice. Circuit breaker
tracks all the requests and their responses to detect a
problem regarding the health of a microservice. When a
problem is detected, the circuit breaker turns to openmode and tries to transfer the request calls of the
problematic microservice to any alternative microservice
if there is described one or generates a default response.
Bƒ∞Lƒ∞sƒ∞M TEKNOLOJƒ∞LERƒ∞ DERGƒ∞Sƒ∞, Cƒ∞LT: 13, SAYI: 4, EKƒ∞M 2020 367
When the circuit breaker is in the open mode, it
periodically checks the status of the down microservice. If
its connection attempts are successful, then it turns to
close mode to settle the connection as its normal running
mode [45, 62].
For the sake of increasing resiliency, Circuit-Breaker
pattern is implemented as a component of Message
Director to forward messages automatically to a
predefined alternative handler when an integration point
is down until the basic service provider gets back into
circulation.
Bulkhead pattern is designed to tolerate failure and is
inspired from bulkheads of a ship‚Äôs hull [63]. The
principle aims to provide a partitioning over the isolated
access channels of the microservices. When a
microservices is down, the pattern ensures not to allow
any blockage in communication or a resource scarcity for
consuming services.
The purpose of this pattern is served partially with the
timeout operation that is taken places in the API gateway.
Besides, the time-to-live argument of RabbitMQ
messages is set to guarantee that the expired messages
will be removed from the queue of the down
microservices. So, RabbitMQ resources are not consumed
for dead messages.
3.6. Database Selection
Data persistency is one of the most important and
expensive tasks for any application. MSA allows each
microservice instance having an individual data
management solution such as fully supported
transactional databases, open-source and supported ondemand databases, document-based databases or the
combinations of those in compliant with the requirements
of the task which microservice operates. One can decide
how to handle data persistency with regards to the
planned budget, development team experience, whether
business requirements must be operated transactional, the
amount of the data to be persisted and what the speed
expectation of querying time [64]. We have selected an
open-source transactional relational database management
system (DBMS) to run operational procedures due to the
project budget and NoSQL DBMS for logging.
When the cost of licensing, maintenance, official support
and infrastructure are considered, the selection of the
open-source may make sense. However, it would be
essential to hire a full-time staff, who is expert in the
open-source database product, for running maintenance,
tuning, performance monitoring, performance
improvement, backup automation, disaster and recovery
operations of an enterprise-level production environment.
The availability of staff or outsource consultancy solution
has to be taken into account while making a decision on
the enterprise-level database product.
3.7. Architectural Comparison
After designing the proposed enterprise microservicesbased software architecture, the features of the proposed
architecture are compared with the existing microservices
frameworks [27, 64] in Table 1.
The overall picture depicted from Table 1 shows that our
proposed design handles the cross-cutting concerns of
MSA. However, there are functionalities which are
covered by other frameworks need to be implemented in
our design such as service governance, remote
configuration and richer serialization support. In addition
to these, an advance level load balancer is required to
balance the heavy load over multiple instances of API
gateway.
Table 1. Microservices architecture comparison
Feature
Microservices Architecture
Dubbo Vert.x Spring
Cloud Our Design
Service
Interface
RPC
/RESTful RESTful RESTful RESTful/
AMQP
Automatic
Service
RegistryDiscovery
ÔÅê ÔÅê ÔÅê ÔÅê
Security OAuth2 OAuth2 OAuth2 OAuth2
Load Balancer ÔÅê
ÔÅê
(when
servicebus
used)
ÔÅê
ÔÅê
(RabbitMQ
provides only
for
microservices)
Circuit Breaker ÔÅê ÔÅê ÔÅê ÔÅê
Service
Governance ÔÅê ÔÅê ÔÅê -
Remote
Configuration ÔÅê ÔÅê ÔÅê -
Distributed
Logging ÔÅê - - ÔÅê
Large Data
Handling ÔÅê - ÔÅê -
Containerization ÔÅê ÔÅê ÔÅê ÔÅê
Serialization ÔÅê ÔÅê ÔÅê JSON, AMQP
Reactive
Programming - ÔÅê - ÔÅê
4. EXPERIMENTAL RESULTS
4.1. Test Environment
After we implement a prototype microservices
architecture applying the selected technologies, we
compare and evaluate the performance of the system. We
used 11 identical virtual servers, with Windows Server
2016 OS, on the same network. 7 of these servers are used
for MSA tests and others are used for the infrastructure
components as shown in Error! Reference source not
found.2. Each equipped with Intel¬Æ Xeon¬Æ CPU E5-
2680 2.40 GHz double core VCPU, 8 GB RAM and 8MB
cache. The performance test is done with Apache JMeter
and the test results were deduced from JMeter
performance calculations. RabbitMQ server is used as a
message broker and Redis is used as a global cache
368 Bƒ∞Lƒ∞sƒ∞M TEKNOLOJƒ∞LERƒ∞ DERGƒ∞Sƒ∞, Cƒ∞LT: 13, SAYI: 4, EKƒ∞M 2020
manager. IIS 8 is the webserver at which the RestAPI is
deployed and served.
Table 2. Server Dedication Demonstration
Installed Application Server Count
RabbitMQ and Redis 1
Message Director 1
IIS Web Server 1
JMeter 1
Implemented Prototype 7
In the experiments, the results of the CPU usage
percentage, the average response time, the processed
message count per second are average values which are
computed or observed for at least 10 minutes for ensuring
to minimize the impacts of the instantly fluctuating values
to increase the accuracy of the test results. The average
CPU usage percentages are observed via the Microsoft
Resource Manager on the conducted servers. The average
response time results are computed using Apache JMeter
test tool by taking an average of the round-trip-times of
the clients who call the analyzed services.
Apart from the RestAPI and RabbitMQ test, the tests are
conducted with 100 simultaneous clients which are
defined as a configuration on the Apache JMeter. In the
RestAPI and RabbitMQ performance comparison test, the
client numbers vary from 100 to 300.
4.2. Performance of The Implemented Prototype
Application
The first outcome of the test result is that MSA has a
higher network delay in comparison to the monolith
architecture. As the additional latency of message director
and message broker is regarded, the reason for the delay
can be inferred. We measure that average round-trip time
is 25 ms for monolith and 30 ms for our MSA prototype.
The latency delta is about 5 ms per request.
Table 3. CPU Usage Percentage According to Concurrent
Thread Count
Concurrent Thread Count CPU Usage Percentage
1 42
2 56
4 78
8 86
16 91
32 99
64 99
128 Application Fails
Each MSA instance creates a new thread for handling
each received request. Therefore, thread count
management becomes even more significant for MSA
instances. Firstly, we run a load test on the MSA without
limiting the thread count, then we observed that the active
thread count may increase up to 110. From that point, the
CPU‚Äôs new thread creation cost blocks the running
threads to be processed in an idle or allocated CPU slot.
For that reason, the instance transforms to zombie and
cannot emit or reply to any request. To prevent emerging
zombie MSA instances, we tried to find the optimum
thread count for maximizing CPU utilization. In Error!
Reference source not found., it demonstrates how the
thread count affects CPU utilization. The CPU usage
percentage evaluation lead us to limit the concurrent
thread count as 32. With 32 threads, CPU usage is
maximized, and MSA instances are avoided from being
functionless.
We test the performance of the AMQP comparing with
the performance of the HTTP RestAPI. The results in
Error! Reference source not found. demonstrate that the
performance of the RestAPI which is hosted on IIS is
better so long as the concurrent client number is below the
simultaneous thread count limit of the IIS server. When
the concurrent client count reaches to 200, then IIS starts
to consume most of the time by struggling to manage the
running threads. We also check the client request rate
which cannot be provided with a response for one second
timeout duration. While the error rate of the RabbitMQ is
0, the error rate for the RestAPI is 42 percentage with 300
concurrent clients.
Figure 8. RabbitMQ and HTTP RestAPI performance
comparison
The scalability performance of the proposed software
architecture is observed stable and responsive in harmony
with the monolith architecture performance for sorting an
integer array of 10000 items with bubble sort algorithm
which requires excessive CPU utilization. We generate
the input integer arrays in reverse order to maximize the
requirement of the CPU utilization. From the results in
Error! Reference source not found., it is clearly seen
that, when the number of concurrently running instances
increase, the MSA allows a reduction in the response time
proportionally similar to the monolith architecture.
In order to foresee how we can scale our MSA, we check
the message reading and forwarding count of the message
director by sending messages containing a static character
without expecting any response. After 10 minutes of
observation, we saw that the message director can emit
Bƒ∞Lƒ∞sƒ∞M TEKNOLOJƒ∞LERƒ∞ DERGƒ∞Sƒ∞, Cƒ∞LT: 13, SAYI: 4, EKƒ∞M 2020 369
from message broker and forward up to 17240 messages
per second. It is required to be emphasized that the
message director is a point of failure module. For that
reason, it is crucial that it must be run as multiple
instances. This multiplication obligation also facilitates to
leverage the reading and forwarding message number per
second. In order to see the limits of the message handling
number for round-trip operations on the proposed design,
we run the prototype with a single message director and
an instance of microservices. Each request is replied with
a single specific character to minimize the network and
CPU processing latency. Under these conditions, 1120
messages are able to be replied in a second. Even if we
run 7 concurrent instances on the available 7 servers, this
number is multiplied by 7, we can only reach almost half
of the single message director processing capacity.
Figure 9. Bubble Sort Response time for an integer array
of 10000 items while instance count increase
We also measure the number of messages handled during
the execution of bubble sort operation. Error! Reference
source not found. shows a gradual increase in the
handled number of messages per second.
Figure 10. Message processing velocity for Figure 9 test
case
5. CONCLUSION AND FUTURE WORK
This study presents a software architecture design which
aims to satisfy the requirements such as scalability,
reliability, maintainability, resilience to failures and
simplicity. The shared design details cover more
microservices concerns, preserve clearer architectural
perspective according to previous related work. We
implement a prototype of designed architecture based on
microservices and give architectural data flow and control
mechanism details. As mentioned in some references
which are related to migration from monolith to MSA, the
easiest way to gauge the success of the migration project
is to compare the performance of the MSA with the
performance of former monolithic architecture to see
whether the microservices can meet or transcend. Thus,
we provide performance tests for evaluating the ability of
the model to satisfy demanded requirements and
comparing it to the traditional monolith architecture.
The experimental results show that the proposed system
provides almost similar performance compared to the
monolith one. Although it causes approximately 5 ms of
architectural delay, the proposed MSA system can be
scaled up to tens of times compared to the initial load
expectations, owing to the performance of the designed
message director. Thanks to the modularity of MSA, a
highly available system can be served by increasing
instance numbers of each component to accomplish better
response times. This modularity leads us to follow the
separation of concern approach while developing and
overcoming difficulties of building a system that is
maintainable and containable.
We use queue-based communication facilitates to keep
the system stable in case of failure. The queue-based
communication and our proposed message director
module simplify routing, monitoring the current state of
the system, measuring transaction times, capturing
business or infrastructure errors to report.
For future work, a rule-based or even a learning tracking
and monitoring tool can be designed using an existing
message broker to monitor availability and performance
of the system. In order not to be affected by message
broker crashes, a redundant monitoring tool can be built
over HTTP. A trained or a well-designed message
tracking and monitoring tool may allow taking
autonomous proactive actions in case an inconsistent state
of the MSA.
Service governance mechanism should be implemented
by preserving metrics and diagnostic data from each
component of the proposed MSA. The serialization
methods of the system can be enriched to support more
data formats. To leverage load balancing operation, a load
balancer can be developed at the API gateway level. The
designed architecture can only use AMQP for interservice communication. HTTP support should be done,
and a lightweight HTTP load balancer can be developed
in the message director component.
REFERENCES
[1] Internet: M. Fowler, J. Highsmith, The Agile Manifesto,
http://users.jyu.fi/~mieijala/kandimateriaali/Agile-Manifesto.pdf,
26.02.2020.
370 Bƒ∞Lƒ∞sƒ∞M TEKNOLOJƒ∞LERƒ∞ DERGƒ∞Sƒ∞, Cƒ∞LT: 13, SAYI: 4, EKƒ∞M 2020
[2] Internet: E. Mueller, The Agile Admin,
https://theagileadmin.com/what-is-devops/, 24.01.2020.
[3] Internet: M. Rose, Teach Target, https://searchcloudcomputing.
techtarget.com/definition/cloud-computing, 14.02.2020.
[4] R. V. O‚ÄôConnor, P. Elger, P. M. Clarke, ‚ÄúContinuous software
engineering‚ÄîA microservices architecture perspective‚Äù,
Software: Evolution and Process, 29(11), 1-12, 2017.
[5] J. Bosch, Continuous Software Engineering, Springer,
Switzerland, 2014.
[6] D. Saff, M. D. Ernst, ‚ÄúAn Experimental Evaluation of Continuous
Testing During Development‚Äù, ACM SIGSOFT Software
Engineering Notes, 29(4), 76-85, 2004.
[7] D. Saff, M. D. Ernst, ‚ÄúReducing wasted development time via
continuous testing‚Äù, 14th International Symposium on
Software Reliability Engineering, Denver, USA, 281-292, 17-
20 November, 2003.
[8] M. Virmani, ‚ÄúUnderstanding DevOps & Bridging the Gap from
Continuous Integration to Continuous Delivery‚Äù, Fifth
International Conference on the Innovative Computing
Technology, Pontevedra, Spain, 78-82, 20-22 September, 2015.
[9] C. M. Aderaldo, N. C. Mendonca, C. Pahl, P. Jamshidi,
‚ÄúBenchmark Requirements for Microservices Architecture
Research‚Äù, 2017 IEEE/ACM 1st International Workshop on
Establishing the Community-Wide Infrastructure for
Architecture-Based Software Engineering (ECASE), Buenos
Aires, 8-13, 20-22 May, 2017.
[10] T. Ueda, T. Nakaike, M. Ohara, ‚ÄúWorkload Characterization for
Microservices‚Äù, 2016 IEEE International Symposium on
Workload Characterization (IISWC), Providence USA, 1-10,
25-27 September, 2016.
[11] M. Amaral, J. Polo, D. Carrera, I. Mohomed, M. Unuvar, M.
Steinder, ‚ÄúPerformance Evaluation of Microservices
Architectures Using Containers‚Äù, 2015 IEEE 14th International
Symposium on Network Computing and Applications,
Cambridge, USA, 27-34, 28-30 September, 2015.
[12] F. Wang, F. Fahmi, ‚ÄúConstructing a Service Software with
Microservices‚Äù, 2018 IEEE World Congress on Services
(SERVICES), San Francisco, USA, 43-44, 2-7 July, 2018.
[13] H. Knoche, W. Hasselbring, ‚ÄúExperience with Microservices for
Legacy Software Modernization‚Äù, Software Engineering and
Software Management, 292, 101-102, 2019.
[14] J. Bon√©r, Reactive Microservices Architecture Design
Principles for Distributed Systems, O‚ÄôReilly Media, USA,
2016.
[15] Internet: J. Bon√©r, D. Farley, R. Kuhn, M. Thompson, The
Reactive Manifesto, https://www.reactivemanifesto.org/,
20.02.2020.
[16] J. Bon√©r, Reactive Microsystems The Evolution of
Microservices at Scale, Lightbend, USA, 2017.
[17] J. Bogner, A. Zimmermann, ‚ÄúTowards Integrating Microservices
with Adaptable Enterprise Architecture‚Äù, 2016 IEEE 20th
International Enterprise Distributed Object Computing
Workshop (EDOCW), Vienna, Austria, 1-6, 5-9 September,
2016.
[18] M. Soylemez, A. Tarhan, ‚ÄúMikroservis Mimarisi ve Mimari
Faktorleri uzerine Endustriyel Bir ƒ∞nceleme‚Äù, Proceedings of the
12th Turkish National Software Engineering Symposium,
Istanbul, Turkey, 1-13, 10-12 September, 2018.
[19] Y. Yu, H. Silveira, M. Sundaram, ‚ÄúA microservice based
reference architecture model in the context of enterprise
architecture‚Äù, 2016 IEEE Advanced Information Management,
Communicates, Electronic and Automation Control
Conference , China, 1856-1860, 3-5 October, 2016.
[20] A. Yamuc, U. M. Surme, ‚ÄúUydu Yer Yazilim Sistemleri icin
Servis-yonelimli Mimari‚Äôden Mikroservis Mimarisine Gecis
Stratejisi‚Äù, Proceedings of the 7th Turkish National Software
Architecture Conference (UYMK 2018), Istanbul, Turkey, 1-
12, 29-30 November, 2018.
[21] W. Tang, L. Wang, G. Xue, ‚ÄúDesign of Information System
Architecture of Garment Enterprises Based on Microservices‚Äù,
Journal of Physics: Conference Series, 1168(3), 32128-32135,
2019.
[22] C. Pinheiro, A. Vasconcelos, S. Guerreiro, ‚ÄúMicroservice
Architecture from Enterprise Architecture Management
Perspective‚Äù, Lecture Notes in Business Information Processing
(LNBIP), 356, 236-245, 2019.
[23] L. Huang, C. Zhang, Z. Zeng, ‚ÄúDesign of a public services
platform for university management based on microservice
architecture‚Äù, Microsyst Technologies, 1-6, 2019.
[24] A. Akbulut, H. G. Perros, ‚ÄúPerformance Analysis of Microservice
Design Patterns‚Äù, IEEE Internet Computing, 23(6), 19-27, 2019.
[25] Internet: Spring, Spring Cloud, https://spring.io/projects/springcloud, 27.04.2020.
[26] Internet: Vert.x, Eclipse Vert.x is a tool-kit for building reactive
applications on the JVM, https://vertx.io/, 29.04.2020.
[27] Internet: Dubbo, A high performance Java RPC framework,
https://dubbo.apache.org/en-us/, 30.04.2020.
[28] N. Dragoni, S. Giallorenzo, A. L. Lafuente, M. Mazzara, F.
Montesi, R. Mustafin, L. Safina, ‚ÄúMicroservices: Yesterday,
Today, and Tomorrow‚Äù, Present and Ulterior Software
Engineering, M. Mazzara, B. Meyer, Springer International
Publishing, Zurich, Switzerland, 195-216, 2017.
[29] M. Villamizar, O. Garc√©s, L. Ochoa, H. Castro, L. Salamanca, M.
Verano, R. Casallas, S. Gil, C. Valencia, A. Zambrano, M. Lang,
‚ÄúInfrastructure Cost Comparison of Running Web Applications in
the Cloud Using AWS Lambda and Monolithic and Microservice
Architectures‚Äù, 16th IEEE/ACM International Symposium on
Cluster, Cloud and Grid Computing (CCGrid), Cartagena,
Colombia, 179-182, 16-19 May, 2016.
[30] A. Messina, R. Rizzo, P. Storniolo, A. Urso, ‚ÄúA Simplified
Database Pattern for the Microservice Architecture‚Äù, The Eighth
International Conference on Advances in Databases,
Knowledge, and Data Applications, Lisbon, Portugal, 35-40,
26-30 June, 2016.
[31] Internet: A. Nadalin, On monoliths, service-oriented architectures
and microservices, https://odino.org/on-monoliths-serviceoriented-architectures-and-microservices/, 13.03.2020.
[32] Internet: D. Anastasia, Monolith, SOA, Microservices, or
Serverless?, https://rubygarage.org/blog/monolith-soamicroservices-serverless, 01.03.2020.
Bƒ∞Lƒ∞sƒ∞M TEKNOLOJƒ∞LERƒ∞ DERGƒ∞Sƒ∞, Cƒ∞LT: 13, SAYI: 4, EKƒ∞M 2020 371
[33] Internet: S. Arshed, Monolithic vs SOA vs Microservices‚Ää‚Äî‚ÄäHow
to Choose Your Application Architecture,
https://medium.com/@saad_66516/monolithic-vs-soa-vsmicroservices-how-to-choose-your-application-architecture1a33108d1469,18.03.2020.
[34] Internet: The Open Group, Service-Oriented Architecture What Is
SOA, http://www.opengroup.org/soa/sourcebook/soa/p1.htm#soa_definition, 23.04.2020.
[35] M. Richards, Microservices vs. Service-Oriented Architecture,
O‚ÄôReilly Media, CA, USD, 2016.
[36] Internet: E. Evans, GOTO 2015 - DDD & Microservices: At Last,
Some
Boundaries!,https://www.youtube.com/watch?v=yPvef9R3k-M,
23.04.2020.
[37] Internet: J. Lewis, M. Fowler, Microservices,
https://martinfowler.com/articles/microservices.html, 26.04.2020.
[38] Internet: R. C. Martin, The Clean Code Blog,
https://blog.cleancoder.com/unclebob/2014/05/08/SingleReponsibilityPrinciple.html, 24.04.2020.
[39] G. Granchelli, M. Cardarelli, P. D. Francesco, I. Malavolta, L.
Iovino, A. D. Salle, ‚ÄúTowards Recovering the Software
Architecture of Microservice-Based Systems‚Äù, 2017 IEEE
International Conference on Software Architecture
Workshops, Gothenburg, Sweden, 46-53, 5-7 April, 2017.
[40] W. Hasselbring, G. Steinacker, ‚ÄúMicroservice Architectures for
Scalability, Agility and Reliability in E-Commerce‚Äù, 2017 IEEE
International Conference on Software Architecture
Workshops (ICSAW), Gothenburg, Sweden, 243-246, 5-7 April,
2017.
[41] D. Shadija, M. Rezai, R. Hill, ‚ÄúTowards an Understanding of
Microservices‚Äù, 2017 23rd International Conference on
Automation and Computing (ICAC), Huddersfield, UK, 1-6, 7-
8 September, 2017.
[42] O. Zimmermann, ‚ÄúMicroservices tenets‚Äù, Computer Science -
Research and Development, 32(3), 301-310, 2017.
[43] D. Taibi, V. Lenarduzzi, C. Pahl, ‚ÄúProcesses, Motivations, and
Issues for Migrating to Microservices Architectures: An
Empirical Investigation‚Äù, IEEE Cloud Computing, 4(5), 22-32,
2017.
[44] H. Kang, M. Le, S. Tao, ‚ÄúContainer and Microservice Driven
Design for Cloud Infrastructure DevOps‚Äù, 2016 IEEE
International Conference on Cloud Engineering (IC2E),
Berlin, Germany, 202-211, 4-8 April, 2016.
[45] B. Butzin, F. Golatowski, D. Timmermann, ‚ÄúMicroservices
approach for the internet of things‚Äù, 2016 IEEE 21st
International Conference on Emerging Technologies and
Factory Automation (ETFA), Berlin, Germany, 1-6, 6-9
Semtember, 2016.
[46] Internet: F. Montesi, J. Weber, Circuit Breakers Discovery and
API Gateways in Microservices, http://arxiv.org/abs/1609.05830,
30.04.2020.
[47] S. Newman, Building Microservices Designing Fine-Grained
Systems, O‚ÄôReilly Media, Sebastopol, CA, 2015.
[48] D. Namiot, M. Sneps-Sneppe, ‚ÄúOn Micro-services Architecture‚Äù,
International Journal of Open Information Technologies, 2(9),
24-27, 2014.
[49] E. Wolff, Microservices-Flexible Software Architecture,
Crawfordsville, Pearson Education, Indiana, USA, 2017.
[50] Internet: C. Richardson, Building Microservices: Inter-Process
Communication in a Microservices Architecture,
https://www.nginx.com/blog/building-microservices-interprocess-communication, 30.04.2020.
[51] Internet: D. Jacobson, Why REST Keeps Me Up At Night,
https://www.programmableweb.com/news/why-rest-keeps-menight/2012/05/15, 30.04.2020.
[52] Internet: M. Rouse, REST (REpresentational State Transfer),
https://searchmicroservices.techtarget.com/definition/RESTrepresentational-state-transfer, 30.04.2020.
[53] Internet: RabbitMQ, RabbitMQ is the most widely deployed open
source message broker, https://www.rabbitmq.com/, 30.04.2020.
[54] Internet: C. Richardson, Service Discovery in a Microservices
Architecture, https://www.nginx.com/blog/service-discovery-in-amicroservices-architecture, 30.04.2020.
[55] S. Sobernig, U. Zdun, ‚ÄúInversion-of-Control Layer‚Äù, Proceedings
of the 15th European Conference on Pattern Languages of
Programs (EuroPLoP'10), Irsee, Germany, 1-22, 7-11 July,
2010.
[56] Internet: R. Chandramouli, Security Strategies for Microservicesbased Application Systems,
https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.80
0-204-draft.pdf, 30.04.2020.
[57] Y. Sun, S. Nanda, T. Jaeger, ‚ÄúSecurity-as-a-Service for
Microservices-Based Cloud Applications‚Äù, 2015 IEEE 7th
International Conference on Cloud Computing Technology
and Science (CloudCom), Vancouver, Canada, 50-57, 30
November-3 December, 2015.
[58] Internet: D. Yu, Y. Jin, Y. Zhang, X. Zheng, A survey on security
issues in services communication of Microservices‚Äêenabled fog
applications,https://onlinelibrary.wiley.com/doi/full/10.1002/cpe.
4436, 30.04.2020.
[59] Internet: Sumo Logic, Improving Security in Your Microservices
Architecture, https://www.sumologic.com/insight/microservicesarchitecture-security/, 30.04.2020.
[60] Internet: OAuth, OAuth 2.0, https://oauth.net/2/, 30.04.2020.
[61] Internet: Auth0, Introduction to JSON Web Tokens,
https://jwt.io/introduction, 30.04.2020.
[62] V. Heorhiadi, S. Rajagopalan, H. Jamjoom, M. K. Reiter, V.
Sekar, ‚ÄúGremlin: Systematic Resilience Testing of
Microservices‚Äù, 2016 IEEE 36th International Conference on
Distributed Computing Systems (ICDCS), Nara, Japan, 57-66,
27-30 June, 2016.
[63] Internet: Microsoft, Bulkhead Pattern,
https://docs.microsoft.com/enus/azure/architecture/patterns/bulkhead, 28.04.2020.
[64] E. Edling, E. ostergen, An analysis of microservice
frameworks, Bachelor, Linkoping University, Department of
Computer and Information Science, 2017.
Optimal Beam Management in Earth-fixed Satellite
Systems
Omer Korgak and Fatih Alag'oz
SATLAB, Department of Computer Engineering
Bogazi,i University
Istanbul, Turkey
omer.korcakgcmpe.boun.edu.tr, fatih.alagozgboun.edu.tr
Abstract- In this paper we investigate the beam management solution approach. Section IV gives the numerical results and
issue for providing optimal mapping between ground and space Section V concludes this work.
terminals in earth-fixed satellite systems. We take the nonhomogeneity of the traffic demands into account and define an II. EARTH-FIXED COVERAGE
optimal beam management problem for supplying more
bandwidth to denser areas. We model the problem as a network The footprint of a satellite is the ground area that its
flow problem and propose a feasible solution approach. transponder beams cover. Depending on the capabilities of
Performance results show that significant improvement in system satellite antenna system, satellite footprints can be satelliteavailability can be achieved at the expense of acceptable increase fixed (nadir pointing) or earth-fixed [1]. In the former case, as
in the system cost. the satellite moves across the sky, its footprint sweeps across
the surface with a constant velocity. When a terminal reaches
Keywords- satellite networks, beam management, earth-fxed the edge of the current footprint, it is handed off to a new
coverage satellite whose footprint is entering the area. The latter case is
applicable if a satellite is capable of electronically steering its
I. INTRODUCTION beams, so that it can make up for its motion and the satellite
Satellites are becoming integral part of future footprint can be fixed for certain time duration. After some
telecommunication systems. Currently, Geostationary Earth time, all the satellites will be moving away from their
Orbit (GEO) satellites are successfully utilized in many corresponding footprints, and the system periodically reassigns
applications, but they are far from meeting the requirements of each satellite to a new fixed footprint. Despite the cost of
emerging real-time applications due to long delay and high free complex antenna system and degradation in the elevation
space attenuation. Rather, Low Earth Orbit (LEO) satellites are mask, earth-fixed footprint technique has several advantages.
promising candidates that offer smaller latency, lower free First, it yields synchronous handoff, since all handoffs occur
space loss, and better re-use of available ground-space simultaneously. This significantly simplifies handover
communication frequencies. However, these advantages come mechanism. Secondly, it ensures better use of spectrum by
with price: Footprints of satellites at lower altitudes are providing fixed channel assignment for the whole life-time of a
smaller, and global coverage can be provided by higher number connection. Moreover, it eases mobility handling by allowing
of satellites that are typically connected with inter-satellite the satellite network to be modeled as a fixed virtual topology.
links (ISL). Moreover, lower orbit satellites move with higher Virtual Node (VN) concept [2], which is a common
speeds relative to the Earth's surface, resulting in high dynamic approach for mobility handling, depends on synchronous
in the network topology. High network dynamics necessitate handoff technique. In the VN technique, a fixed virtual
frequent handoffs, and constitute the major challenge in topology consisting of VNs is superimposed over the physical
providing quality of service (QoS) for real time applications. topology in order to hide the mobility of satellites from the
Satellite systems with earth-fixed coverage simplify the routing protocols. A logical address is assigned to the fixed
handover and routing processes as described in next section. In portions of the earth's surface. Then by using earth-fixed
such systems, mapping between satellites and ground areas satellite systems described above, a satellite embodies the VN
play an important role for increasing system availability and above this fixed earth footprint for the duration of the time that
throughput. One should consider non-homogeneity of traffic it is serving that footprint. Each VN is embodied at any given
distribution over the globe to support optimal resource time by a certain physical satellite. As a satellite disappears
utilization. over the horizon, its corresponding VN becomes represented
In this work we aim to provide optimal mapping between by the next satellite passing overhead and the state information
satellites and ground terminals and for this purpose we propose (such as routing table entries or channel allocation information)
and evaluate a beam management technique where satellites is transferred to it. Handoff between VNs and physical
over rural areas may be made to direct their beams to denser satellites are done synchronously, therefore virtual topology
areas. Section III describes the considered problem and the remains unchanged. (Note that handoff may also occur
This work is supported by DPT under The Next-G Satellite Networks
Project, grant no: DPT-03K 120250. Omer Kor,cak is supported by TUBITAK
under national PhD scholarship.
1-4244-0939-X/07/$25.OO ¬©C 2007 IEEE 43
between satellites in different orbits due to rotation of earth Satl Sat2 M
St3a
[2].) A routing decision is made on this fixed virtual topology, -------
and the protocols are not aware of the satellite constellation
dynamics. VN technique is applicable in satellite constellations
that ensure one-to-one correspondence between satellites and
footprint areas. Strictly polar constellations are more likely to
satisfy this constraint, but any other type of constellation (e.g.
inclined) may also be designed for having this feature. --l
Although VN technique is widely accepted in the literature Satl Sat2 Sat3 Movingdir.
as an underlying mobility handling mechanism [3,4], it has
some deficiencies due to necessity for one-to-one mapping
between physical satellites and virtual nodes. Serving each
terminal by a single satellite decreases the system availability
due to several reasons. First, single satellite may not be
sufficient to serve all terminals in a particular footprint area \/ f2
due to high service demand of ground terminals or because of (b)
shadowing by terrain and buildings. Second, during daylight Figure 1. Part of a satellite system with Nsav = 1.5 case 1(a) and case 2 (b) hours, if the satellite is located along the same line of sight with
the sun, communication becomes impossible due to the sun's the system period, a footprint area is served by two satellites
radiation overwhelming the satellite signal. This is called sun and in the other half, just one satellite serves it. Since, usually
outage, and occurs around the time of the spring and fall the traffic demand does not oscillate with the supplied service,
equinoxes when the sun crosses the Earth's equatorial plane. actual service could be considered as minimum amount of
System can compensate these situations only by offering supplied service, and this system does not have much
alternative satellites. Moreover, more bandwidth can be
provided for densely populated areas by directing beams of advatemag compain ta sysem wt Nro=1. However,
neighboring satellites to these areas. However these properties system availabltity could be micreased by properly adjusting
cannot be supported if VN concept is used. beam directions of the satellites. In other words, by making satellites to direct their beams to neighboring footprint areas
To come up with these deficiencies, we investigate the (with higher traffic density) we can increase the overall service
earth-fixed systems where more than one satellite serves for a offered by the satellite system. In next section, we examine this
single footprint area. We consider a satellite network that issue and propose a beam management strategy for maximizing
consists of N orbits, and each orbit consists of NSAT satellites system throughput, while keeping the cost in low level.
serving for NFP earth-fixed footprints. We assume that intersatellite distances are same for the satellites in the same orbit. III. BEAM MANAGEMENT
Let Nsj~g symbolizes average number of satellites per footprint: In the regular scheme, at a given time each satellite serves
-ag NsAT (1) for the nearest footprint area, i.e. the one with higher elevation
S F NFP angle. When a satellite comes to a point that is closer to another
For tea c VN c eP footprint area, it switches serving that area. We call this point
regular switching point. However, since traffic is nonvalue of NsaVg increases, system availability increases. For the homogenously distributed over globe, relaxing this rule could
systems where Nsajg is an integer value, each footprint area is increase system throughput. Moreover, it renders possible
continuously*served by Nsa g satellites. When communication
increasing actual service as described in previous section. Fig. continuously served by NSF satellites. When communication 2 illustrates the task of directing satellite beams to neighboring
between a satellite and a ground terminal becomes corrupted areas. Since f1 is denser than f2, Sat2 continues serving f1 and
due to some problems such as shadowing, fading, or sun does not switch to serving f2 as in the regular scheme. A
outage, terminal can switch to communicating with an satellite can serve its neighboring area until reaching a point,
alternative satellite. Moreover, more bandwidth is provided to which is measured by angular distance dmax to the regular
dense areas. Of course, all of these advantages come with the switching point. Let LFP denotes angular length of a footprint.
cost of increasing number of satellites in the system. We define rmax as ratio of dmax to LFP and in this work we
assume that it does not exceed 1.
For the systems with non-integer Nsa'g value, situation is dmax rmax LFP (2)
somewhat different. Number of satellites serving an area dwit suple by
(2)
switches between LNsa,g j and FNsag. This leads to instability Let Bup is bandwidth supplied by a satellite, and BSUP is
the average bandwidth supplied to a footprint area in the
in the system. Fig. 1 illustrates a system with NsapF=1.5 regular scheme. It is clear that:
where three satellites serve for two footprint areas every time. 11= B ' (3)
In the first case, two satellites (Sati and Sat2) servef and one Frtesk ficesn ytmaalblt,stlie
(Sat3) serve f2 as shown in Fig. la. However, when Sat2 Frtesk f1cesn ytmaalblt,stlie
switches tof2 as shown in Fig. I b, then two satellites (Sat2 and may assign bandwidth to neighboring areas. Maximum
Sat3) continue servingf2 and only Sati servef1. During half of possible amount of directed bandwidth is indicated by BDIR .
44
Satl Sat2 > Sat3
Moving dir.fl
S3
BDIR BRR DjB DJIR DIR BDIR
BR'RUP <BSbSUP B
. _ B2 ) f4
BEM B B
Figure 2. Directing satellite beams to dense areas B~H >'
B
mAX B (4)
For the sake of simplicity, we assume that adjacent satellite
signal interference is totally eliminated. Bf2j'f represents the Figure 3. Illustration of the maximum flow problem
bandwidth from f2 fDto means that each Satellite continues area. However, as we described in the previous section, it is
serving ft until reaching a point which is dff units (radians) more reasonable to take care about minimum bandwidth
2,fl ~~~supplied (due to the instability reasons). Therefore we change
Farfomthe regular switplching, gmxBpoinr2f48 bsuetweenf andjaen contrine()lslolowng
df2, fl
DIR 4p ~(5) B +ff>"f1-B" Bf+ 1' B1'' P"
Eigach footprierntcaei oadlly elmntd B f rersnsteFgr3_lutainfhmxmmlwrbe
Eam t footindth drecthas BspBfU<B1 U. DIR +DIR DIR DIR *Bsal (8) a bandwidth demand depending on STS sat j SUP
It userdetensit,zetc Bandwd .Demaind BDfIs denoted R by tMa Moreover, we should include one more constraint to ensure
where fE{1,2,3,. ., NFp } represents footprint number. that at least one satellite serves for each footprint area at any
Because of the limited resources, system may not satisfy all of time, regardless of the traffic density:
the demand. BPf denotes the satisfied amount of demand for Bats +o +BowBng(
STS B LP(5 Bsu]p + BDf IRI' f +fBIR'-B" R-1 B" R+1>
footprint f We aim to maximize satisfaction of demands over BS
the whole globe. Now, we will give a formulation for this The new problem formulation is not linear any more.
problem. However, by modifying the network flow problem shown in
Fig. 3, we can come up with a feasible solution approach.
A. Problem Formulation
We assume bandwidth direction is possible only between B. Solution Approach
consecutive footprint areas that belong to same orbit. Hence, Constraint (8) states that the utilizable amount of offered
demand satisfaction problem can be handled for each orbit c y i mutpe of This suggst u
independently. Solving N maximization problems, one for each convrty themaimumuflwprlemtof T
fe siblesflop
o
orbit, we come up with optimal beam management solution for 3, we maximum w proble sibleionowpproach.
the whole constellation. Therefore, for each satellite orbit, we shwUnFg.4PK ~ ,BJ~ UPle tn o h oe
give the following problem formulation: bound and upper bound (which are same) for the corresponding
arc. For each footprint area, we try to supply bandwidth that is
maxsts i weroem integer multiple of Bs. i other words, for footprints we try
f~BE 6 to send Kf Bss' For each possible combinations of
BfSTS <Bf + >1+B1"61> B') K 2K - SUP DroDl(7s, K
Nor we fnd whether there is a feasible flow,
O.bBft2 <Bm (8) and if there is, we call itfeasible K-combination. Then, among DiR Donallfeasible K-combinations, we select the one which offers best
Note that, in constraint (7), we should replace f-i with satisfaction (satisfied amount of traffic demand).
NFpformf=1,ax f,T withe Ieforf=NFp.Actually the above Complexity of the solution algorithm is related to the problem can be considered as a maximum-flow problem as number of possible K-combinations. In most scenarios, it is
shown in Fig. 3. Values over the edges correspond to upper expectedtos ible notiso largedel t seoveer c retictions.ofrstely
boundeotarccpctetlwrbonsaezr),i isosrit()ehudrpaea- to saifrom tcon(staiti(9)anyd valouet souldaf begrematenadoe
sNdPfrf=1 asnucflo as possible1 form SNtoP. Probalytem canboe
solved ~ ~~ ~ ~ ~ ~ ~ ~ ~ ~ ~~oplxtbyanypolynomia time1halorth proposed for VfKhe10
prbe a ecn1ee samaximum flow problem [5]
45 bro osbeK-obaln.I os cnro t1
Moreover, K values are limited with the maximum amount offers best satisfaction. maximum flow problem from node DS
of possible bandwidth supply. to node DTin the transformed network.
VJ Kf.Bssat ff,BUP<< Bavgsaup +2.Bm' I1 SUP BDIR+ (11)IV. NUmERICAL RESULTS
For any two consecutive footprintsf1 andf2: To test the effect of the proposed beam management
Kf + Kf Bsat < avg +2 max technique, we consider a reference network, which is a polar KUIP 2 BSUP DIR (12) satellite constellation with 12 orbits and 24 footprintsper orbit.
The earth surface is divided into 24x 12 zones as shown in Fig.
In general,for n consecutive footprints ~ ... ,f) 6 and each zone stands for a footprint area. Footprint areas on
+K Kf Kf Bsat < gavg 2 DBmaR <NFp, the same longitude are served by satellites on the same orbit. ( Ki t++ K,)J' UPn SUP+ 2 DIR if ' We set traffic demands proportional to the user density levels
(K1 +Kf ++K) Bssat <n Bsag if n=NFp (13) given in Fig. 6. We define aggregate demand Tagg which is fi f2 fn P (13 equal to the total demand in the globe. Then traffic demand for
Another constraint comes from the fact that bandwidth footprintf of orbit n can be defined as follows:
utilization is limited by traffic demands:
Vf Kf -BS <FBM1 (14) DEM -T Uj (16)
In this work, we take constraints (10), (13) and (14) into
account while determining possible set of K-combinations. It where ujX stands for user density level for footprint i of orbit
should be noted that by using additional appropriate j. We assume that each satellite offers a capacity of 15 Gbps
constraints, set size could be further decreased. Moreover, by (which is slightly higher than the satellite capacity of 13.3
sorting K-combinations by their offered satisfaction, we can Gbps offered by Teledesic system [7]). We define satisfaction
reduce the number of trials needed to find the feasible K- ratio (RSTS) as the performance metric. It is simply ratio oftotal
combination that offers best satisfaction. satisfied demand to the total demand.
Feasible flow problem shown in Fig. 4 can be converted to
maximum flow problem as follows [5]. We first transform the I>
problem into a circulation problem by adding an arc (T,S) of Sl
infinite capacity. The original problem admits a feasible flow if : Bz
and only if the circulation problem admits a feasible flow. Then
we define supplies/demands b( ) at each node as follows. Si 52 S ss
b(i) = E j, - 1,j (15) |</ \<'9 Sv xBC
j:(j,i)eA j:(i,j)eA .UP / SU BSUP BSUP
where A represents set of all arcs in the network and 1,l
denotes lower bound of arc from node i to node j. Then we 2 f3'4 ''
subtract Ijj from each Ijj and u11 (upper bound of arc from node i --A,,iB B.l
to node j). Therefore, we remove arcs that have same lower SU(BK,BP (T B5. SUP
bound and upper bound. Next we introduce two new nodes, a
dummy source (DS) and a dummy sink (DT) node. For each
node i with b(i) > 0, we add an arc (DS,i) with capacity b(i),
and for each node i with b(i) < 0, we add an arc (i,DT) with Figure 4. Illustration of the solution approach (feasible flow problem).
capacity -b(i). We refer to the new network as transformed
network shown in Fig. 5. Then we solve a max- flow problem
from node DS to DT in the transformed network. If the
maximum flow saturates all the source and sink arcs, problem BB
has a feasible solution; otherwise, it is infeasible. .
For solving maximum flow problem, we use a modified Si- S2 S4 s|
version of shortest augmenting path algorithm [5]. Shortest \D`a BDI" Ba / aIxR Bm
augmenting path algorithm always augments flow along a B B
shortest path from the source to the sink in the residual suP suP SUP suP
network. In this paper, we will not describe details of this
algorithm. The modification we employed is that, we first r2 r 4
augment flow on the direct paths, i.e. on the paths KB. K2B7 K I0,
DS-T-S-Si-fi-DT, where 1<i< NFP. This modification is |_
employed to avoid unnecessary direction of beams to C
neighboring footprint areas. _________________________
For each possible K-combinations we solve the above Figure 5. Transformed network flow problem
feasible flow problem and find the best K-combination that
46
Fig. 7 illustrates the numerical results for different NS
values and for different aggregate demands. rmax is set to 0.5.
Results show that slight increase in Nsapg can achieve
significant improvement in satisfaction ratio, especially in high
traffic load. When we further increase NsaEg , all the demands
are satisfied with the expense of increased system cost. Note m ,g!//T T =400 Gbps
that adding one satellite per orbit results in l/NSAT increase in T Agg =OOlbps
number of satellites in the system. However actual increase in --G-O-1/-|-=-TAg99 1000 Gbps
the cost is lower, since notable portion of satellite system O51 TAgg 1200 Gbps
production elements (e.g. design and software development) 0
Tg =
O
Gbps
are independent of the number of satellites manufactured. r
Next we keep Nsapg constant (at 1.2) and test the effect of Figure 8. RSTS versus rmax for different traffic loads ( Nsavg =1.2).
rmax. Fig. 8 shows that rmax has important effect on system
throughput. For small values of rmax, system could not supply V. CONCLUSION
enough bandwidth to any of the footprint areas for increasing Earth-fixed satellite systems offer some advantages like
satisfaction ratio. At the threshold value of 0.33, beam simpler handovers and better use of spectrum. In such systems,
directing starts working for the scenario above. That is why one-to-one mapping between satellites and footprint areas
there is a sudden increase in satisfaction at rmax = 0.4. could result in low system availability. Increasing number of
We evaluate contribution of beam management, assuming satellites may not contribute to system availability because of
that demands are static. However, traffic demands are expected instable bandwidth supply offered by the system. To come up that demandls are static. However, traffic demands are expecteda iha nrae fiiny,w rps notmlba
to vary at different time scales: daily, weekly and seasonal. To w
l l l
cope up with changes in traffic demands, a central node may management technique, which properly adjusts directions of . ^ ^ . ............... '. ~satellite beams. Problem iS formulated as a network flow gather information from the whole network periodically (or on
demand), fid the new optimal solution, and notify the relevant p.roblem, where aim is to maximize the satisfied demand. We
satellites to respect new beam directionpattem. 'test our contribution on a reference network and show that
proposed beam management technique could significantly
NmmA inSE01 crease system availability with slight increase in the system
......cost. Proposed optimization algorithm is performed in a central
2111node, and it could be reperformed with proper intervals in order
I I - 1 1 1 1 ~~~~~~~~~~to adopt changes in traffic demands or satellite failures.
.1.....4.. In this work, we have investigated an optimal mapping
REM0, us ~~~~~~~technique utilizing satellites and earth-fixed footprint areas.
l~ 5 4 - - Note that typically a satellite has multiple beams and a
-~~~ footprint area consists of multiple beam coverage areas. A
_--4 _ _ _ l possible research direction is to consider earth-fixed beam
..............coverage areas instead of earth-fixed footprints, and to come up
with an optimal mapping between beam coverage areas and Intensity level 1 2 3 4 5 6 7 8 satellite beams.
Traffic (million 116 6.4 16 32 95 191 239 318
minutes per year)
Figure 6. Earth zone division, and user intensity levels on each zone (for REFERENCES
year 2005 [6]). [1] J. Restrepo and G. Maral, "Cellular Geometry for World-wide Coverage
by Non-GEO Satellites Using 'Earth-fixed Cell' Technique," Space
Communications, vol. 14, pp. 179-189, 1996.
[2] R. Mauger and C. Rosenberg, "QoS Guarantees for Multimedia Services
on a TDMA-based Satellite Network," IEEE Communications
Magazine, vol. 35, no. 7, pp. 56-65, 1997.
[3] F. Alagoz, 0. Korcak and A. Jamalipour, "Exploring the Routing
e-05us,8I o > y 1Strategies in Next Generation Satellite Networks," IEEE Wireless
Ia:0 8< n X Communications, vol. 4, no. 13, June 2007.
I_U 0 75 1 f H I TA = 400 Gbps [4] T. Taleb, N. Kato, and Y. Nemoto, "Recent Trends in IP/NGEO Satellite
eTAg = 600 Gbps Communication Systems: Transport, Routing, and Mobility
TAg co 0
= 00 Gbps Maaeet"no 2O-I 07 1 TAqg - 10006spbS 1 Management," | IEEE Wireless Comm., vol. 12, no. 5, pp. 63-69,2005. TAg =
l l
bl
0 615} oF TAgg = 1200 Gbps [5] R.K. Ahuja, T.L. Magnanti, J.B. Orlin, "Network Flows: Theory, T;TA6!, = 1400 Gbps Algorithms, and Applications", Prentice Hall, 1993.
0- 1 5 N 2 25 [6] M.D. Violet, "The Development and Application of a Cost Per Minute
I ~~~~~~~~~~~~~~~~~~~Metric of the Evaluation of Mobile Satellite Systems in a Limitedg . ~~~~~~~~~~~Growth Voice Communications Market," Master's thesis, MIVT, 1995.
Figue 7.RSTSverus N>~ fr dffernt taffi lods (max05).[7] A. Jamalipour, T. Tung, "The Role of Satellites in Global IT: Trends and
Implications", IEEE Personal Comm., vol. 8, no. 3, pp 5-1 1, 2001.
47
Received January 4, 2021, accepted February 3, 2021, date of publication February 9, 2021, date of current version February 18, 2021.
Digital Object Identifier 10.1109/ACCESS.2021.3058190
Adaptive Task Planning for Multi-Robot
Smart Warehouse
ALI BOLU , (Member, IEEE), AND Omer Korcak, (Member, IEEE)
Department of Computer Engineering, Marmara University, 34722 Istanbul, Turkey
Corresponding author: Ali Bolu (alibolu@marun.edu.tr)
This work was supported by the Makhina Robotics, Istanbul, Turkey.
ABSTRACT Using autonomous mobile robots is now a necessity for today‚Äôs large e-commerce warehouses
to save time and energy, and to prevent human-based errors. Robotic Mobile Fulfillment System (RMFS)
controls these robots as well as all other resources and tasks in a warehouse. There are challenges in the
management of an RMFS-based smart warehouse because of the high dynamics in the system. Limited
resources such as robots, stations, totes, and item spaces should be managed efficiently after tracking their
status continuously. In this study, we propose a centralized task management approach that is adaptive to
the system dynamics. We describe a novel task conversion algorithm that generates tasks from a batch of
orders and provides a high pile-on value. Then we propose an adaptive heuristic approach to assign generated
tasks to robots, considering system dynamics such as the location of robots and pods, utilization of totes,
and age of the tasks. To evaluate the proposed algorithms, we perform an extensive set of simulations in a
highly realistic environment including robot charging, replenishment process, and path planning algorithms.
We show that the proposed task planning approach significantly reduces order completion time even for a
high number of stock-keeping units (SKU). It also provides a balanced workload among robots. We analyze
the optimal value of order batch size and the effect of important system parameters such as robot count,
order count, and SKU. The obtained results shade light on how to design a smart warehouse system with
high efficiency.
INDEX TERMS Autonomous mobile robots, resource management, robotic mobile fulfillment system,
smart warehouse, task planning, warehouse execution system.
I. INTRODUCTION
Robotic Mobile Fulfillment System (RMFS) is a new trend
warehouse system that employs autonomous mobile robots.
Today, many e-commerce warehouses use this system, while
many more are investigating for future use. RMFS-based
warehouses in which robots lift pods and bring to pick stations
were first introduced by KIVA Systems, Wurman et al. [1].
Amazon bought Kiva systems in 2012 and renamed it to
Amazon Robotics [2]. Since then, many companies have
entered the market with their robots such as Swisslog CarryPick, GreyOrange Butler, Fetch Robotics Freight (and
Fetch), Scallog System, Hitachi Racrew, etc., [3]. Moreover,
major retailers, such as Amazon and Alibaba, use RMFS [2].
However, investment in RMFS to warehouses will cost more
than a million-dollar generally [4]. The most expensive part
of an RMFS investment is the robots. Hence, optimization on
The associate editor coordinating the review of this manuscript and
approving it for publication was Zhenliang Zhang.
RMFS to complete more order with less number of robots is
a crucial point of efficiency.
The order picking process is the most important part in a
warehouse system. Traditional warehouses use picker-to-part
method, i.e. workers travel in the warehouse and collect order
lines. The new RMFS approach is part-to-picker, such that
robots carry the mobile shelves (named as pod) that contain
items to the workers who are waiting at the pick stations.
An RMFS increase picking rate significantly compared to traditional methods especially for large e-commerce warehouses
with many SKUs (Stock Keeping Units) [5]. It is crucial to
optimize picking order, i.e. to collect more order items with
less effort. The order batch method is used for picker-to-parts
picking methods. In this method, a set of orders are splitted
into several subsets of order items and assigned to pickers in
an efficient way in order to reduce travel and picking time [6].
However, in an RMFS, it is not feasible for robots to carry
all order items in a single pod. Therefore, the optimization
objective is to collect more items per pod at the pick station.
27346 This work is licensed under a Creative Commons Attribution 4.0 License. For more information, see https://creativecommons.org/licenses/by/4.0/ VOLUME 9, 2021
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
The average number of order items picked from one pod,
named as pile-on, is the most important metric to reduce order
picking time [5], [7].
Another important task of an RMFS is the replenishment to
pods, in other words to place stocks in the warehouse. There
are two types of stations; pick stations and replenishment
stations. Human workers work in these stations for collecting
orders (picking) or placing items to the pods (replenishment).
In all tasks, the pods are carried to and from the station by
robots. The picking process consumes more energy and time
than replenishment, it is up to 80% according to [5].
It is obvious that robots need energy and charging to complete their tasks. When a robot completes the assigned task
and ready for another one, the RMFS will decide to assign one
of the three tasks: order picking, replenishment, or charging.
In this study, we mainly focus on order picking optimization,
while we also consider and do not neglect replenishment and
charging tasks. We propose novel order-to-task conversion
and task selection methods aiming to increase pile-on and
total efficiency of an RMFS by considering order throughput,
time priority, and utilization of resources. We also test our
methods and algorithm with different warehouse parameters such as number of robots, pick stations, totes, orders
and SKU.
Management of an RMFS requires knowledge of all existing and moving objects in the warehouse. For this purpose,
we develop a web-based central software called Warehouse
Execution System (WES) to manage warehouse automation. WES manages all resources such as robots, stations,
totes, pods etc. We simulate the RMFS on WES in a highly
realistic environment (which can be considered as a digital twin of the real system) in order to evaluate the performance of the proposed approaches for various system
parameters.
A. RELATED WORK
RMFS is a new approach with an increasing popularity in
the last decade. Cooperation of multiple robots and coordination of many other resources such as pods, totes, stations
etc. increase the complexity. Enright and Wurman (2011)
present general concepts of optimization and coordination of
an RMFS in [7]. They mention importance of pile-on optimization to reduce order picking time. Lamballais et al. [4]
analyze performance of an RMFS under four models such as
single-line and multi-line orders and with or without storage
zones. They develop queuing network model that includes
storage zoning and multi-line orders in order to estimate
performance according to order throughput, average order
cycle time, and utilization of robots and workstations.
The assignment of pick orders to pick stations (Pick Order
Assignment - POA) and the pod selection in the pick process
(Pick Pod Selection - PPS) are two important issues for order
picking optimization in an RMFS. First POA, then PPS is
applied [1], [5]. Moreover, [8] performs an approach for
integrating POA and PPS. Merschformann et al. [5] analyze
optimization performance by studying important decision
rules such as POA, PPS, Replenishment Order Assignment
(ROA), Replenishment Pod Selection (RPS) and Pod Storage
Assignment (PSA). They compare multiple rules and find
correlation between them to increase order item throughput.
They point out importance of pile-on and robot travelling
distance for RMFS performance. Boysen et al. [9] study on
processing the orders at the pick station. They focus on batching and sequencing of picking orders in order to decrease
robot needs. The decision problem they formulate is NP-Hard
and they provide several heuristic algorithms to converge to
the optimal. They show that their algorithms decrease the
number of pod visits, but they study only for small instances
(up to 100 orders). Their results imply that the provided
heuristic approaches would take significant amount of time
for larger instances and may not be feasible for real time
applications. Reference [8] integrate assignment of pods to
station and orders to station for order picking process, instead
of calculating separately. They also propose to split orders
in order to improve RMFS efficiency. In other words, parts
of an order are allowed to be processed in different stations
and combined later at the packaging stations. While splitting
orders improve the efficiency, it cause additional processing
load. Evaluation of extra effort for splitting orders and combining later requires real experiments beyond simulation and
analytical models.
Zou et al. [10] focus on rule based robot to task assignment
with handling speeds of workstations and propose a neighbourhood search algorithm to find a near optimal solution.
Moreover, they analyze shelf block size effect to the RMFS
throughput. Reference [11] identify the performance characteristics of an RMFS by providing a literature review. They
mention the relation between performance and the design
decisions of RMFS for operation as a preliminary finding
from an ongoing study.
Other important optimization approach in order picking
process is to use efficient replenishment and pod allocation
methods. These methods proactively increase picking order
throughput since they provide more efficient options to select
pods. Reference [12] focus on efficient pod alignment on the
warehouse storage area. Reference [13] prove that spreading
inventory across many pods significantly decreases the time
of collecting orders. They also analyze the optimization of
variables such as the number of items per pod, replenishment
level per pod, and picking station to replenishment station
ratio.
Robots can be dedicated specifically to order picking
task or replenishment task. This approach is called dedicated
robot assignment. On the other hand, in pooled robot assignment, both tasks are performed by a single pool of robots.
Merschformann et al. [5] adopts dedicated robot assignment
and assigns two-third of the robots for order picking tasks,
and others to replenishment tasks. Roy et al. [14] analyze
RMFS for single and multiple zone with both dedicated and
pooled robot assignment. They notice that using pooled robot
assignment reduces order picking time, while it increases
the replenishment time. Yuan and Gong [15] perform their
VOLUME 9, 2021 27347
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
order picking analysis with the pooled and dedicated robot
system. They also analyze optimal robot count and speed for
their test environment. Zhou et al. [16] focus on balancing
robot workload while optimizing total robot travel time. They
propose a heuristic balance mechanism to assign tasks to
robots. In other words they select robots for tasks with an aim
of minimizing total travel cost and balancing robot workload.
However, this approach will reduce robot utilization since
robots will need to wait for the others to become free. In a
cost-efficient RMFS, number of robots are optimized and
they are busy most of the time. In a warehouse with several
hundreds of robots, 3 to 4 robots may become idle concurrently [7] and it can be suitable to choose only among those
robots.
B. MAIN CONTRIBUTIONS
In this study we propose a novel Order Batch to Robot
Task Conversion (OBRTC) algorithm which tries to find
minimum number of pods that includes items of multiple
orders. In other words, contrary to existing studies, OBRTC
algorithm handles a number of orders as a single order instead
of handling orders one by one. The number of orders to
be handled as a batch has a crucial role to increase pile-on
value even for high SKU. After OBRTC is executed, WES
selects available totes at the pick stations for items in pod
when the order task is assigned to the robot. The pod of
order task will consist of multiple order‚Äôs items, and it can
be assigned to different stations if necessary. Furthermore,
we propose Adaptive Robot Task Selection (ARTS) method
to select a new task for a robot that become available. New
task selection is performed according to a novel priority based
heuristic model which depends on various criteria such as
distance to robot, totes usage and time. In brief, we first
select pods for multiple orders without assigning stations,
totes, or robots to reach maximal pile-on value. Then we
adaptively manage other resources considering the system
dynamics.
Contrary to the most of the studies in the literature,
we develop and use a fully realistic simulation environment
that includes robot collisions, waiting time on path and stations, and effects of the loaded pod weight. Moreover, our
simulation includes charging process by considering a realistic energy consumption model (depending on movements and
loads) and real charging times.
Some e-commerce companies may sell items even if they
are not already stored in their warehouses and these items
are replenished on demand. Therefore there could be many
already ordered items on the pods loaded at the replenishment
stations. Management of this case is mostly not addressed in
existing studies. In our study, we also test such a scenario and
analyze its effects on the system performance.
In summary, our work has three main contributions;
1) We provide a task planning approach with high pile-on
value even for high number of SKUs.
2) We propose a novel parametric heuristic model for
order task selection process.
3) We develop a highly realistic simulation environment
and provide test results under various decision rules
which shade light on how to design a smart warehouse
system with high efficiency.
Rest of the paper is organized as follows. We describe
the system model and our methods in Section 2. We explain
our simulation model and test parameters in Section 3. Test
results are shown in Section 4. We conclude the paper
in Section 5.
FIGURE 1. Warehouse execution area.
II. MODEL AND METHODOLOGY
A. SYSTEM MODEL
Figure 1 illustrates an RMFS based warehouse system. The
components of this system are the following:
‚Ä¢ Pods: All the warehouse items are stored in the pods.
When an order or replenishment arrives to the system,
it should be converted to the task by assigning appropriate pod or pods. These pods that are reserved by the
system are shown in yellow color in Figure 1 (such as 7).
When a pod is lifted by a robot, its cell becomes free (5 in
Figure 1).
‚Ä¢ Robots: Robots carry pods to the stations for order
collection or replenishment (6 in Figure 1).
‚Ä¢ Pick station (2 in Figure 1): There can be multiple pick
stations in a warehouse, where human workers collect
the order items carried by the robots. Figure 2 shows a
pick station. There exists limited number of totes, and
each tote is assigned for a single order. When an order is
collected, that tote is replaced with an empty one.
‚Ä¢ Replenishment station (4 in Figure 1): Human workers
place replenishment items to the shelves of pods that are
carried by the robots. In a the warehouse, human workers
work only in pick and replenishment stations, and the
rest is no-human zone.
‚Ä¢ Turning cells (3 in Figure 1): A pod may have multiple
faces and an item can be reached only through a single
face [17]. There are two types of pods according to the
number of faces: two-directional and four-directional
(pods that can be seen in Figure 2 are two-directional).
Robots can rotate pods only on turning cells.
27348 VOLUME 9, 2021
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
FIGURE 2. Pick station [18].
‚Ä¢ Charging cells(1 in Figure 1): Robots go to the charging
cells when their batteries are low.
B. METHODOLOGY
There are three main factors that should be handled in a
best way to succeed an efficient life-long task planning in an
RMFS based warehouse: incoming of stock (replenishment),
outgoing of stock (collecting orders) and necessity (such as
charging of robots). In this section, we explain our methodology, algorithms and design decisions to handle these factors
in an efficient way.
1) ORDER-TO-TASK CONVERSION
Order task is the process of collecting orders. We consider
multi-line orders as a usual behavior of e-commerce customers. In the basic approach, each order is converted to order
task(s) individually. Let assume that we have an order with
three items. WES tries to find pods that includes these items.
This order will be completed with at least one pod and at most
three pods. In the basic approach, most of the time robots
carry one pod for just one item of an order. Collecting a multiline order will mostly need more than one order task.
In order to increase the pile-on value, we handle order
batches, instead of handling orders one by one. Order batch
method is usually applied in traditional warehouses which
do not employ robots [6]. Human workers collect orders
after applying some order batch optimization. In this study,
we aim to adapt ‚Äò‚Äòorder batch‚Äô‚Äô concept to RMFS-based smart
warehouse in most effective manner. Figure 3 shows high
level flow of order task process. When an order arrives to
the WES, it is stored in an Order Pool. WES chooses a batch
of orders from this pool and converts these orders to order
tasks (Step 1 in Figure 3). Then these tasks are assigned to the
available robots (Step 2). Then the assigned robot goes under
the pod, lifts it, and carries to the pick station (step 3). Picker
puts order items to the totes. Each order is collected in the tote
that is reserved for that order. When an order is completed, its
tote is departed from the pick station and a new tote is put in
its place.
FIGURE 3. Order task process.
Now we will describe Step 1 of Figure 3, i.e. the order
to task conversion method in more detail. To accomplish
high pile-on value and provide high utilization of robots,
we propose a novel Order Batch to Robot Task Conversion
(OBRTC) algorithm as shown in Algorithm 1.
Algorithm 1 Order Batch to Robot Task Conversion
OrderList ‚Üê nob orders from the set of all orders;
OrderItemList ‚Üê all items of orders in OrderList;
PodList ‚Üê set of all pods in the warehouse;
while OrderItemList 6= ‚àÖ do
1. Podmax ‚Üê Pod that contains highest number of
items in OrderItemList;
2. Create OrderTask with Podmax ;
3. OrderItems ‚Üê All the items of OrderItemList
included in Pod1;
4. Add OrderItems to the OrderTask;
5. Remove OrderItems from OrderItemList;
6. Remove Podmax from PodList;
end
In OBRTC algorithm, firstly we select nob orders from
order list for order to task conversion. This method considers
nob orders as a single order to increase item pod matching
possibilities. Thus, more order items can be collected with
less number of pods. All the items of an order should exist
in the warehouse stock. If there is a missing item for an
order, this order is marked as ‚Äò‚Äòstock-waiting‚Äô‚Äô order and not
included in the task conversion process until the required
stock is provided through replenishment process.
At each iteration, OBRTC algorithm creates an order task
with the pod that includes maximum number of items. Note
that if an order task already exists for this pod (as a result of
VOLUME 9, 2021 27349
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
previous run of OBRTC algorithm), then new items would
be included in this order task, instead of creating a new one.
Then this pod and the items it includes are removed from
the list and the algorithm continues with the next iteration
for converting remaining items to tasks with the remaining
pods. The algorithm terminates when all the items in these
nob orders are converted to tasks.
In the OBRTC algorithm, there are some important design
parameters and restrictions to be considered. The value of nob
has an important role for optimization. Increasing the value of
nob will increase the number of items per task. In other words,
more items will be collected at the pick station when the robot
brings the pod. On the other hand tote count at the pick station
is the important restriction for executing nob orders during
the same time interval. For single order to task conversion,
it is simple to handle tote reservation. Because all the items
of an order task will be collected consecutively in a short time.
However, when the orders are handled as a batch, items of an
order may be collected in an extended time period. Because a
number of order tasks are created by OBRTC simultaneously
and items of an order may be spread over these order tasks
and there could be some gaps between their collection times.
This results in high number of reserved totes that include a
portion of order items. We analyzed the best value of nob in
different scenarios in Section III.
OBRTC algorithm should be executed and the order task
pool should be refilled in appropriate intervals. This is important to avoid idle waiting of robots (due to lack of order
tasks). On the other hand, if task pool includes too many tasks,
then this can increase the execution time of the task selection
process described in the next subsection. Therefore, OBRTC
algorithm is executed when the number of order tasks in the
order task pool becomes less than the number of working
robots.
2) ORDER TASK SELECTION METHOD
After order tasks are created, an order task selection method
is applied to manage resources efficiently and adaptively. For
an available robot, WES assigns a task from the order task
pool. In this study, we propose a heuristic model for task
selection, namely Adaptive Robot Task Selection (ARTS)
which adapts to the dynamics of the resources. WES selects
a task for an idle robot from the task pool according to
three important parameters: 1. Distance of the order task‚Äôs
pod to the robot; 2. Time elapsed after the creation of the
order task; 3. Completion rate of the tote(s) assigned for
the order task. When a robot finishes its previous task and
becomes available, ARTS calculates a priority value for all
order tasks in the pool, and assign the task with the highest
priority.
The priority value of an order task i for a robot r (prir) consists of three components (that correspond to three parameters
mentioned above): Spatial priority prs
ir, temporal priority prt
i
and tote priority pr œÑ
i
. Each of these components are calculated
as follows.
i. Spatial Priority:
prs
ir =
Œ±
1 + log2
(distir + 1)
(1)
where Œ± is a normalization constant and distri is the Manhattan distance between robot r and pod pi of task i, which is
calculated as in (2).
distir = |x(r) ‚àí x(pi)| + |y(r) ‚àí y(pi)| (2)
Note that x(¬∑) and y(¬∑) are x and y coordinates of the cells
that robots and pods stay on. Spatial priority is modeled using
a logarithmic function. This indicates that if the distance is too
low, high priority is given for that robot in order to decrease
path traveling distance, and consequently to reduce the traffic. As the distance increases, there would be diminishing
marginal effect of the distance to the task priority. The value
of Œ± describes maximum possible value of prs
ir, which is
chosen to be 10 in our warehouse.
ii. Temporal Priority:
prt
i = Œ≤ ¬∑ agei (3)
where Œ≤ is a normalization constant and agei
is the elapsed
time (in terms of minutes) after the creation of task i.
Temporal priority is modeled using a linear function that is
not bounded above. This is to guarantee that all the tasks are
handled before a maximum waiting time. The value of Œ≤ is
important to define maximum task age. In our study, we chose
Œ≤ = 0, 2.
iii. Tote priority:
Let us define O as set of all orders and Oi ‚àà O as set of
all orders that has some items to be handled by task i. Tote
priority of task i is defined as
pr œÑ
i =
X
o‚ààOi
(Boi)
1+œÅ
(4)
where œÅ ‚àà [0, 1] is the utilization ratio of the totes. In other
words, it is the ratio of the number of reserved totes to the
number of all totes. Boi is the base value for order-task pair
(o, i), which is related to the effect of task i on completing
order o. We use the following values for Boi:
‚Ä¢ (Reserve) Boi = 1 if task i reserves new tote for order o,
but not includes all items of the order.
‚Ä¢ (ReserveAndComplete) Boi = 2 if task i reserves new
tote for order o, and includes all items of the order (hence
completes the order).
‚Ä¢ (Fill) Boi = 3 if there already exists a partially filled tote
for order o, and task i puts some more item(s) to the tote
without completing the order.
‚Ä¢ (Complete) Boi = 4 if there already exists a partially
filled tote for order o, and task i puts some more item(s)
to the tote and completes the order.
Let us describe tote priority by an example scenario illustrated in Figure 4. We consider a pick station with five totes
(T1 - T5) and consider collection of four orders (O1 - O4).
The items of the orders are shown in the figure. In a specific
time, tote 3 (T3) is reserved for order 2 (O2) and tote 4 is
27350 VOLUME 9, 2021
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
FIGURE 4. Tote reservation scenario.
reserved for order 4, and these totes are partially filled. Now
we will calculate tote priority of the order task 1 (Pod1).
Pod1 includes A and B items of order 1, but doesn‚Äôt include H.
Therefore this task 1 reserves a tote for order 1 without
completing the order, so B11 = 1. On the other hand, order 2
has two items, E and D. E is already put in tote 3, and D is
included in Pod1. Therefore task 1 completes order 2, and
B21 = 4. Moreover, order 3 includes single item (C) which is
included in Pod1. So task 1 reserves and completes order 3,
i.e. B31 = 2. Task1 doesn‚Äôt include any missing item of
order 4, so order 4 will not be included in the calculation of
tote priority. Since two of the five totes are already reserved,
œÅ =
2
5 = 0.4. Tote priority for task 1 is calculated as
1
1.4 + 4
1.4 + 2
1.4 = 10.6.
The rationale behind the proposed tote priority model can
be described as follows. In order to efficiently utilize the totes,
partially filled totes should be completed as soon as possible.
Therefore, if a task fills and completes a tote, it would have
highest priority and the base value is set to 4. If it fills a
tote without completing, again it has a high priority and the
base value is 3. Tasks that reserve new totes are given lower
priority, especially if they only partially fill a tote. Tote priority becomes much more critical when only a few unreserved
totes remain. Therefore the base values are powered by 1+œÅ,
which converges to 2 as the number of idle totes gets closer
to zero.
After finding spatial, temporal and tote priority values,
overall priority of task i with respect to robot r can be simply
defined as the sum of these values.
Pr(i,r) = prs
ir + prt
i + pr œÑ
i
(5)
While priority of a task is effected by all three parameters,
it is dominated by temporal priority (prt
i
) if the task is too
old, and dominated by tote priority (pr œÑ
i
) if the tote utilization
is too high. All the orders created from the same run of the
OBRTC algorithm have almost same temporal priority. For
these order tasks, other priority metrics effect the order of
selection. But if there exists tasks that are generated from
an older order-to-task conversion process, a newer task is
favored only if its pod is too close to the robot. This is
provided by the logaritmic function used in prs
ir.
The proposed heuristic model is designed to dynamically
achieve several performance goals such as reducing robot
travel distance and order completion time, and increasing
system utilization. Here it should be noted that although the
task selection method provides efficient utilization of totes,
it is still possible to not have an available tote for any of the
items in a selected task. In that case this task is not assigned
to the robot, and WES tries to select the next task in the
calculated priority order.
3) ORDER TASK EXECUTION
Order task execution starts just after WES assigns an order
task to the robot by the order task selection method described
above. Figure 5 illustrates the order task execution flow. The
robot goes to the pod and lifts it. Since existence of tote is
checked before task assignment (as described in the previous
part), it is guaranteed that there is at least one available pick
station. If tote assignment is required for any items in the task,
WES tries to assign all totes in a single pick station in order
to decrease robot moving time. WES also tries to balance
workload at the stations while selecting the totes.
FIGURE 5. Order task execution flowchart.
The robot carries the pod to the selected pick station. When
the robot is close to the pick station, WES checks whether
the pod‚Äôs current angle is appropriate for the pick station. If it
is not as desired, the robot goes to the turning cell and the
pod is rotated. After desired angle of the pod is provided,
the robot takes the pod to the picker. Picker collects items
and insert into the tote(s). After the last item of the current
face of the pod is taken, WES checks whether another face
of the pod is also required for this station. When the picking
task is finished for all pod faces in this pick station, WES
checks whether another pick station is waiting for that pod.
If so, the same processes are handled until all required items
at that pod are collected. Afterwards, WES selects a free cell
for the pod to locate. When the robot goes to the pod cell and
release it, order task is completed. Now the robot is ready
for another order task, and task selection process is executed
again. If there is no available task at that moment, the robot
waits until a new task is created.
4) REPLENISHMENT TASK
Replenishment of goods is the other important task of WES
that is performed by autonomous robots. Figure 6 illustrates
overall replenishment task process and Figure 7 illustrates
VOLUME 9, 2021 27351
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
FIGURE 6. Replenishment task process.
FIGURE 7. Replenishment task execution flowchart.
execution of replenishment task. Replenishment to task conversion is simpler than order to task conversion. It starts with
the request of the worker in the replenishment station. Each
station has a single worker. The worker requests a pod to fill
with the replenishment goods. WES selects a pod according
to the free space, i.e. the pods with more free space are prioritized. After selecting a pod, the system waits for an available
robot if all the robots are busy. Replenishment task is assigned
to the first robot that becomes available. The robot goes to the
pod, lifts it and carries it to the replenishment station. If the
pod‚Äôs access direction is not appropriate, the robot first goes
to the turning cell and rotates the pod as desired. Then the
robot carries the pod to the station. A replenishment station
is shown in Figure 8. The worker fills the pod with the items.
Each item‚Äôs barcode is first scanned with a barcode reader,
and then the item is inserted in a shelf of the pod. The worker
should also scan the shelf code in order to assign replenished
items to the shelf. After the worker finishes these jobs, he/she
informs the system by pressing a button. After that, the robot
relocates the pod back to its place.
Several parts of the replenishment task execution directly
depend on the decision of the worker. Replenishment task
starts and ends upon request of the worker. Moreover,
the worker decides which items to locate in the pod, and also
in which shelf. The system may limit number of replenishment items even though the pod has enough space. Several
studies (such as [12], [13]) analyze effects of pod selection
and inventory allocation in the replenishment process. These
works show that classification of items and spreading the
FIGURE 8. Replenishment station [18].
inventory across multiple pods will increase the pod selection
options for order tasks and improve the order throughput
performance. However, inventory classification significantly
increases the complexity of the replenishment task. Inventory
items should be known, classified and ordered. Although
these additional efforts are mentioned in the related work, cost
analysis is not performed and the trade-off between the extra
effort and performance gain is not clear. In addition, the extra
effort also requires extra resources in terms of equipment and
workers, and extra rules.
Optimization of the replenishment task by inventory allocation decisions is not in the main scope of this study.
In order to increase algorithm efficiency in the picking process, we adopt replenishment rules that are easy to install with
low cost of pre-processing. In our model, WES does not have
to know replenishment items and their counts. Items on the
replenishment station may be held on pallets or anywhere.
The worker can choose any item that is easy to take. Pod
selection rule is emptiest-first as mentioned in [5]. Item selection and shelf selection decisions are left to the worker.
Most e-commerce companies sell some items although
they are not stored in their warehouse. They should supply
such items in a short time. In such warehouses, the replenished items typically include lots of already ordered items
(of ‚Äò‚Äòstock-waiting‚Äô‚Äô orders). This fact causes some challenges. Let us assume that there exists items of 100 stockwaiting orders in a replenishment task. The first question is
how to locate these items to the pod. The second question is
when to start collecting these orders.
As mentioned above, WES chooses the pod with most
available free space for replenishment task. However, allocating many items of stock-waiting orders in a single pod will
cause some unwanted situations. WES will want to reserve
100 totes for 100 stock-waiting orders‚Äô items stored in this
pod. Nevertheless, pick stations have limited totes to collect
orders simultaneously. Therefore managing such a highly
27352 VOLUME 9, 2021
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
desired pod will cause moving the pod to the pick station
several times. In order to avoid this situation and increase
manageability of the pods, we limit replenishment count
for each pod. This way, the already ordered items will be
allocated to more pods and pod selection options will be
increased during the order task selection process.
At the first glance, it seems to be an effective solution to
take the incoming pod directly to the pick station without
placing it to the warehouse. If this pod contains all items
of an order, this order will be completed quickly. However,
in most cases this pod will only partially contain items of
stock-waiting orders and it will cause creation of lots of order
tasks. Managing large number of order tasks with a small
number of totes is very difficult. Consequently, it is observed
that taking replenishment items directly to the pick station
reduces global system efficiency, although it may bring a
local gain.
To sum up, we limit number of items to be stored in a single
pod in the replenishment stations with np items. Furthermore,
we relocate the pod to the warehouse without visiting the pick
station even if it includes already ordered items. This pod will
be converted to order task in the next OBRTC execution in the
usual way.
FIGURE 9. Robot life-cycle.
5) ROBOT LIFE-CYCLE
Automated mobile robots are physical components of WES.
When a configured robot turns on, it sends a request to the
WES by introducing itself. After handshaking, WES creates
an entry for the robot in its database, if not exist. Robot lifecycle is shown in Figure 9. Robots wait in the robot pool until
a new task is assigned to them. There are mainly three types
of tasks: order, replenishment and charging tasks. WES will
assign one of these three tasks to the robot according to the
real-time dynamics of the warehouse. WES checks the battery
level of the robot before assigning a task, If it is low, robot will
go to the charging cell. It is charged up to a saturation level
(which is defined as 85% of the full capacity in this study) if
there is a waiting task in the system. Otherwise, it can wait
until fully charging its battery.
The replenishment task starts with the pod request of the
worker in the station. However, there should be a limit for
concurrent pod requests of a worker to avoid needless waiting
of robots in the replenishment station. In this study, we have
limited the maximum number of concurrently running replenishment tasks with the replenishment station count. If there
are replenishment items but there is no robot in the replenishment station (i.e. replenishment station is free), then WES
creates a replenishment task and assigns it to the robot.
Otherwise, WES assigns an order task to the robot with the
order task selection method. The robot executes the order
task as mentioned before. When the robot finishes its task,
it informs the WES and asks for a new task. There is a separate
thread running asynchronously for each robot. This avoids
needless waiting of robots. A robot thread only waits if task
selection process is running for another robot in order to avoid
race conditions. Task assignment to a robot is done in less
than a second, including all waiting time.
Task assignment is one directional. WES assigns tasks, but
a robot cannot select its task, it can just request from the
system. WES evaluates this request and handles task selection
according to real time dynamics. If there is no task in the
pool, it sends the robots to charging even if their battery levels
are not low. WES checks new orders and replenishment for
new task every minute. This system guarantees completion
of order and replenishment processes with high utilization of
resources.
FIGURE 10. WES architecture.
III. SIMULATION STUDY AND NUMERICAL RESULTS
A. SIMULATION ENVIRONMENT
Figure 10 illustrates the main components of WES. The
database functions (insert, update, delete, select) and business
logic (task planning, resource allocation, etc.) are performed
by the Logic (Core) Service. It is a RESTful service so
other components connect with it via HTTP. Logistic Service,
VOLUME 9, 2021 27353
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
Pick Station and Replenishment station screens, Manager
Dashboard and Layer 3 Robot API are. Net Core C# web
applications. Pick Station screen is used by pick worker.
When the robot arrives at the station with the pod, this screen
shows the commands to the pick worker for collecting the
order items. Replenishment station screen is used by the
replenishing worker for inventory allocation. The Manager
Dashboard is for management of warehouse process and components. Reports and results are also shown in the Manager
Dashboard. The 3D Viewer shows robot movements in the
warehouse in 3 dimensions and it is coded with Tree.js 3D
Javascript library and Vue.js.
For each robot, we run a separate simulation application
on the server as Robot Layer 3 API. Low level communication and process on the robot is simulated with realistic parameters. All the delays encountered while processing
commands such as ‚Äò‚Äògo‚Äô‚Äô, ‚Äò‚Äòturn‚Äô‚Äô or ‚Äò‚Äòlift‚Äô‚Äô are considered
in the simulations according to real measurements. Robot
cannot access new command until finishing its last job.
Robot charge management is also simulated. Robot charge
decreases according to its state. For example, a robot will
consume more energy when it picks a pod. All the parameters
are set according to real measurements obtained from Robee
of Makhina Robotics [18] shown in Figure 11.
FIGURE 11. The physical robot (Robee of Makhina Robotics [18]) used in
parameter setting.
Robot path planning is implemented according to the modified collision free A* algorithm proposed in our previous
work [17]. However in this study, we implement some modifications as follows. In the previous algorithm, there exists
some directed paths such that robots are allowed to go only in
single direction. We relaxed this restriction and allow robots
to go in opposite direction by assigning 5 times more cost for
this movement. Increasing the cost per one cell movement
will result in the selection of such paths very rarely, only
if it has significant gain. Allowing the opposite direction
will increase possibility of head to head encountering but it
decreases the total robot traveling time by providing shorter
options. Another modification is that robots are also allowed
to go under the pods. Moving under the pods is not preferred
because there is a restricted movement area and small deviations may cause stopping of the robots. Therefore we set
the same cost as the opposite direction movement for moving
under the pods. Path planning is out of the scope of this paper
so we skip the details to [17].
We analyzed orders of a book e-commerce warehouse in a
two months span. The mean of order line count for an order
was 3,28. Approximately half of the daily orders included
only a single item. We calculate the selling rate of the items.
We create our simulation orders randomly using statistical
characteristics of these orders, so that we accomplish realistic order line counts and items selling rate. Orders arrival
to the WES is simulated with appropriate time intervals
to analyze utilization of robots and picking stations with
changing order density in time. We track and record state of
all dynamic WES processes including robots, pods, shelves,
items, orders, stations, and totes while simulation tests are
running. Main assumptions of our simulation model are the
following.
1) A pod can include up to 500 items. In general, we used
approximately half of this capacity.
2) Orders can be single-line or multi-line.
3) Robot‚Äôs velocity, acceleration/deceleration, and energy
consumption will change according to the weight of
the robot load (picked pod). We have simulated the
weight effect according to whether the robot is loaded
a pod or not. Loaded pod weight is set to 300 kg which
is the half of the robot‚Äôs maximum load capacity.
4) After an order completed in the tote at the pick station,
a new free tote is located instead of the completed one.
This process can be done separately without blocking
picking processes. Hence, time of tote relocating is
ignored.
5) Charging cell count is equal to the robot count so there
is no queue for charging.
6) Each picking and replenishment station has a single
worker.
7) 80% of our pods are two-sided and the rest are foursided. The robot should rotate the pod to the desired
side before the picking or replenishment process.
8) Time elapsed for picking one item at the pick station is
set to 8 seconds. Time elapsed for locating an SKU to
a pod at the replenishment station is set to 6 seconds.
Process time per single item for worker at the replenishment station will be less than the pick station because
typically replenishment task is easier. Replenishment
workers mostly allocate same SKU items at once with
less effort and time. These times may change according
to the physical environment, worker capabilities, etc.
9) Totes are of the same size and they have enough space
to contain items.
10) 10% of the orders arrive the system at the beginning.
Remaining orders arrive the WES gradually in different
time periods. We want to realize e-commerce orders
such that there are different number of orders in the
pool at different time periods. However, there will be
27354 VOLUME 9, 2021
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
always enough orders in the pool to keep robots busy
until all orders are completed.
11) Order arrival duration is divided into four time periods
(for 2000 orders) and replenishment arrives as a bulk at
the end of each period, if not otherwise stated. For more
orders, number of time periods increase proportionally.
B. NUMERICAL RESULTS
We simulate our algorithms on WES under various design
decisions and parameters. We have analyzed our tests under
6 subtitles: (1) Effect of order batch size (nob); (2) Effect of
the number of robots; (3) Robots‚Äô charging time and workload
balance; (4) Effect of the order count; (5) SKU effects on pileon and time; (6) Effect of stock-waiting orders. All tests are
performed for a warehouse where 624 pods are located in an
area of 36 √ó 43 = 1548m
2
. If not otherwise stated, there are
48272 SKU and 169343 items stored in the warehouse. The
mean number of items per SKU is 3,5.
1) ORDER BATCH SIZE
In the first set of experiments, we analyze effect of the
proposed algorithm for various values of nob, which corresponds to order batch size. Tests are performed for 12 robots,
2000 orders, 6560 order items and 6204 replenished items.
There exists 2 or 3 pick stations, and each pick station has
20 totes.
We first simulated the system without applying OBRTC
and ARTS methods. We set nob to one, in other words, each
order is converted to a task individually and WES assigns
these tasks to the robots randomly. In a warehouse with
2 pick stations (and 40 totes), 12 robots completed orders with
6560 items in 1637 minutes. The pile-on number is 1,3. For
3 pick stations (with 60 totes), same number of orders are
completed in 1677 minutes. Then we applied the proposed
OBRTC and ARTS methods by handling orders in batches.
Initially we set nob to 10, and we increase it ten by ten in
each new test in order to find the best value of nob. The
results of tests can be seen in Figure 12. For 2 pick stations, the minimum time for collecting items (981 minutes)
is obtained when nob is 70 for 40 totes. The pile-on values
is 2,6. As mentioned before, achieving high pile-on value
is very important to reduce total time for collecting orders.
The results show that the proposed methodology (with an
optimal nob selection) reduces the process time by 40% for
a warehouse system with 2 pick stations. For a warehouse
with 3 pick stations, the minimum completion time is found
as 910 minutes when nob is set to 120. The pile-on value is
2,99. For this case, reduction in total time is 45,7%, which is
even more than the case with 2 pick stations.
The results shown in Figure 12 indicate that after an
optimal value, further increasing the nob value would start
increasing the order completion time. This is mainly because
of the tote limitation. When there is no available tote in the
pick station, pods will be returned back to the warehouse
without all the items collected. Then they will be carried to
the pick station again after totes become available.
FIGURE 12. Order batch size (nob) vs orders completion time.
FIGURE 13. Order batch size (nob) vs average order departure time.
nob value has also an important effect on the order departure time (ODT), i.e. the waiting time of an order until
departing from the warehouse. The relation between nob and
mean ODT is shown in Figure 13. It is observed that the
best mean ODT value is obtained at the optimal nob value.
Although the ROB algorithm changes FIFO order and items
of an order may be spread over multiple order tasks, mean
ODT value decreases with the batch size until the optimal
nob value. Temporal priority in the ARTS method provides
a balance to avoid long waiting for an order in order task
pool. The maximum ODT, in other words, the longest waiting
time of an order in the pool, is approximately double the
mean ODT value. The mean and maximum values of ODT
are 166 minutes and 305 minutes respectively when nob is
70 and tote count is 40. These values are 134 minutes (mean)
and 260 minutes (max) for 60 totes.
2) ROBOT COUNT
We analyze the effect of robot count on the order completion time and pile-on. We test for 2 pick stations (with
8-16 robots), 3 pick stations (with 8-20 robots) and 4 pick
VOLUME 9, 2021 27355
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
FIGURE 14. Robot count vs orders completion time.
stations (with 15-20 robots). nob is set to 70 for 2 pick stations
and 120 for 3 and 4 pick stations. Figure 14 illustrates the
effect of the robot count on the order completion time. Firstly,
it is observed that completion time does not decrease linearly
with the number of robots. The contribution of extra robot
decreases as number of robots increase. This is because of
extra waiting of robots on path and picking line. As an example result, a robot can carry 37 items per hour (on average)
if 8 robots are employed, while 32 items can be carried per
hour when 20 robots are employed (for 3 pick stations).
Another result is related to the increment in the number of
pick stations. Increasing number of totes increase optimization effect as mentioned before. However, there is a limit
for number of totes in a pick station. Furthermore, opening
new pick station has a cost of employing new worker. Hence,
pick station count should be well optimized. Number of pick
stations should be proportional to number of robots in order
to increase utilization of pick workers. For example, using
3 or 4 pick stations is unnecessary for 8 robots, because
robots will not be able to provide enough items to the pickers.
Figure 14 shows that the difference in completion times for
40 and 60 totes (for the same number of robots) increases
with the robot count. When 8 robots are employed, adding
new 20 totes yields a 4% decrease in the completion time,
while this ratio is (10%) when 16 robots are employed.
Similar result is obtained when we compare the results for
60 and 80 totes. Decrease in the completion time is 6% for
16 robots and 9% for 20 robots.
The effect of the robot count on the pile-on value is shown
in Figure 15. It is observed that while the number of robots
is increased, the pile-on value has been preserved with minor
changes.
3) ROBOTS‚Äô CHARGING AND WORKLOAD BALANCE
We analyze the balance in the workload and charging time of
robots in the warehouse setting with 10 robots and 2 pick stations. All robots work for 42 hours (including charging times)
and collect 13073 items. The results are shown in Table 1. The
total covered distances and total charging times for all robots
are very close to each other. Any robot spends approximately
FIGURE 15. Robot count vs pile-on.
TABLE 1. Robots‚Äô charging and workload balance.
14.5% of the time on charging. This indicates that all the
robots consume almost same amount of energy. It can be
realized that the balance in the workload and energy consumption of the robots comes with the nature of RMFS, where
robots are employed anonymously and are busy most of the
time. This result suggests that there is no need for extra load
balancing effort (such as [16]) in the proposed system.
TABLE 2. Effect of order count.
4) ORDER COUNT
We increase number of orders up to 5000, and the number
of replenished items in parallel. We test for 20 robots and
4 pick stations (80 totes). Table 2 illustrates the obtained
results. It is observed that there is an approximately linear
relation between order count and completion time. Furthermore, the pile-on value is preserved while the order count
increases. For each case, a robot carries around 35 items per
hour.
5) SKU EFFECTS ON PILE-ON AND TIME
SKU and stock count have important effect on pile-on value.
Increasing SKU decreases the pile-on value. Merschforman et al. [5] describe the negative effect of high SKU by
27356 VOLUME 9, 2021
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
performing tests for up to 10000 SKU. However, in the above
tests, we analyze our algorithms for 48272 SKU which is
approximately 5 times more than the maximum SKU value
considered in [5]. We perform another set of tests after
decreasing SKU to 22603 for approximately same amount
of stock, and increasing stock per SKU from 3,51 to 7,53.
The tests are performed for 2000 and 4000 orders, 12 robots
and 3 pick stations. The results are shown in Table 3.
When SKU is decreased, the pile-on value increases from
2,99 to 3,7 (for 2000 orders) and 3,02 to 3,78 (for
4000 orders). This corresponds to an increase of approximately 25%. As a result, 4000 orders (12868) are collected
in 1815 ‚àí 1601 = 214 minutes less time after decreasing the
SKU value.
TABLE 3. Effect of SKU.
6) EFFECT OF STOCK-WAITING ORDERS
In the replenishment station, the maximum number of items
that can be located in a pod is limited with np in order to manage stock-waiting orders, as mentioned in Section II-B4. In all
our tests, we set np to 40. In order to test the system with more
stock-waiting orders, we remove some items arbitrarily from
the stock at the beginning. Tests are performed for 12 robots,
3 pick stations and 2000 orders (6560 items). We consider
3 different replenishment scenarios which result in different
number of stock-waiting orders. Although all 3 scenarios
have the same number of items to replenish as 6204, they
differ in the time intervals that the replenishment arrives to the
warehouse. In the first scenario, all the replenishment arrives
as a bulk after arrival of all orders. In the second scenario,
replenishment is partitioned into two parts. The first part
arrives to the system in the middle and the second part arrives
at the end. In the third scenario, replenishment is partitioned
into four parts and each part arrives in equal time intervals.
TABLE 4. Effect of stock waiting orders.
The effect of stock-waiting orders can be observed
in Table 4. When stock-waiting orders increase, total collection time of all orders also increase. This increase is
aligned with expectations, because it causes lower utilization
of the system while orders are waiting for stock, compared
to the case where these order tasks are distributed throughout
the day. Hence, this fact causes a decrease in the pile-on value.
IV. CONCLUSION
In this work, we propose a task planning approach for RMFSbased smart warehouses, with the aim of utilizing system
resources efficiently and adaptively. We describe a novel
algorithm for conversion of order batches to tasks. We also
propose a heuristic model for assignment of tasks to robots.
We consider various system dynamics such as location and
battery level of robots, replenishment of new stock in various
pods, utilization level of totes and time elapsed after generation of order tasks. We develop a highly realistic simulation
environment which can be considered as a digital twin of the
real system. We take into account all realistic considerations
such as routing, queuing, turning, energy consumption and
charging of the robots. We analyzed the total elapsed time,
pile-on value, mean order waiting time and total distance
covered by the robots. We realize crucial relations between
all of these outputs, especially between pile-on value and
total elapsed time. It is shown that the proposed algorithms
preserve the pile-on value for various number of robots and
orders, and work well under different situations even in high
SKU. The obtained results show that the reduction in total
completion time of orders is about 40% in a warehouse with
2 pick stations and 40 totes, and about 46% in a warehouse
with 3 pick stations and 60 totes.
Although this work gives significant insight into how to
design an efficient RMFS-based warehouse system, there are
always open directions for research. In this study, in the orderto-task conversion step, orders are handled with the order
they arrive. As a future work, an additional optimization
study can be performed while selecting orders into the order
batch. Another idea is to allow allocation of temporary totes
in pick stations when there is no available tote for some of the
order items in a coming pod. This may increase efficiency but
also increase complexity due to additional process for workers. Performance effects and induced costs of these further
improvements remain to be discovered.
ACKNOWLEDGMENT
Ali Bolu worked as a Robotics Engineer for developing
RMFS in Makhina Robotics.
REFERENCES
[1] P. R. Wurman, R. D‚ÄôAndrea, and M. Mountz, ‚Äò‚ÄòCoordinating hundreds of
cooperative, autonomous vehicles in warehouses,‚Äô‚Äô AI Mag., vol. 29, no. 1,
p. 9, 2008.
[2] N. Boysen, R. de Koster, and F. Weidinger, ‚Äò‚ÄòWarehousing in the
E-commerce era: A survey,‚Äô‚Äô Eur. J. Oper. Res., vol. 277, no. 2,
pp. 396‚Äì411, Sep. 2019.
[3] Steve Banker. (2016). Robots in the Warehouse: It‚Äôs Not Just Amazon.
Accessed: Sep. 7, 2020. [Online]. Available: https://www.forbes.com/
sites/stevebanker/2016/01/11/robots-in-the-warehouse-its-not-justamazon/?sh=d7f4dcc40b8f
[4] T. Lamballais, D. Roy, and M. B. M. De Koster, ‚Äò‚ÄòEstimating performance
in a robotic mobile fulfillment system,‚Äô‚Äô Eur. J. Oper. Res., vol. 256, no. 3,
pp. 976‚Äì990, Feb. 2017.
[5] M. Merschformann, T. Lamballais, M. B. M. de Koster, and L. Suhl, ‚Äò‚ÄòDecision rules for robotic mobile fulfillment systems,‚Äô‚Äô Oper. Res. Perspect.,
vol. 6, 2019, Art. no. 100128.
VOLUME 9, 2021 27357
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
[6] J. Zhang, X. Wang, and K. Huang, ‚Äò‚ÄòIntegrated on-line scheduling of
order batching and delivery under B2C E-commerce,‚Äô‚Äô Comput. Ind. Eng.,
vol. 94, pp. 280‚Äì289, Apr. 2016.
[7] J. J. Enright and P. R. Wurman, ‚Äò‚ÄòOptimization and coordinated autonomy
in mobile fulfillment systems,‚Äô‚Äô in Proc. 25th AAAI Conf. Artif. Intell.,
2011, pp. 33‚Äì38.
[8] L. Xie, N. Thieme, R. Krenzler, and H. Li, ‚Äò‚ÄòEfficient order picking
methods in robotic mobile fulfillment systems,‚Äô‚Äô 2019, arXiv:1902.03092.
[Online]. Available: http://arxiv.org/abs/1902.03092
[9] N. Boysen, D. Briskorn, and S. Emde, ‚Äò‚ÄòParts-to-picker based order processing in a rack-moving mobile robots environment,‚Äô‚Äô Eur. J. Oper. Res.,
vol. 262, no. 2, pp. 550‚Äì562, Oct. 2017.
[10] B. Zou, Y. Gong, X. Xu, and Z. Yuan, ‚Äò‚ÄòAssignment rules in robotic mobile
fulfilment systems for online retailers,‚Äô‚Äô Int. J. Prod. Res., vol. 55, no. 20,
pp. 6175‚Äì6192, Oct. 2017.
[11] R. Hanson, L. Medbo, and M. I. Johansson, ‚Äò‚ÄòPerformance characteristics
of robotic mobile fulfilment systems in order picking applications,‚Äô‚Äô IFACPapersOnLine, vol. 51, no. 11, pp. 1493‚Äì1498, 2018.
[12] F. Weidinger, N. Boysen, and D. Briskorn, ‚Äò‚ÄòStorage assignment with rackmoving mobile robots in KIVA warehouses,‚Äô‚Äô Transp. Sci., vol. 52, no. 6,
pp. 1479‚Äì1495, Dec. 2018.
[13] T. Lamballais Tessensohn, D. Roy, and R. B. M. De Koster, ‚Äò‚ÄòInventory
allocation in robotic mobile fulfillment systems,‚Äô‚Äô IISE Trans., vol. 52,
no. 1, pp. 1‚Äì17, Jan. 2020.
[14] D. Roy, S. Nigam, R. de Koster, I. Adan, and J. Resing, ‚Äò‚ÄòRobot-storage
zone assignment strategies in mobile fulfillment systems,‚Äô‚Äô Transp. Res.
E, Logistics Transp. Rev., vol. 122, pp. 119‚Äì142, Feb. 2019.
[15] Z. Yuan and Y. Y. Gong, ‚Äò‚ÄòBot-in-time delivery for robotic mobile fulfillment systems,‚Äô‚Äô IEEE Trans. Eng. Manag., vol. 64, no. 1, pp. 83‚Äì93,
Feb. 2017.
[16] L. Zhou, Y. Shi, J. Wang, and P. Yang, ‚Äò‚ÄòA balanced heuristic mechanism
for multirobot task allocation of intelligent warehouses,‚Äô‚Äô Math. Problems
Eng., vol. 2014, Nov. 2014, Art. no. 380480.
[17] A. Bolu and O. Korcak, ‚Äò‚ÄòPath planning for multiple mobile robots in
smart warehouse,‚Äô‚Äô in Proc. 7th Int. Conf. Control, Mechatronics Autom.
(ICCMA), Nov. 2019, pp. 144‚Äì150.
[18] Boost Your Warehouse With Robee. Accessed: Dec. 25, 2020. [Online].
Available: https://www.makhina.com/product
ALI BOLU (Member, IEEE) received the B.Sc.
degree in telecommunication engineering from
Istanbul Technical University, Istanbul, Turkey,
in 2015. He is currently pursuing the M.Sc. degree
in computer engineering with Marmara University,
Istanbul, Turkey.
He worked as a Robotics Engineer for developing RMFS with Makhina Robotics. He has been
working on robotic software technologies, since
the beginning of 2018, coping with math, optimization, and algorithmic challenges. He currently works in Delivers.ai as a
Robotic Software Engineer. His research interests include robotics systems
and their optimizations.
Omer Korcak (Member, IEEE) received the
B.S. (Hons.), M.S., and Ph.D. degrees in computer
engineering from Bogazici University, in 2002,
2004, and 2009, respectively. In 2011, he worked
as a Visiting Researcher with Deutsche Telekom
Laboratories, Berlin. He is currently an Assistant Professor with Marmara University, Istanbul.
His main research interests include in the general
area of network optimization, network economics,
game theory and resource management, and with
applications to wireless networks and multi-agent systems.
27358 VOLUME 9, 2021
Journal of Military and Information Science
Corresponding Author: A.Hande Erol Binguler, Vol. 4, No.1
38
Binguler, A.H.E., Bulkan, S., M., (2016). A Heuristic Approach for Shelf Space Allocation Problem, Journal of Military 
and Information Science, Vol4(1),38-44.
ICOVACS 2015, International Conference on Value Chain Sustainability
A Heuristic Approach for a Shelf Space Allocation Problem 
A. Hande Erol Binguler *
‚Ä°
, Serol Bulkan**, Mustafa 
* Department of Industrial Engineering, Marmara University, Institute for Graduate Studies in Pure and Applied Sciences, 
Goztepe 34722, Istanbul, Turkey, hande.erol@marmara.edu.tr
** Department of Industrial Engineering, Marmara University, Faculty of Engineering, 
Goztepe 34722, Istanbul, Turkey, sbulkan@marmara.edu.tr
*** Department of Computer Engineering, Marmara University, Faculty of Engineering, 
Goztepe 34722, Istanbul, Turkey, agaoglu@marmara.edu.tr
‚Ä°Corresponding Author; Address: Tel: +90 216 414 05 45 Fax: +90 216 550 52 13, e-mail: hande.erol@marmara.edu.tr
Abstract- A shelf space allocation problem (SSAP) is a special form of multi-constraint knapsack problem. The main difference 
between a knapsack problem and a SSAP is that a knapsack problem has only capacity constraints. Commercial space 
management systems use many different heuristic approaches for allocating shelf space due to the NP-hard complexity of the 
SSAP. These heuristics are usually based on simple intuitive rules that could be easily used in practice to implement shelf space 
allocation decisions. This paper develops a new heuristic to obtain a good allocation of shelf space for different products in order 
to increase profitability under different constraints such as limited shelf space and elasticity factors.
Keywords- Evolutionary algorithms; heuristic methods; shelf space allocation problem. 
1. Introduction
The knapsack problem is a combinatorial optimization 
problem. Given a set of items, each with a mass and a 
value, the goal is to determine how many of items to 
include in collection so that the total weight can be 
compared with a given capacity and the total value is 
as high as possible. Different knapsack problems exist 
in combinatorics, applied mathematics, and 
optimization.
The knapsack problem has been studied since 1897. 
Tobias Dantzig was the first researcher that referred to 
this problem. Dantzig suggested the name that is 
obtained in myths before a mathematical problem is 
fully defined. For all knapsack problems, capable 
reduction algorithms have been proposed that permit 
one to fix numerous decision variables for objective 
functions (Pisinger, 1995). There are many variations 
of knapsack problems, such as multi-objective 
knapsack problem, multidimensional knapsack 
problem, quadratic knapsack problems, and subset sum 
problem.
The multidimensional knapsack problem is similar to 
the bin packing problem. In this problem, a subset of 
items can be chosen to be placed in a bin so that all the 
items have to be packed in the minimum number of 
bins. The concept is that the items have multiple 
dimensions. This variation is apparent in many 
problems in scheduling/loading in Operations 
Research (OR) and polynomial-time approximation 
schemes.
Due to the NP-hard computational complexity of bin 
packing problems, optimal solutions to the large size 
instances cannot be obtained. To solve these problems, 
new heuristics have been developed such as first fit 
algorithm, tabu search algorithm, and genetic 
algorithm. There are certain similarities between bin 
packing problems and parallel machine scheduling 
problems where the objective is the minimization of 
the make span.
The shelf space allocation problem (SSAP) was then 
also viewed as a two-dimensional packing problem 
which was studied by different researchers. Gilmore 
and Gomory proposed the first model for twodimensional packing problems, by modifying their 
column generation approach for one-dimensional 
packing problems (Gilmore and Gomory, 1961). 
Beasley also worked on bin packing problems and 
Journal of Military and Information Science
Corresponding Author: A.Hande Erol Binguler, Vol. 4, No.1
39
Binguler, A.H.E., Bulkan, S., M., (2016). A Heuristic Approach for Shelf Space Allocation Problem, Journal of Military 
and Information Science, Vol4(1),38-44.
formulated an Integer Linear Programming (ILP) 
model for two-dimensional packing problems 
(Beasley, 1985). Hadjiconstantinou and Christofides 
developed a similar model for this kind of problem 
(Hadjiconstantinou and Christofides, 1995). Fekete 
and Schepers studied a new bin packing problem based 
on graph theory (Fekete and Schepers, 1998), and Lodi 
et.al. worked on a special kind of problem where the 
products are packed by levels (Lodi et. al., 2002). 
Michael and Moffitt showed that item sizes and the 
capacity of bins span a vector of values, requiring that 
a feasible or an optimal assignment of the items must 
satisfy the capacity constraints in all dimensions 
(Michael and Moffitt, 2013).
In the logistics field, shelf space is one of the main 
resources to attract more consumers. Effective shelf 
space management can reduce the inventory levels, 
and increase wholesaler relationship and customer 
satisfaction (Fancher, 1991). Shelf space is one of the 
major resources in retail environment (Hwang et al., 
2009). Therefore, the current shelf space management 
decision is an essential issue in retail operation 
management.
SSAP is a kind of multi-constraint knapsack problem. 
SSAP with some policy constraints is not necessary in 
a knapsack problem. The main assumption of a 
knapsack problem is that there are one or more 
dominant resources in the problem such as budget or 
capacity. Commercial space management systems use 
many different heuristic approaches for allocating 
shelf space due to the NP-hard complexity of the 
SSAP. These heuristics are usually based on simple 
intuitive rules that could be easily used in practice to 
obtain shelf space allocation decisions (Zufryden, 
1986). The concern for practicability and simplicity for 
these approaches is on the performance of the space 
allocation decisions. According to technological 
growth, the development of optimization approaches 
to solve SSAP has reached a feasible solution to space 
management systems stage (Yang, 2001).
In retail store, SSAP is used as a decision problem to 
attain the best possibly objective using operational 
constraints. The commercial space management 
systems generally use relatively simple intuitive rules 
to develop operating procedures designed easily to 
make decisions of shelf space allocation in practice 
(Yang and Chen, 1999). Space allocation affects store 
profitability through both the demand function 
considering main and cross space elasticities together, 
and through the cost function (procurement, carrying 
and out-of-stock costs) (Corstjens and Doyle, 1981) . 
Previous studies, usually focused on a limited number 
of brands and only a few shelves (Dreze et al., 1994).
Hwang et al. proposed a shelf space design 
mathematical model and item allocation problem to 
maximize the retailer‚Äôs profit. Space elasticity on 
demand and location effect are included in their model. 
They developed a Genetic Algorithm to solve the 
problem (Hwang et al., 2009).
In this study, a model is proposed as an aggregated 
optimization model for shelf space allocation. A 
modified integer programming model was developed 
to increase the applicability in practice. The objective 
is to determine the best allocation of the product items 
to the most suitable shelf space in order to maximize 
objective function adding space elasticity factor. A 
Simulated Annealing (SA) algorithm is proposed to 
allocate items to shelf space, subject to given 
constraints.
2. Literature Survey
Carvalho studied the formulation of arc flow including 
side constraints for one dimensional bin packing 
problems. A branch and price procedure that unifies 
overdue variable generation and branch and bound are 
used for the proposed model. OR Library test data sets 
were used for this study. A strong lower bound was
derived and the linear relaxation leads to tractable 
branch and bound trees for these instances (Carvalho, 
1999).
Lodi et al. (1999) explored the problem class arising 
from all combinations of requirements that the items 
were obtained through the sequence of edge-to-edge 
cuts parallel to the bin edges. A heuristic algorithm and 
a combined tabu search approach were adapted to 
change the neighborhood for a specific problem (Lodi 
et al., 1999).
Fekete and Schepers (2001) studied dual feasible 
solutions and proposed a simple generic approach to 
obtain fast lower bounds of bin packing problems. This 
study also provides a general framework for 
establishing new bounds (Fekete and Schepers, 2001).
Retailers benefit from the optimum allocation of 
products into shelves in two ways: they reduce the 
costs of shelf replacement and inventory, and increase 
sales. The sales quantity of products depends on many 
factors such as location of the product within shelf, 
product facings and adjacent products (Dreze et al.,
1994). Anderson and Amato (1973) showed that the 
companies increased the demand for a product by 
increasing the display area on the shelf. 
Table 1 summarizes the research, algorithms, and 
references in this area.
Yang presented a greedy algorithm to generate good 
solutions (Yang, 2001). Lim et al. improved Yang‚Äôs 
Journal of Military and Information Science
Corresponding Author: A.Hande Erol Binguler, Vol. 4, No.1
40
Binguler, A.H.E., Bulkan, S., M., (2016). A Heuristic Approach for Shelf Space Allocation Problem, Journal of Military 
and Information Science, Vol4(1),38-44.
heuristic approach and compared the original and the 
improved heuristics with three metaheuristic 
algorithms. Their algorithm that incorporates local 
search found the best results (Lim et al., 2004).
Table 1. Research/Algorithms and references
Research/Algorithm Reference
Demand model for a product depends on direct elasticity Corstjens and Doyle (1981)
Dynamic programming solution to a simplified version Zufryden (1986)
Greedy algorithm Yang (2001)
Squeaky Wheel Optimization algorithm Lim et al. (2004) 
Integrated mathematical model on multi-level shelves Hwang et al. (2005) 
Data mining approach and association rule mining Chen and Lin (2007) 
A model for two local chains using proprietary data in supermarket et al. (2007)
The wholesalers effect pricing on retailers allocation decisions Martinez-de-Albeniz and Roels (2011)
Model with elasticities at different aggregation levels Eisend (2014)
3. Problem Definition
Pùëñùëò is the profit of the product i on shelf k , Xùëñùëôùëò is the 
decision variable to identify if product i is in the l
th
position on shelf k, Eùëñùëó is the cross price elasticity if 
the product i is to the right of the product j on the shelf,
then the objective function can be formulated as:
ùëÄùëéùë• ùëÉ = ‚àë‚àëùëÉùëñùëò
ùêº
ùëñ=1
ùêæ
ùëò=1
‚àó ùëãùëñ1ùëò + ‚àë‚àë‚àë‚àë(ùëÉùëñùëò
ùêº
ùëó=1
‚àó ùëãùëñ1ùëò)
ùêø
ùëô=2
ùêº
ùëñ=1
ùêæ
ùëò=1
‚àó (ùê∏ùëñùëó ‚àó ùëãùëó(ùëô‚àí1)ùëò) (1)
Subject to:
‚àë‚àëùëéùëñ
ùêø
ùëô=1
ùêº
ùëñ=1
‚àó ùëãùëñ1ùëò ‚â§ ùëáùëò ùëò = 1,2, ‚Ä¶ ,ùêæ ( ùë†‚Ñéùëíùëôùëì ùë†ùëùùëéùëêùëí ùëêùëúùëõùë†ùë°ùëüùëéùëñùëõùë°) (2)
‚àë‚àëùëãùëñùëôùëò
ùêæ
ùëò=1
ùêø
ùëô=1
‚â• ùêøùëñ
ùëñ = 1,2, ‚Ä¶ ,ùêº (ùëôùëúùë§ùëíùëü ùëèùëúùë¢ùëõùëë ùëìùëúùëü ùëíùëéùëê‚Ñé ùëùùëüùëúùëëùë¢ùëêùë°) (3)
‚àë‚àëùëãùëñùëôùëò
ùêæ
ùëò=1
ùêø
ùëô=1
‚â§ ùëàùëñ
ùëñ = 1,2, ‚Ä¶ ,ùêº (ùë¢ùëùùëùùëíùëü ùëèùëúùë¢ùëõùëë ùëìùëúùëü ùëíùëéùëê‚Ñé ùëùùëüùëúùëëùë¢ùëêùë°) (4)
Xùëñùëôùëò = {
1 if the product ùëñ is located to the ùëô
ùë°‚Ñé position in the ùëò
ùë°‚Ñé
shelf
0 otherwise
Where:
k = 1,2, ‚Ä¶, K the number of shelves
i, j= 1,2, ‚Ä¶, I the number of products 
l = 1,2, ‚Ä¶, L the position of products
ùëáùëò : the length of shelf k
ùëéùëñ
: the length of product i
ùêøùëñ
: the lower bound to allocate product i
ùëàùëñ
: the upper bound to allocate product i
Journal of Military and Information Science
Corresponding Author: A.Hande Erol Binguler, Vol. 4, No.1
41
Binguler, A.H.E., Bulkan, S., M., (2016). A Heuristic Approach for Shelf Space Allocation Problem, Journal of Military 
and Information Science, Vol4(1),38-44.
4. Simulated Annealing
SA is one of the first available meta-heuristics. 
Therefore it is not astonishing that it is also the first 
one to be applied to Quadratic Assignment Problem 
(QAP) (Ji et al., 2006). SA is a local search that relies 
on the process of statistical mechanics. Kirkpatrick 
et al. (1983) were the first researchers who used the 
Metropolis algorithm as a heuristic to solve the 
traveling salesman problem. They proposed an 
iterative local search method called SA to solve 
combinatorial optimization problems (Kirkpatrick et 
al., 1983).
Kirkpatrick et al. (1983) proposed a solution 
procedure to deal with these problems. Annealing is 
used to obtain a ‚Äúwell ordered‚Äù solid state of minimal 
energy as an experimental technique. This technique 
includes heating material with a high temperature 
then lowering the temperature slowly. The SA
method includes two parameters; annealing and
temperature coefficients (Kirkpatrick et al., 1983)
(Dreo et al., 2006).
Figure 1 shows the flow chart of the SA algorithm. 
When this algorithm is adapted to the placement 
problem of components, simulated annealing 
operates a disorder-order transformation (Dreo et al., 
2006). The pseudocode of SA is given in Figure 2.
SA starts with an initial solution s (obtained either 
randomly or from a simple construction heuristic) 
and generates a new solution s‚Äô in each step. 
Acceptance or rejection of this solution s‚Äô is done 
according to the acceptance criteria. In order to 
implement an SA algorithm, effective parameters 
and functions must be specified. For an SA 
algorithm, an annealing schedule is very important. 
In this schedule, T0 is an initial temperature, new 
temperature is obtained from the previous 
temperature (UpdateTemp), a number of iterations 
must be performed at each temperature (inner loop 
criterion), and a termination condition (outer loop 
criterion) is used (Stutzle, 1998).
Since the convergence of the algorithm to an 
optimum solution under certain conditions can be 
proved, SA can attract mathematicians on solving 
the NP-hard problems. Mathematically, the theory of 
Markov chains can be used to model SA. The SA 
algorithm converges asymptotically to the optimal 
solution (Stutzle, 1998).
Burkard and Rendl‚Äôs (1984) motivated simulation 
procedure for combinatorial optimization problems 
is one of the first applications of SA to the QAP. It 
was demonstrated that SA outperformed most of the 
existing heuristics for the QAP at that time. The 
corresponding algorithm yields a promising 
improvement of the trade-off between computation 
time and solution quality (Burkard and cela, 1995). 
Thonemann and Bolte (1994) proposed an improved 
SA algorithm for the QAP. A metaheuristic closely 
related to SA is also applied to QAP by Nissen and 
Paul (1995) (Erol, 2010).
Fig 1. Simulated Annealing algorithm flow chart (Dreo et 
al., 2006) 
Journal of Military and Information Science
Corresponding Author: A.Hande Erol Binguler, Vol. 4, No.1
42
Binguler, A.H.E., Bulkan, S., M., (2016). A Heuristic Approach for Shelf Space Allocation Problem, Journal of Military 
and Information Science, Vol4(1),38-44.
procedure Simulated Annealing
generate initial solution k, kbest = k, initial 
value for T0, i=0,
while outer-loop criterion not satisfied do
 while inner-loop criterion not satisfied do
 k‚Äô = Generate_Random_Solution (k)
 k = Acc_Solution (Ti ; k ; k‚Äô)
 if (f(k) < f(kbest)
 kbest= k
 end 
 Ti+1= Update_Temp ( Ti ), i = i+1
end
return kbest
end Simulated Annealing
Fig 2. Simulated Annealing algorithm outline. (Stutzle, 
1998)
Burkard and Rendl (1984) developed a general local 
search heuristic based on a simulated cooling process 
applicable to any combinatorial optimization 
problems once a neighborhood structure was 
introduced in the set of feasible solutions (Burkard and 
Rendl, 1984). In particular, Burkard et al. apply SA to 
the QAP (Burkard et al., 1998). Other approaches for 
applying SA to QAP are the studies of
Bos (1993), Yip and Pao (1994), Burkard and cela 
(1995), Peng et al. (1996), Tian et al. (1996 and1999), 
Mavridou and Pardalos (1997), Chiang and Chiang 
(1998), Misevicius (2000 and 2003), Tsuchiya et al. 
(2001), Siu and Chang (2002). These studies differ 
from each other on the implementation of cooling 
process or the thermal equilibrium (Erol, 2010).
The advantages of the SA method are the flexibility on 
the evaluations of the problem and the ease of 
implementation. On the other hand, the main 
disadvantage of SA is the difficulty of adjustments of 
temperature decrease. SA obtained excellent results 
for large size problems (Dreo et al., 2006).
5. Simulated Annealing Application
The definitions of the initial temperature and the 
freezing temperature or the convergence condition are
very essential in increasing the speed and accuracy of 
the SA algorithm. For this reason, many tests are 
performed to find effective temperatures. The 
repetition reduction rate is chosen by trial and error. 
For producing new generation, the switching operator 
is used in the inner loop thus, this operator can find the 
best possible result. Process optimization is performed 
in a Java program.
6. Results and Conclusion
The result of the Simulating Annealing algorithm is 
summarized in Table 2. In order to evaluate the 
efficiency of SA, average result of 100 independent 
runs are given.
Table 2. Comparison of algorithm results
Problem name Min z Mean z Max z Average 
run time
Simulated 
Annealing 
Algorithm
106.85 162.38 193.85 200.18
Genetic Algorithm 
(Bilsel et al., 2013)
145.95 162.38 176.25 253.13
Greedy Algorithm 
(Yang, 2001)
135.90 135.90 135.90 --
Greedy Algorithm 
with improvements 
(Ayhan et al., 2007)
146.10 146.10 146.10 --
As can be seen in Table 2, the proposed SA algorithm 
performs better than the heuristics of both Yang 
(2001) and Ayhan et al. (2007) its average 
performance is the same as the genetic algorithm of 
Bilsel et al. However, for the best (max) solution, the 
proposed SA algorithm outperforms Bilsel et al.‚Äôs 
genetic algorithm. These results show that SA is more 
suitable to solve SSAP.
As a future study, more problem instances will be 
solved to demonstrate the success of proposed SA 
heuristic.
References
Anderson, E.E. & Amato, H.N. (1973). A Mathematical Model 
for Simultaneously Determining the Optimal Brand-Collection 
and Display-Area Allocation. Oper. Res., 22, 13-21.
Beasley, J.E. (1985). An exact two-dimensional non-guillotine 
cutting tree search procedure. Oper. Res., 33, 49‚Äì64.
Bos, J. (1993). A quadratic assignment problem solved by 
simulated annealing. Journal of Environmental Management, 
37(2), 127-145.
Burkard, R.E., & cela, E. (1995). Heuristics for bi-quadratic 
assignment problems and their computational comparison.
European Journal of Operations Research 83, 283-300.
Journal of Military and Information Science
Corresponding Author: A.Hande Erol Binguler, Vol. 4, No.1
43
Binguler, A.H.E., Bulkan, S., M., (2016). A Heuristic Approach for Shelf Space Allocation Problem, Journal of Military 
and Information Science, Vol4(1),38-44.
Burkard, R.E., cela, E., Pardalos, P.M., & Pitsoulis, L. (1998). 
The quadratic assignment problem. In P.P. Pardalos & M.G.C. 
Resende (Eds.), Handbook of Combinatorial Optimization (pp. 
241-238). Dordrecht, Netherlands: Kluwer Academic Publishers.
Burkard, R.E. & Rendl, F. (1984). A thermodynamically 
motivated simulation procedure for combinatorial optimization 
problems. European Journal of Operations Research, 17(2), 169-
174.
Carvalho, J.M.V. (1999). Exact solution of bin‚Äêpacking problems 
using column generation and branch‚Äêand‚Äêbound. Annals of 
Operations Research, 86, 629-659. 
Chen, M.C., & Lin, C.P. (2007). A data mining approach to 
product assortment and shelf space allocation. Expert Systems 
with Applications, 32, 976‚Äì986.
Chiang, W.C. & Chiang, C. (1998). Intelligent local search 
strategies for solving facility layout problems with the quadratic 
assignment problem formulation. European Journal of 
Operational Research, 106(2-3), 457-488.
Corstjens, M., & Doyle, P. (1981). A Model for Optimizing Retail 
Space Allocations. Management Science 27, 822-833.
Dreo, J., Petrowski, A., Siarry, P., & Taillard, E. (2006).
Metaheuristics for Hard Optimization: methods and case studies.
Berlin, Germany: Springer. ISBN: 10-3-540-23022-X. 
Dreze, X., Hoch, S.J., & Purk M.E. (1994). Shelf Management 
and Space Elasticity. Journal of Retailing 70, 301-326.
Eisend, M. (2014). Shelf space elasticity: A meta-analysis.
Journal of Retailing, 90(2), 168-181. 
Erol, A.H. (2010). A heuristic solution algorithm for the quadratic 
assignment problems. Master thesis, Marmara University, 
Institute for Graduate Studies in Pure and Applied Sciences, 
Turkey; Supervisor: Asst. Prof. Dr. Serol Bulkan.
M.M., Karasan, O.E., & Pinar, M.c. (2007). A Model 
and Case Study for Efficient Shelf Usage and Assortment 
Analysis. Annals of Operations Research, 180(1), 105-124.
Fancher, L.A. (1991). Computerized space management: A 
strategic weapon. Discount Merchandiser, 31(3), 64-65.
Fekete, S.P., & Schepers, J. (2001). New classes of fast lower 
bounds for bin packing problems. Mathematical Programming,
91(1), 11-31.
Fekete, S.P., & Schepers, J. (1998). New classes of lower bounds 
for bin packing problems, in: R.E. Bixby, E.A. Boyd & R.Z. Rƒ±ÃÅosMercado (Eds.), Integer Programming and Combinatorial 
Optimization (IPCO 98), Lecture Notes in Computer Science, 
1412 (pp. 257‚Äì270), Berlin , Germany: Springer.
Gilmore, P.C., & Gomory, R.E. (1961). A linear programming 
approach to the cutting stock problem. Oper. Res., 9, 849‚Äì859.
Hadjiconstantinou, E., & Christofides, N. (1995). An exact 
algorithm for general, orthogonal, two-dimensional knapsack 
problems. Eur. J. Oper. Res., 83, 39‚Äì56.
Hwang, H., Choi, B., & Lee, G. (2009). A genetic algorithm 
approach to an integrated problem of shelf space design and item 
allocation. Computers & Industrial Engineering, 56 , 809‚Äì820.
Hwang, H., Choi, B., & Lee, M.J. (2005). A model for shelf space 
allocation and inventory control considering location and 
inventory level effects on demand. International Journal of 
Production Economics, 97, 185‚Äì195.
Ji, P., Wu, Y., & Liu, H. (2006). A Solution Method for the 
Quadratic Assignment Problem (QAP), The Sixth International 
Symposium on Operations Research and Its Applications 
(ISORA‚Äô06), Xinjiang, China, August 8‚Äì12, 106‚Äì117.
Kirkpatrick, S., Gelatt, C., & Vecchi, M. (1983). Optimization by 
simulated annealing. Science, 220, 671‚Äì680. 
Lim, A., Rodrigues, B., & Zhang, X. (2004). Metaheuristics with 
local search techniques for retail shelf-space optimization. 
Management Science, 50(1), 117‚Äì131.
Lodi, A., Martello, S., & Vigo, D. (1999). Heuristic and 
Metaheuristic Approaches for a Class of Two-Dimensional Bin 
Packing Problems. Informs Journal of Computing, 11(4), 345-
357.
Lodi, A., Martello, S., & Vigo, D. (2002). Recent advances on 
two-dimensional bin packing problems. Discrete Applied
Mathematics, 123 (1‚Äì3), 379‚Äì396.
Mart√≠nez-de-Alb√©niz V. & Roels, G. (2011). Competing For 
Shelf Space. Production and Operations Management, 20(1), 32-
46.
Mavridou, T. & Pardalos, P.M. (1997). Simulated annealing and 
genetic algorithms for the facility layout problem: A survey.
Computational Optimization and Applications, 7, 111-126.
Michael, D., & Moffitt, M.D. (2013). Multidimensional Bin 
Packing Revisited, Principles and Practice of Constraint 
Programming, Lecture Notes in Computer Science, 8124, 513-
528.
Misevicius, A. (2000). An intensive search algorithm for the 
quadratic assignment problem. Informatica, 11, 145-162.
Misevicius, A. (2003). A modification of tabu search and its 
applications to the quadratic assignment problem. Information 
Technology and Control, 27, 12-20.
Nissen, V. & Paul, H. (1995). A modification of threshold 
accepting and its application to the quadratic assignment problem. 
OR Spektrum, 17(2-3), 205-210.
Peng, T., Huanchen, W. & Dongme, Z. (1996). Simulated 
annealing for the quadratic assignment problem: A further study.
Computers and Industrial Engineering, 31(3-4), 925-928.
Pisinger, D. (1995). Algorithms for Knapsack Problems. PhD 
Thesis, University of Copenhagen, Department of Computer 
Science, Denmark.
Stutzle, T. (1998). Applying iterated local search to the 
permutation flow shop problem. Technical Report, AIDA-98-04, 
FG Intellektik, TU Darmstadt, Germany.
Tian, P., Wang, H.C. & Zhang, D.M. (1996). Simulated annealing 
for the quadratic assignment problem: A further study. Computers 
and Industrial Engineering, 31(3-4), 925-928.
Tian, P., Ma, J. & Zhang, D.-M. (1999). Application of the 
simulated annealing algorithm to the combinatorial optimization 
problem with permutation property: An investigation of 
generation mechanism. European Journal of Operational 
Research, 118(1), 81-94.
Tsuchiya, K., Nishiyama, T. & Tsujita, K. (2001). A deterministic 
annealing algorithm for a combinatorial optimization problem 
using replicator equations. Physica D: Nonlinear Phenomena, 
149(3), 161-173.
Siu, F. & Chang, R.K.C. (2002). Effectiveness of optimal node 
assignments in wavelength division multiplexing networks with 
Journal of Military and Information Science
Corresponding Author: A.Hande Erol Binguler, Vol. 4, No.1
44
Binguler, A.H.E., Bulkan, S., M., (2016). A Heuristic Approach for Shelf Space Allocation Problem, Journal of Military 
and Information Science, Vol4(1),38-44.
fixed regular virtual topologies. Computer Networks, 38(1), 61-
74.
Thonemann, U.W. & Bolte, A. (1994) An improved simulated 
annealing algorithm for the quadratic assignment problem. 
School of Business, Working paper, Department of Production 
and Operations Research, University of Paderborn, Germany.
Yang, M.H. (2001). An effective algorithm to allocate shelf 
space. European Journal of Operational Research, 131, 107-118.
Yang, M.H., & Chen, W.C. (1999). A study on shelf space 
allocation and management. International Journal of Production 
Economics, 60-61, 309-317.
Yip, P.P.C. & Pao, Y.H. (1994). A guided evolutionary simulated 
annealing approach to the quadratic assignment problem. IEEE 
Transactions on Systems Man and Cybernetics, 24(9), 1383-
1387.
Zufryden, F.S. (1986). A dynamic programming approach for 
product selection and supermarket shelf-space allocation. Journal 
of Operations Research Society, 37(4), 413-422.

Date of publication xxxx 00, 0000, date of current version xxxx 00, 0000.
Digital Object Identifier 10.1109/ACCESS.2017.DOI
Distribution Games: A New Class of
Games with Application to User
Provided Networks
SÀôINAN EMRE TA ¬∏ScÀôI
1
, MORDECHAI SHALOM 2
, (Member, IEEE), and Omer Korcak3
,
(Member, IEEE)
1Department of Computer Engineering, Marmara University, Istanbul (e-mail: sinanemretasci@marun.edu.tr)
1
IHS Kurumsal Teknoloji A.¬∏S., Istanbul (e-mail: sinan.emre@ihs.com.tr)
2
I¬∏sik University, Istanbul, (e-mail: cmshalom@gmail.com)
3Department of Computer Engineering, Marmara University, Istanbul, (e-mail: omer.korcak@marmara.edu.tr)
Corresponding author: Sinan Emre Ta¬∏sci (e-mail: sinanemretasci@marun.edu.tr ).
This work was supported by IHS Kurumsal Teknoloji A.¬∏S.
This work was supported by TUBITAK under Grant 115E389
ABSTRACT User Provided Network (UPN) is a promising solution for sharing the limited network
resources by utilizing user capabilities as a part of the communication infrastructure. In UPNs, it is an
important problem to decide how to share the resources among multiple clients in decentralized manner.
Motivated by this problem, we introduce a new class of games termed distribution games that can be used to
distribute efficiently and fairly the bandwidth capacity among users. We show that every distribution game
has at least one pure strategy Nash equilibrium (NE) and any best response dynamics always converges to
such an equilibrium. We consider social welfare functions that are weighted sums of bandwidths allocated to
clients. We present tight upper bounds for the price of anarchy and price of stability of these games provided
that they satisfy some reasonable assumptions. We define two specific practical instances of distribution
games that fit these assumptions. We conduct experiments on one of these instances and demonstrate that in
most of the settings the social welfare obtained by the best response dynamics is very close to the optimum.
Simulations show that this game also leads to a fair distribution of the bandwidth.
INDEX TERMS Congestion Games, Distributed Welfare Games, User Provided Networks
I. INTRODUCTION
A. BACKGROUND AND MOTIVATION
D
UE to the enormous increase in the mobile data usage,
to increase the network capacity provided by network
operators in a cost-effective manner is becoming an indispensable necessity. There are several approaches to reduce
the load of cellular base stations and to improve the user
experience without acquiring more spectrum licences or increasing the number of base stations. One possible solution is
to deploy wireless access points and to offload part of mobile
data traffic over these access points. This approach is called
mobile data offloading and there exist numerous studies on
this subject [7]. However, nowadays it is also possible to
develop solutions by making use of the users‚Äô modern handheld devices, instead of deploying network infrastructure.
This gives rise to the concept of User Provided Networks
(UPN) that emerged as a novel technique to provide ubiquitous Internet access to subscribers as well as to increase
the available bandwidth [1]. In UPNs, mobile subscribers
can share their (unused) bandwidth with others through the
capabilities of today‚Äôs devices. Thus, users who need Internet
access (due to quota exhaustion, need for higher bandwidth,
etc.) can access it by using other users‚Äô resources. This kind
of access is grouped into two categories: operator-assisted
and autonomous. In the former, network operators enforce
policies to control subscribers‚Äô sharing of their bandwidth,
whereas in the second, users can create their own network
connections and share their resources independently of the
network operator. See [2] for UPN definitions and variations.
UPNs have similarities with Cognitive Radio Networks
in the sense that both aim to share the existing spectrum/bandwidth effectively and fairly. Cognitive radio is an
optimistic and revolutionary communication concept that
tries to make a more efficient use of existing wireless specVOLUME 4, 2016 1
This article has been accepted for publication in IEEE Access. This is the author's version which has not been fully edited and 
content may change prior to final publication. Citation information: DOI 10.1109/ACCESS.2022.3222779
This work is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 License. For more information, see https://creativecommons.org/licenses/by-nc-nd/4.0/
Sinan Emre Ta¬∏sci, et al.: Distribution Games: A New Class of Games with Application to User Provided Networks
trum among primary and secondary users. Studies on Cognitive Radio Networks often use game theory (especially
potential game theory) as a powerful tool [3], [4]. While
cognitive radio is a way to share existing wireless spectrum,
the UPN approach aims to utilize unused resources such as
bandwidth, energy, quota of other subscribers in a network.
In UPNs, the amount of shared bandwidth depends on many
factors such as the Internet access quality of the serving
user, device-to-device link quality, distance between users,
demand of the requesting user, etc.
Figure 1 illustrates a simple UPN scenario. Two suppliers with capacities of Œ∫1 and Œ∫2 Mbps are connected to
LTE eNodeB. Four clients want to utilize these capacities
via device to device (D2D) links (such as Bluetooth, WiFi
Direct or LTE Direct) to suppliers. Client i has a demand
of di Mbps. This is the desirable demand, but not a strict
minimum requirement. Rather, the client can make use of
the obtained data rate even if it is less than di (while this
may affect the service quality as in the case of Dynamic
Adaptive Streaming over HTTP (DASH) [41]). In Figure 1,
red solid lines show that client 1 and 2 are connected to
supplier 1, and client 3 and 4 are connected to supplier 2.
Blue dashed lines show other possible D2D links. Suppliers
assign capacities to the connected clients according to a
distribution function. Clients may change their connected
supplier to increase the obtained service utility. Strategic
decisions of the clients determine the social welfare of the
overall UPN system. Due to the nature of the network, it
is desirable to adopt a distributed decision making mechanism for both autonomous and operator-assisted UPNs [23].
Therefore, game theory is a powerful tool to model strategies
and analyze the outcome of such UPN systems. During
the recent years, several game theoretical studies have been
performed for both operator-assisted and autonomous UPNs.
Most of these studies focus on designing solutions based
on the total amount of downloaded data since this quantity
is the basis for pricing. In [21] the authors designed a
Nash bargaining based solution that considers the amount
of offloaded and downloaded data for other participants to
compute reimbursements. Despite its theoretical merit, the
proposed mechanism necessitates to solve an optimization
problem in a distributed fashion and the scheme does not
support instant node addition or removal. In [22] an incentive
mechanism for operator assisted UPNs in which subscribers
are encouraged to be Wi-Fi hotspots for other subscribers
(clients) is designed. This scheme provides a quota-based
incentive mechanism and a hybrid pricing scheme. There are
also several other game theoretical schemes studied in this
context [24], [25]. However, most of these studies define the
utility as the amount of data transferred, and they do not
take the service quality into consideration. In a recent study,
Uludag et al. [23] have designed a UPN mechanism where
the utility is defined as a function of data rate which is a
metric for service quality, but the model is studied only for a
single gateway and a single client. In this study, we consider
a UPN network with multiple gateways and multiple clients
FIGURE 1. A simple UPN scenario.
and we focus on accessing and sharing bandwidth, which
is the most fundamental problem faced by today‚Äôs network
operators and users.
In a UPN mechanism, the main aim is to share serving subscribers‚Äô resources among demanding subscribers
in an efficient and fair way both from network operators‚Äô
and subscribers‚Äô perspective. In other words, available resources must be utilized as much as possible and this utilization must be fair enough among participants. Additionally,
such a mechanism should be (i) easily implementable on
a distributed architecture, (ii) appropriate to networks with
frequent changes, i.e., node addition or removal, connection drop, reconnecting or connecting to another node, and
(iii) applicable to both operator-assisted and autonomous
networks. A two-stage study is required to achieve these
objectives. The first stage is the development of a network
protocol that enables nodes on the network to communicate
with the network operator, discover and communicate with
each other. The second stage is the development of a scheme
that determines how nodes will share their resources. In this
study, we focus on the second stage. In this stage, the designed scheme should not favor some clients over others. The
best solution provided by the scheme should perform close to
the best results demonstrated. Moreover, the worst solution
should not be far from the best. Finally, the scheme should
discourage untruthful declarations. First we define a game
theoretical sharing mechanism by considering the bandwidth
provided by the gateways and data rates demanded by clients.
This sharing mechanism is used to serve as the distribution
function of our new type of game. We term these games as
distribution games. We show that every distribution game is
a potential game, and discuss its similarities and differences
with other games in the literature. Although the distribution
games model is inspired by UPNs it can be used in any
context where resource sharing is relevant. Smart Grids [46]
are new generation energy grids aiming to create a large-scale
distributed energy delivery network by using two-way elec2 VOLUME 4, 2016
This article has been accepted for publication in IEEE Access. This is the author's version which has not been fully edited and 
content may change prior to final publication. Citation information: DOI 10.1109/ACCESS.2022.3222779
This work is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 License. For more information, see https://creativecommons.org/licenses/by-nc-nd/4.0/
Sinan Emre Ta¬∏sci, et al.: Distribution Games: A New Class of Games with Application to User Provided Networks
tricity and information flow. Studies on energy consumption
scheduling [47] and energy trading [48] mainly aim to shift
heavy energy demands to off-peak hours by providing incentives to consumers so that a more reliable and efficient smart
grid can be achieved. Distribution games can help solve demand response problems between producers and consumers.
Transportation network problems have been investigated for
a long time [49], [50] and distribution games can be adopted
to solve problems in this area as well. Incentivizing local
transportation service providers or travelers across multiple
regions or in multi-modal transportation networks [51], [52],
[53], [54] is a problem to be tackled. Distribution games can
be used as an mechanism for local providers and travelers to
agree on a common social welfare as in the case of UPNs.
B. RELATED WORK
Game theory has recently become an indispensable tool
to solve decentralized optimization problems in multi-user
networks. Congestion Games [5] are one of the most investigated class of games in networking studies. In this type of
games, the congestion formed on a congestible element is
expressed as a function of the number of players using that
network element. A player faces a congestion equal to the
sum of the individual congestion on the congestible elements
it uses. A simple scenario for the usage of this type of game
to network technologies is the following: A person traveling
from one city to another faces the congestion created by others along every road that it uses to travel between these cities.
This person will choose a route minimizing her congestion.
A congestion game is single selection if every player chooses
exactly one congestible element. In [11], a specific instance
of single selection congestion games is defined. In this type
of game, the payoff that each player gets depends only on the
number of players playing the same strategy and is expressed
as a player-specific function that decreases with the number
of those players.
Load Balancing Games are a specific instances of congestion games. In this type of games, each client chooses a server
on which it executes her/his own jobs. The aim of a client is to
complete her/his job as soon as possible, so they try to choose
the server with the minimum load. The load faced by each
client is expressed as the load on the server it chooses. The
works [17], [18] and [19] present game theoretical solutions
to load balancing problems.
A potential game is one in which the increase of the
benefit of a user implies an increase in some global potential
function. Rosenthal showed that every congestion game is a
potential game. It was later shown in [7] that the converse
is also true. Namely, for every potential game there exists
a congestion game with the same potential function. The
potential games model is a key game theoretical tool with
a wide range of applications in different areas of networking.
For instance, potential games have found many applications
in Radio Resource Allocation as explained in [8]. In one of
the recent studies on WiFi offloading the authors of [26]
designed a user satisfaction aware offloading mechanism
in which the problem is defined as a potential game. Access point selection in wireless sensor networks (WSN) is
another area of application of potential games. In [27] a
game model that is proved to be an exact potential game
is proposed for access point (AP) selection in an energy
efficient manner. Another access point allocation algorithm
for dense wireless LANs backed by software defined wireless
networking (SDWN) is proposed in [28]. This potential game
based approach dynamically reallocates APs so as to adapt to
capacity changes in a WiFi network.
Potential game theory has many other application areas.
In [30] spectrum access, power allocation and user scheduling are jointly investigated and an optimization problem is
formulated for maximizing the Quality of Experience (QoE)
[29] of users in 5G networks. Then, a decentralized solution
with local information is provided based on potential game
theory. Multi-hop broadcasting is another area of application
of potential games. In [31] the authors designed a decentralized, energy efficient, marginal contribution based message
broadcasting mechanism in which an optimal broadcast tree
is always a Nash equilibrium of the game. A non-cooperative
cost sharing game which is shown to be a potential game is
proposed in [32]. This game minimizes energy and social
cost for data dissemination in wireless networks. Another
work on QoE and energy aware resource allocation is [33]
in which a potential game is designed to jointly implement
power selection, load management and channel allocation for
small cell networks. In our previous work [6], we considered
a UPN topology and a bandwidth sharing scheme using a
potential game where the client utilities are aligned with the
global utility of the system. Potential games have also other
applications such as video streaming in multi-hop wireless
networks [34], caching access point selection in wireless
caching networks [35], decentralized resource coordination
in coexisting industrial wireless networks [57] and resource
allocation in mobile edge computing [55], [56].
The work [9] defined the family of Distributed Welfare
Games that are closely related to our study. This family of
games is further studied in [10]. In a distributed welfare
game, every player chooses to contribute to a subset of the
available resources. Some welfare is created at every resource
by the set of players contributing to that resource. Every
resource has an associated welfare distribution function (protocol) that assigns a utility to every contributing player.
Distributed welfare games have a wide range of applications
in distributed problems such as sensor network planning [36],
content distribution [20], spectrum access in cognitive radio
networks [37], interconnection between mobile network operators [40], federated learning [38], and distributed caching
in vehicular networks [39].
In this study, without loss of generality, we focus on user
provided networks as a potential and coherent application
area of our theoretical contributions. UPNs may find different
areas of application such as supplying a whole village with
internet [43], building a sharing economy in mobile networks
[45] or relay the access traffic in 5G Integrated Access and
VOLUME 4, 2016 3
This article has been accepted for publication in IEEE Access. This is the author's version which has not been fully edited and 
content may change prior to final publication. Citation information: DOI 10.1109/ACCESS.2022.3222779
This work is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 License. For more information, see https://creativecommons.org/licenses/by-nc-nd/4.0/
Sinan Emre Ta¬∏sci, et al.: Distribution Games: A New Class of Games with Application to User Provided Networks
Backhaul Networks (IAB). During the recent years, a considerably large amount of work has been put in IAB networks
[44] which are a type of UPN. In a recent study [42] that is
closely related to UPNs and game theory a joint incentive and
resource allocation scheme is designed so that the user utility,
the sensitivity of battery energy, the incentive compensation
and the limitation of network resources are formulated in a
Nash Bargaining problem as a cooperative game.
C. OUR CONTRIBUTION
We introduce a family of games termed distribution games in
which every player chooses a single supplier from a given
set of suppliers. Every player has a demand and it gets a
portion of the chosen resource according to its demand and
a distribution function governing this supplier. As such, this
new family extends the family of single selection congestion
games. We prove that every distribution game is a potential
game. Thus, any distribution game converges to a pure NE
after a finite number of best response moves. We further
provide tight bounds on the Price of Anarchy and Price of
Stability of games from this new family. We present two practical instances of distribution games and perform a numerical
study of one of these games and also of a more general class
of distribution games that we analyze only numerically. The
numerical study reveals the efficiency of the equilibria in
terms of social welfare and fairness. Thus both theoretical
and numerical studies show that this new family of games
is very appealing for resource sharing applications such as
bandwidth distribution in UPNs.
The theoretical results presented in this paper are new,
though related to existing results. The result in [7] implies
that for every potential game (including distribution games)
there exists a congestion game with the same potential function. However, the number of possible strategies of a player
in the congestion game implied by that result is quadratic
in the number of resources of our game. Therefore, that
result does not imply a congestion game with the same set
of resources. Distribution games constitute a sub-family of
distributed welfare games defined in [9] and further studied in
[10]. Though the framework defined therein is very general,
most of the positive results pertain to special cases. The
results in this work and in [9], [10] are not comparable in
the sense that none implies the other. We elaborate on this
in the last part of Section II dedicated to comparisons with
existing models and results.
We summarize below the main contributions of this work.
‚Ä¢ We introduce a new class of games called distribution
games which suits well for various types of resource
sharing schemes including user provided networks that
could not be properly addressed by the previous game
theoretical approaches.
‚Ä¢ We prove that every distribution game is a potential
game, hence any best response dynamics always converge to a pure strategy NE.
‚Ä¢ We provide tight upper bounds for the price of anarchy
and the price of stability of distribution games.
‚Ä¢ We evaluate the efficiency of equilibria in terms of social
welfare and fairness via extensive set of simulations in
various UPN setups.
‚Ä¢ We provide a characterization of distribution games
which make them truthful, such that it is a dominant
strategy to declare the true demand for all the clients.
The rest of the paper is organized as follows. In Section
II we introduce notation, define distribution games and compare them against congestion games and distributed welfare
games. In Section III we prove that every distribution game
admits a pure strategy Nash equilibrium. In the same section
we introduce two practical instances of distribution games.
In Section IV we analyze the quality of the above mentioned
Nash equilibria by studying Price of Anarchy and Price of
Stability. In Section VI we develop a simple criterion for the
truthfulness of a distribution game and apply it to the sample
games introduced in earlier sections. In Section V we present
a numerical study in a realistic setup and finally, we conclude
with some open problems in Section VII.
II. DISTRIBUTION GAMES
In this section, we define a new class of games that are
suitable for sharing bandwidth in a distributed UPN setup.
To give a basic idea, let us consider an illustrative example
based on the simple network shown in Figure 1. Let us define
the capacities of two supplier nodes as Œ∫1 = 30 Mbps and
Œ∫2 = 20 Mbps. These two nodes provide service to four
client nodes with demands d1 = 30 Mbps, d2 = 15 Mbps,
d3 = 10 Mbps and d4 = 40 Mbps. The distribution of
the supplier capacities among multiple connected clients can
be done in different ways. Figure 2 shows two connection
scenarios, where the capacities of the suppliers are distributed
equally among the connected clients. In both scenarios, none
of the clients can gain more utility by changing their supplier,
hence there is an equilibrium. In Figure 3, the capacities of
the suppliers are distributed to the clients using a different
function, i.e. proportional to their demands. This setting is
not in equilibrium because client 3 will have an incentive
to switch to supplier 1. We now proceed by giving some
preliminaries about game theory, and then define a general
class of distribution games to handle strategic decisions in
UPN settings using various distribution functions.
Preliminaries: We start by giving basic definitions and notation. See Table 1 for frequently used notation. A strategic
game is a triple G = (n, A, u) where n ‚àà N is the number of
players, A = √ón
i=1Ai
, Ai
is a finite set of possible strategies
of player i, and u : [n] √ó A ‚Üí R is a utility function where
[n] denotes the set of positive integers less than or equal to n.
A vector ‚àí‚Üía ‚àà A is termed a strategy profile or an outcome
of G. When the outcome of the game is ‚àí‚Üía , player i receives
a utility of ui(
‚àí‚Üía ) = u(i, ‚àí‚Üía ). For an outcome ‚àí‚Üía and b ‚àà Ai
,
we denote by (b, ‚àí‚Üía ‚àíi) the outcome in which the strategy of
player i is b and the strategy of any other player is identical
to its strategy in ‚àí‚Üía . In other words, (b, ‚àí‚Üía ‚àíi) is the outcome
obtained from ‚àí‚Üía by a move of player i that changes its
4 VOLUME 4, 2016
This article has been accepted for publication in IEEE Access. This is the author's version which has not been fully edited and 
content may change prior to final publication. Citation information: DOI 10.1109/ACCESS.2022.3222779
This work is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 License. For more information, see https://creativecommons.org/licenses/by-nc-nd/4.0/
Sinan Emre Ta¬∏sci, et al.: Distribution Games: A New Class of Games with Application to User Provided Networks
TABLE 1. Frequently Used Notation
G A strategic game
Ai Finite set of possible strategies of player i
ai Strategy of player i, ai ‚àà Ai
A Strategy space, √ón
i=1Ai ‚àí‚Üía A strategy profile or an outcome of G where ‚àí‚Üía ‚àà A
ui(
‚àí‚Üía ) Utility function for player i in outcome ‚àí‚Üía
Œ¶ (Ordinal) potential function for G
W(
‚àí‚Üía ) Social welfare of outcome ‚àí‚Üía
di Demand of client (player) i
Cj (
‚àí‚Üía ) Set of clients connected to supplier j
Œ¥j (
‚àí‚Üía )
A monotonically non-increasing distributing function
of supplier j in outcome ‚àí‚Üía
fi A monotonically increasing benefit function
fi(Œ¥j (
‚àí‚Üía )) Utility of client i when connected to supplier j in
outcome ‚àí‚Üía
Dj (
‚àí‚Üía )
Total demand of all clients connected to supplier j
in outcome ‚àí‚Üía
Œ∫j Capacity of supplier j
FIGURE 2. An illustrative example for two connection scenarios in a UPN
where the supplier capacities are distributed equally among the connected
clients.
FIGURE 3. An illustrative example for a connection scenario in a UPN where
the supplier capacities are distributed proportional to the client demands.
strategy to b and the strategy of every other player remains
intact. A selfish player changes its strategy only if the change
will strictly increase its utility assuming that no other player
changes its strategy. We denote by ‚àí‚Üía
i
‚Üí ‚àí‚Üía
‚Ä≤
the fact that ‚àí‚Üía
‚Ä≤
is obtained from ‚àí‚Üía by a move of a selfish player i. We use
‚àí‚Üía ‚Üí ‚àí‚Üía
‚Ä≤
to denote that ‚àí‚Üía
i
‚Üí ‚àí‚Üía
‚Ä≤
for some player i.
A Nash equilibrium (NE) of G is an outcome ‚àí‚Üía in which
no player can strictly increase its utility by making a move,
i.e., there is no outcome ‚àí‚Üía
‚Ä≤
such that ‚àí‚Üía ‚Üí ‚àí‚Üía
‚Ä≤
.
If there exists a function Œ¶ : A ‚Üí R such that Œ¶(‚àí‚Üía ) <
Œ¶(‚àí‚Üía
‚Ä≤
) whenever ‚àí‚Üía ‚Üí ‚àí‚Üía
‚Ä≤
then G is an ordinal potential
game and Œ¶ is termed an ordinal potential function for G.
Whenever A is finite, it is easy to see that every ordinal
potential game has a pure strategy Nash Equilibrium [7].
Furthermore, starting from an arbitrary outcome ‚àí‚Üía , every
finite ordinal potential game converges to a Nash Equilibrium
through a finite improvement path. In particular, any best
response dynamics, where at each step an arbitrary selfish
player plays its best-response strategy, always converges to a
Nash Equilibrium after finite number of steps [7].
If a social welfare function W : A ‚Üí R is defined
on the set of outcomes of a game. We compare the social
welfare obtained by Nash equilibria to the optimum W‚àó =
max {W(
‚àí‚Üía )|
‚àí‚Üía ‚àà A}. The price of anarchy (PoA) of such
a game is defined as the ratio of the optimum to the performance of a worst NE, i.e, PoA(G) = W‚àó
min{W(‚àí‚Üía )|‚àí‚Üía is a NE}
.
Similarly, the price of stability (PoS) is obtained by comparing the optimum to a best NE.
In the following lemma we give a sufficient condition to
guarantee that a game is an ordinal potential game. This
condition requires a finite family of functions to be defined
on the set of outcomes of the game. Specifically, the condition requires that in every selfish move of some player, the
minimum of the function values affected by the move strictly
decreases.
Lemma 1: Let G = (n, A, u) be a strategic game, J be a set
of indices with functions hj : A ‚Üí R (j ‚àà J ). If for every
two outcomes ‚àí‚Üía , ‚àí‚Üía
‚Ä≤
of G such that ‚àí‚Üía ‚Üí ‚àí‚Üía
‚Ä≤
there exists
‚àÖ ‚ää J ‚äÜ J ¬Ø such that
1) min 
hj (
‚àí‚Üía )|j ‚àà J¬Ø
	
< min n
hj (
‚àí‚Üía
‚Ä≤
)|j ‚àà J¬Ø
o
, and
2) hj (
‚àí‚Üía
‚Ä≤
) = hj (
‚àí‚Üía ) for every j ‚àà J \ J¬Ø,
then G is an ordinal potential game.
Proof: Let hJ (
‚àí‚Üía ) be the multiset {hj (
‚àí‚Üía )|j ‚àà J }, and let
‚àí‚Üíh (
‚àí‚Üía ) be the vector containing the |J | values in hJ (
‚àí‚Üía ),
sorted in non-decreasing order. Let also ‚™Ø denote the lexicographic order on R
|J |, and ‚àí‚Üíx ‚â∫
‚àí‚Üíy denote the fact that
‚àí‚Üíx ‚™Ø
‚àí‚Üíy and ‚àí‚Üíx Ã∏=
‚àí‚Üíy .
Let ‚àí‚Üía and ‚àí‚Üía
‚Ä≤
be two outcomes of G such that ‚àí‚Üía
i
‚Üí
‚àí‚Üía
‚Ä≤
for some player i ‚àà [n]. Then, there is a set ‚àÖ ‚ää
J ‚äÜ J ¬Ø that satisfies the premises of the lemma. Let x =
min 
hj (
‚àí‚Üía )|j ‚àà J¬Ø
	
, k< (resp. k=) be the number of entries
of
‚àí‚Üíh (
‚àí‚Üía ) that are strictly less than (resp. equal to) x. Then
the first k< entries of
‚àí‚Üíh (
‚àí‚Üía ) and
‚àí‚Üíh (
‚àí‚Üía
‚Ä≤
) are identical. As of
the subsequent k= entries, the entries of
‚àí‚Üíh (
‚àí‚Üía
‚Ä≤
) are greater
or equal than the corresponding entries of
‚àí‚Üíh (
‚àí‚Üía ) with at least
one entry being strictly greater. Therefore,
‚àí‚Üíh (
‚àí‚Üía ) ‚â∫
‚àí‚Üíh (
‚àí‚Üía
‚Ä≤
),
implying that the rank of
‚àí‚Üíh (
‚àí‚Üía ) in the lexicographic order is
an ordinal potential function for G. ‚ñ°
Game Model: We start with an informal description of the
model and then proceed with formal definitions. In our model
we refer to the players also as clients each of which has
a demand of some global resource. In addition, there is a
set of suppliers each of which has a limited supply of the
resource. Every client connects to a supplier in order to
satisfy (possibly partially) its demand.
VOLUME 4, 2016 5
This article has been accepted for publication in IEEE Access. This is the author's version which has not been fully edited and 
content may change prior to final publication. Citation information: DOI 10.1109/ACCESS.2022.3222779
This work is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 License. For more information, see https://creativecommons.org/licenses/by-nc-nd/4.0/
Sinan Emre Ta¬∏sci, et al.: Distribution Games: A New Class of Games with Application to User Provided Networks
The utility ui of a client i when connected to a supplier
j depends on the part if its demand satisfied by j and is
upper bounded by this demand. Note that in particular, this
models the case where the utility ui
is the supply it gets
from supplier j. This amount is determined by a) supplier
j‚Äôs current capability to satisfy a clients‚Äô demands, and b) the
way client i benefits from this capability. These two parameters are determined by two functions, one associated with
supplier j, and the other associated with client i. We assume
that the capability of a supplier to serve a specific client
does not increase when additional clients are connected. This
assumption is realistic if the capacity or other characteristics
of a supplier do not change very often, i.e., during the game.
Therefore, we associate with supplier j a non-increasing real
distributing function Œ¥j that depends solely on the set of
clients currently connected to supplier j.
The benefit of client i from the capability of j increases
with the capability of j until it reaches the demand of client
i. Therefore, we associate with client i a strictly increasing
benefit function fi
that depends on the current capability of
the supplier. Client i receives more of the resource whenever
the capability of supplier j increases unless its demand is
already satisfied. Finally, we note that the theoretical model
introduced in this section does not require a fixed capacity to
be defined for every supplier, despite the fact that capacities
are used for the sake of the examples. However, starting from
Section IV, we consider special cases of the model in which
such a capacity is defined.
The social welfare function of the system is a conical
combination of the individual utilities.
We thus have the following formal definition of a distribution game with strategy space A and with utility functions
ui determined by the distributing functions ‚àÜ and benefit
functions F.
Definition 1: A Distribution game is a tuple G =
(n, m, d, A, ‚àÜ, F) where
‚Ä¢ n is the number of players (clients),
‚Ä¢ m is the number of suppliers,
‚Ä¢ d : [n] ‚Üí R
+ is the demand vector with di being the
demand of client i ‚àà [n],
‚Ä¢ A = √ón
i=1Ai
is the strategy space with Ai ‚äÜ [m] for
every client i ‚àà [n] (i.e., client i can connect to exactly
one supplier from Ai). For an outcome ‚àí‚Üía ‚àà A, we
denote by Cj (
‚àí‚Üía ) the set of clients that are connected to
supplier j, i.e., Cj (
‚àí‚Üía ) = {i ‚àà [n]|ai = j}. We denote
by Dj (
‚àí‚Üía ) = P
i‚ààCj (‚àí‚Üía )
di
the total demand of all
clients connected to supplier j.
‚Ä¢ ‚àÜ = {Œ¥j |j ‚àà [m]} is the set of distributing functions
with every Œ¥j : 2[n] ‚Üí R
+ being a monotonically nonincreasing function on sets of clients,
‚Ä¢ F = {fi
|i ‚àà [n]} is the set of benefit functions where
every fi
: R
+ ‚Üí R
+ is a monotonically increasing
function.
‚Ä¢ Moreover, Œ¥j is strictly decreasing unless all clients
connected to supplier j are saturated, i.e., if Œ¥j (
‚àí‚Üía ) =
Œ¥j (
‚àí‚Üía
‚Ä≤
) and Cj (
‚àí‚Üía ) ‚ää Cj (
‚àí‚Üía
‚Ä≤
) then fi(Œ¥j (
‚àí‚Üía )) ‚â• di
for every i ‚àà Cj (
‚àí‚Üía
‚Ä≤
) where Œ¥j (
‚àí‚Üía ) is a shorthand for
Œ¥j (Cj (
‚àí‚Üía )).
‚Ä¢ ui(
‚àí‚Üía ) = min {di
, fi(Œ¥j (
‚àí‚Üía ))}, i.e., whenever client i
is connected to supplier j, its utility ui
is fi(Œ¥j (
‚àí‚Üía )) but
no more than di
.
To give an example, let us apply the defined game formulation to the instance given in Figure 3. Using the distribution
game notation (and omitting the name (‚àí‚Üía ) of the outcome
in the figure) we have C1 = {1, 2}, C2 = {3, 4}, D1 =
d1 + d2 = 45, D2 = d3 + d4 = 50. For this instance,
Œ¥j can be defined as the ratio of the capacity of supplier
j to the total demand of the clients connected to it, hence
Œ¥1 =
30
45 =
2
3
, Œ¥2 =
20
50 =
2
5
. Further, we define fi(x) =
di
¬∑ x for every client i. Then, the utilities of the clients are
u1 = min {d1, d1 ¬∑ Œ¥1} = 20, u2 = min {d2, d2 ¬∑ Œ¥1} = 10,
u3 = min {d3, d3 ¬∑ Œ¥2} = 4, u4 = min {d4, d4 ¬∑ Œ¥2} = 16.
We note that the above formulation of distribution games
covers also the case in which the utility of a client is
an increasing function g of the resource allocated to it.
Consider a distribution game G = (n, m, d, A, ‚àÜ, F) in
which fi(Œ¥j (
‚àí‚Üía )) is the resource allocated to client i by the
supplier j (where j = ai) Consider the distribution game
G
‚Ä≤ = (n, m, d‚Ä≤
, A, ‚àÜ, F‚Ä≤
) where d
‚Ä≤
i = g(di) for every i ‚àà [n]
and F
‚Ä≤ = {f
‚Ä≤
i
|i ‚àà [n]} with f
‚Ä≤
i = g ‚ó¶ fi for every i ‚àà [n].
Indeed, G
‚Ä≤
is a distribution game since, g and fi being strictly
increasing functions, f
‚Ä≤
i
is so. Moreover, the utility of client i
in an outcome ‚àí‚Üía of G
‚Ä≤
is
u
‚Ä≤
i
(
‚àí‚Üía ) = min {d
‚Ä≤
i
, f‚Ä≤
i
(Œ¥j (
‚àí‚Üía ))}
= min {g(di), g(fi(Œ¥j (
‚àí‚Üía )))}
= g(min {di
, fi(Œ¥j (
‚àí‚Üía ))}) = g(ui(
‚àí‚Üía ))
where ui(
‚àí‚Üía ) is the resource allocated to client i in the
same outcome of G.
Relation with Congestion Games and Distributed Welfare
Games: In a congestion game the strategy of a player is to
connect to a subset of given facilities. The cost of a client is
the sum of the costs of the facilities it is connected to, and the
cost of a facility is a (non-decreasing) function of the number
of clients connected to it. In a single selection congestion
game a player can be connected to only one facility. We note
that when we set di = 1 and fi(x) = x for every client i in a
distribution game we get a single selection congestion game
of which the congestible items are the resources of our game.
In the next section we prove that every distribution game is a
potential game. A result presented in [7] states that with every
potential game there exists a congestion game with the same
number of players. However, for our case this result implies
a congestion game with n ¬∑ m possible strategies for every
player. Therefore, this result does not imply a congestion
game where the set of congestible items is the set of our
suppliers.
In a distributed welfare game, players can contribute to any
subset of resources. The set S of players that contribute to a
resource r produces a welfare Wr(S) in resource r where
Wr is a sub-modular function. In other words, the marginal
6 VOLUME 4, 2016
This article has been accepted for publication in IEEE Access. This is the author's version which has not been fully edited and 
content may change prior to final publication. Citation information: DOI 10.1109/ACCESS.2022.3222779
This work is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 License. For more information, see https://creativecommons.org/licenses/by-nc-nd/4.0/
Sinan Emre Ta¬∏sci, et al.: Distribution Games: A New Class of Games with Application to User Provided Networks
contribution of a player is a non-increasing function of the
set of other contributors. Formally, Wr(S ‚à™ {i}) ‚àí Wr(S) ‚â•
Wr(T ‚à™ {i}) ‚àí Wr(T) whenever S ‚äÜ T. Contributor i ‚àà S
gets a utility of fr(i, S) where fr is the distribution function
(protocol) at resource r. Such a protocol is termed budgetbalanced if the sum of the utilities received by the contributors is equal to the welfare produced in this resource. A set
of protocols is scalable if whenever the welfare generation
functions of two resources are identical, then their utility
distribution functions are identical.
If we consider the total distribution of a supplier as the
welfare generated, we get that our utility functions are,
by definition, budget-balanced, and scalable. Moreover, our
requirements from f and Œ¥ imply that the welfare function
is sub-modular. Therefore, a distribution game is a single selection distributed welfare game. Moreover, our distribution
functions are separable, i.e., the utility received by player i
is max fi(Œ¥j (S)) as opposed to a distributed welfare game
in which f is not necessarily separable. In this respect the
family of distribution games is a sub-family of the family
of single selection distributed welfare games. Though, in the
next paragraph we argue that our results are incomparable
with the results in [9], i.e., none of the results implies the
other.
In [9] it is shown that a single selection distributed welfare
game admits a NE provided that the game satisfies three sufficient conditions. The analysis of the price of anarchy clearly
depends on the same conditions since the very definition of
Price of Anarchy requires the existence of a NE. One of
these condition is the existence of a total order between the
players. More specifically, player i is said to be stronger than
player j if the utility that i gets from a resource r with a
contributor set S is always greater than or equal to the utility
of player j under the same circumstances, for every resource
r and every set of players S. Clearly, the "is stronger than"
relation is transitive. However, it is also required that for any
two players i and j, either i is stronger than j or the other
way around, i.e., the mentioned relation is a total order. We
finally note that a distribution game does not impose this
condition. Such a total order does not necessarily exist since
the functions fi are arbitrary increasing functions, and two
such functions are not necessarily comparable.
In [10] it is shown that if a distributed welfare game uses
a budget-balanced and scalable protocol, and also guarantees the existence of a Nash equilibrium, then it must be a
weighted Shapley value. This makes the implementation of
such protocols computationally prohibitive. In the same work
the authors also present ways of addressing these problems.
On the other hand, the family of distribution games, being
more restricted, can use computationally simple, scalable and
budget-balanced protocols while admitting Nash equilibria,
as we will prove in the next section.
III. EXISTENCE OF NASH EQUILIBRIA
In this section we show that every distribution game has
a NE. To this goal, we prove the following lemma that
complements Lemma 1 and states that whenever a client
moves from one supplier to another it increases the minimum
of the Œ¥ values of these suppliers.
Lemma 2: Let ‚àí‚Üía
i
‚Üí ‚àí‚Üía
‚Ä≤
be a move of player i in a
distribution game. Then,
min 
Œ¥ai
(
‚àí‚Üía ), Œ¥a
‚Ä≤
i
(
‚àí‚Üía )
	
< min n
Œ¥ai
(
‚àí‚Üía
‚Ä≤
), Œ¥a
‚Ä≤
i
(
‚àí‚Üía
‚Ä≤
)
o
.
Proof: Let j = ai and j
‚Ä≤ = a
‚Ä≤
i
, i.e., client i moves from
supplier j to supplier j
‚Ä≤
. We have Cj (
‚àí‚Üía
‚Ä≤
) = Cj (
‚àí‚Üía ) \ {i}
and Cj
‚Ä≤ (
‚àí‚Üía
‚Ä≤
) = Cj
‚Ä≤ (
‚àí‚Üía ) ‚à™ {i}. By the monotonicity of Œ¥,
these imply
Œ¥j
‚Ä≤ (
‚àí‚Üía
‚Ä≤
) ‚â§ Œ¥j
‚Ä≤ (
‚àí‚Üía ) (1)
and Œ¥j (
‚àí‚Üía ) ‚â§ Œ¥j (
‚àí‚Üía
‚Ä≤
). Suppose that the latter inequality
holds with equality, i.e., Œ¥j (
‚àí‚Üía ) = Œ¥j (
‚àí‚Üía
‚Ä≤
). Then we have
fi(Œ¥j (
‚àí‚Üía )) ‚â• di
thus ui(
‚àí‚Üía ) = di
. This contradicts the fact
that i moved from supplier j to another supplier. Therefore,
Œ¥j (
‚àí‚Üía ) < Œ¥j (
‚àí‚Üía
‚Ä≤
). (2)
Since the utility of i increases after the move, we have
min {di
, fi(Œ¥j (
‚àí‚Üía ))} < min n
di
, fi(Œ¥j
‚Ä≤ (
‚àí‚Üía
‚Ä≤
))o
.
Therefore, fi(Œ¥j (
‚àí‚Üía )) < di and fi(Œ¥j (
‚àí‚Üía )) < fi(Œ¥j
‚Ä≤ (
‚àí‚Üía
‚Ä≤
)).
Since fi
is an increasing function, we conclude
Œ¥j (
‚àí‚Üía ) < Œ¥j
‚Ä≤ (
‚àí‚Üía
‚Ä≤
). (3)
We combine (1) and (3) to get Œ¥j (
‚àí‚Üía ) < Œ¥j
‚Ä≤ (
‚àí‚Üía
‚Ä≤
) ‚â§ Œ¥j
‚Ä≤ (
‚àí‚Üía ).
Thus
min {Œ¥j (
‚àí‚Üía ), Œ¥j
‚Ä≤ (
‚àí‚Üía )} = Œ¥j (
‚àí‚Üía ).
We now combine (2) and (3) to get
Œ¥j (
‚àí‚Üía ) < min n
Œ¥j (
‚àí‚Üía
‚Ä≤
), Œ¥j
‚Ä≤ (
‚àí‚Üía
‚Ä≤
)
o
which together with the preceding equality concludes the
proof. ‚ñ°
By setting J¬Ø = {ai
, a‚Ä≤
i
}, since Œ¥j (
‚àí‚Üía ) = Œ¥j (
‚àí‚Üía
‚Ä≤
) for every
j /‚àà {ai
, a‚Ä≤
i
}, using Lemma 1 and Lemma 2 we get the
following corollary.
Corollary 1: Every distribution game is an ordinal potential
game.
We now present two families of distribution games by
defining the way a supplier j distributes its supply among
the set Cj (
‚àí‚Üía ) of its connected clients, i.e., by defining the
functions Œ¥j , j ‚àà [m] and fi
, i ‚àà [n].
‚Ä¢ Demand-proportional distribution (GDP ): Supplier j
has a supply of Œ∫j . If Dj (
‚àí‚Üía ) ‚â§ Œ∫j then every client
i ‚àà Cj (
‚àí‚Üía ) gets a supply of ui(
‚àí‚Üía ) = di
. Otherwise,
client i ‚àà Cj (
‚àí‚Üía ) gets a supply of di
Œ∫j
Dj (‚àí‚Üía )
. Summarizing, ui(
‚àí‚Üía ) = min n
di
, di
Œ∫j
Dj (‚àí‚Üía )
o
. GDP is a distribution game since Œ¥j (
‚àí‚Üía ) = Œ∫j
Dj (‚àí‚Üía )
is monotonically
decreasing in Cj (
‚àí‚Üía ), fi(x) = di
¬∑ x is monotonically
increasing in x, and the utility of client i connected to
supplier j is min {di
, fi(Œ¥j (
‚àí‚Üía ))}.
VOLUME 4, 2016 7
This article has been accepted for publication in IEEE Access. This is the author's version which has not been fully edited and 
content may change prior to final publication. Citation information: DOI 10.1109/ACCESS.2022.3222779
This work is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 License. For more information, see https://creativecommons.org/licenses/by-nc-nd/4.0/
Sinan Emre Ta¬∏sci, et al.: Distribution Games: A New Class of Games with Application to User Provided Networks
‚Ä¢ Egalitarian distribution (GEG): Supplier j has a supply of Œ∫j which is distributed among the clients in
the following iterative procedure. The capacity is distributed equally among the connected clients until the
capacity is completely distributed or some client becomes saturated. The remaining capacity is distributed
equally among the non-saturated connected clients until the capacity is completely distributed or a client
becomes saturated and so on until either the capacity
is completely distributed or all connected clients are
saturated. Formally,
Œ¥j (
‚àí‚Üía ) =
(
Œ∫j if Dj (
‚àí‚Üía ) ‚â§ Œ∫j
max n
x|
P
i‚ààCj (‚àí‚Üía ) min {di
, x} ‚â§ Œ∫j
o
otherwise.
The utility of client i ‚àà Cj (
‚àí‚Üía ) is min {di
, Œ¥j (
‚àí‚Üía )}.
Having already observed that GDP is a distribution game,
we proceed to prove the relatively less obvious fact that GEG
is also a distribution game.
Theorem 1: GEG is a distribution game.
Proof: Clearly, fi(x) = x is monotonically increasing. It
remains to show that Œ¥j is monotonically non-increasing and
if Œ¥j (
‚àí‚Üía ) = Œ¥j (
‚àí‚Üía
‚Ä≤
) and Cj (
‚àí‚Üía ) ‚ää Cj (
‚àí‚Üía
‚Ä≤
) then Œ¥j (
‚àí‚Üía ) ‚â•
di for every i ‚àà Cj (
‚àí‚Üía
‚Ä≤
). Assume that ‚àí‚Üía ‚ää
‚àí‚Üía
‚Ä≤
. Clearly,
Dj (
‚àí‚Üía ) < Dj (
‚àí‚Üía
‚Ä≤
). We first prove the following claim.
Claim 1: Œ¥j (
‚àí‚Üía ) < Œ∫j if and only if Dj (
‚àí‚Üía ) > Œ∫j .
Proof: If Œ¥j (
‚àí‚Üía ) < Œ∫j , we have Dj (
‚àí‚Üía ) > Œ∫j by the
definition of Œ¥j . To prove the other direction assume for a
contradiction that Dj (
‚àí‚Üía ) > Œ∫j and Œ¥j (
P
‚àí‚Üía ) ‚â• Œ∫j . Then
i‚ààCj (‚àí‚Üía ) min {di
, Œ¥j (
‚àí‚Üía )} ‚â§ Œ∫j , thus min {di
, Œ¥j (
‚àí‚Üía )} ‚â§
Œ∫j for every i ‚àà Cj (
‚àí‚Üía ). Since Œ¥j (
‚àí‚Üía ) > Œ∫j , we have
min {di
, Œ¥j (
‚àí‚Üía )} = di for every i ‚àà Cj (
‚àí‚Üía ). Therefore,
Dj (
‚àí‚Üía ) = P
i‚ààCj (‚àí‚Üía )
di =
P
i‚ààCj (‚àí‚Üía ) min {di
, Œ¥j (
‚àí‚Üía )} ‚â§
Œ∫j , a contradiction. ‚ñ°
We now consider three disjoint and complementing cases:
‚Ä¢ Dj (
‚àí‚Üía ) < Dj (
‚àí‚Üía
‚Ä≤
) ‚â§ Œ∫j : Then, di ‚â§ Œ∫j for every
i ‚àà Cj (
‚àí‚Üía
‚Ä≤
). Furthermore, by definition of Œ¥j , we have
Œ¥j (
‚àí‚Üía ) = Œ¥j (
‚àí‚Üía
‚Ä≤
) = Œ∫j . We conclude that fi(Œ¥j (
‚àí‚Üía
‚Ä≤
)) =
fi(Œ∫j ) = Œ∫j ‚â• di for every i ‚àà Cj (
‚àí‚Üía
‚Ä≤
).
‚Ä¢ Dj (
‚àí‚Üía ) ‚â§ Œ∫j < Dj (
‚àí‚Üía
‚Ä≤
): By Claim 1, we have
Œ¥j (
‚àí‚Üía
‚Ä≤
) < Œ∫j = Œ¥j (
‚àí‚Üía ).
‚Ä¢ Œ∫j < Dj (
‚àí‚Üía ) < Dj (
‚àí‚Üía
‚Ä≤
): In this case we will show
that Œ¥j (
‚àí‚Üía
‚Ä≤
) < Œ¥j (
‚àí‚Üía ). Assume for a contradiction that
Œ¥j (
‚àí‚Üía ) ‚â§ Œ¥j (
‚àí‚Üía
‚Ä≤
). We have
X
i‚ààCj (‚àí‚Üía )
min {di
, Œ¥j (
‚àí‚Üía )}
‚â§
X
i‚ààCj (‚àí‚Üía )
min n
di
, Œ¥j (
‚àí‚Üía
‚Ä≤
)
o
<
X
i‚ààCj (‚àí‚Üía
‚Ä≤
)
min n
di
, Œ¥j (
‚àí‚Üía
‚Ä≤
)
o
‚â§ Œ∫j
where the last inequality follows from the definition of Œ¥j . Since the left hand side is continuous in Œ¥j (
P
‚àí‚Üía ), there exists œµ > 0 such that
i‚ààCj (‚àí‚Üía ) min {di
, Œ¥j (
‚àí‚Üía ) + œµ} < Œ∫j . This contradicts
the definition of Œ¥j .
‚ñ°
The theoretical results presented in this section suggest
that in the UPN scenarios where the capacity of suppliers are
distributed equally as in Figure 2 or distributed proportional
to the client demands as in Figure 3, convergence to a NE
is guaranteed by best response dynamics, where the clients
update their decisions (on which supplier to connect) via
local search. Note that, this result can be extended for other
scenarios where the supplier capacity is distributed using a
different function, as long as the resulting game is a distribution game.
IV. PRICE OF ANARCHY AND PRICE OF STABILITY
In this section we analyze the efficiency of the equilibria
whose existence is proven in the previous section, under
some plausible assumptions. We start with definitions regarding these assumptions.
Definition 2: A distribution game G = (n, m, d, A, ‚àÜ, F) is
identity-independent if the function Œ¥j does not depend on
the set of players in Cj (
‚àí‚Üía ) but only on their demands, and
the function fi does not depend on i but only on di
. We use
the term identity-independent to distinguish it from the term
anonymous used in [9] for set functions that depend only on
the number of players in the set.
The game G is non-keeper if every supplier j has a supply
of Œ∫j such that P
i‚ààCj (‚àí‚Üía )
ui(
‚àí‚Üía ) = min {Dj (
‚àí‚Üía ), Œ∫j}.
Clearly, GEG and GDP are non-keeper and identityindependent.
We consider social welfare functions that are conical combinations (weighted sums) of the utilities of the players, i.e.
W(
‚àí‚Üía ) = Pn
i=1 Œªiui(
‚àí‚Üía ) where Œªi ‚â• 0 for every i ‚àà [n].
Such a function is relevant, for instance, in the case where
clients pay different prices per unit demand. We assume
without loss of generality Œª1 ‚â• ¬∑ ¬∑ ¬∑ ‚â• Œªn = 1. Otherwise
we can rename the clients such that the coefficients Œª are
sorted and then scale them such that the smallest coefficient
becomes one. This changes the social welfare function by a
constant factor and thus does not affect the price of anarchy
and price of stability which are defined as ratios of this
function. For a subset C ‚äÜ [n] of clients we define the social
welfare due to C as WC (
‚àí‚Üía ) = P
i‚ààC
Œªiui(
‚àí‚Üía ).
In order to analyze price of anarchy and price of stability,
we have first to provide an upper bound the social welfare.
This is done in the following observation.
Observation 1: Let C = {i1, . . . , ik} be a set of k < n
clients, with i1 > . . . > ik. Then, the total utility of C is
‚Ä¢ at most dC , and
‚Ä¢ at most Œ∫[min{k,m}]
(i.e. the sum of the largest
min {k, m} capacities). This bound is attained when the
clients are matched to the first k suppliers, and the utility
of each client is equal to the capacity of its supplier.
8 VOLUME 4, 2016
This article has been accepted for publication in IEEE Access. This is the author's version which has not been fully edited and 
content may change prior to final publication. Citation information: DOI 10.1109/ACCESS.2022.3222779
This work is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 License. For more information, see https://creativecommons.org/licenses/by-nc-nd/4.0/
Sinan Emre Ta¬∏sci, et al.: Distribution Games: A New Class of Games with Application to User Provided Networks
‚Ä¢ Moreover, the social welfare due to C is at most Œªi1 Œ∫1+
. . . + Œªimin{k,m} Œ∫min{k,m}.
We have now to provide a way to compare any NE against
the bounds just introduced. For this purpose we prove that
in every NE, the excess capacity of every supplier is at most
the utility of any non-saturated player. Specifically, denoting
by exj (
‚àí‚Üía )
def
= max {0, Œ∫j ‚àí Dj (
‚àí‚Üía )} the excess capacity
of supplier j in an outcome ‚àí‚Üía we prove:
Claim 2: Let G be an identity-independent, non-keeper distribution game, and let ‚àí‚Üía be a NE of G. Then exj (
‚àí‚Üía ) ‚â§
ui(
‚àí‚Üía ) for every client i not saturated in ‚àí‚Üía (i.e.,ui(
‚àí‚Üía ) < di)
and every supplier j.
Proof: Let i be a client that is not saturated in ‚àí‚Üía and ai
be its strategy. Since G is non-keeper, we have exai
(
‚àí‚Üía ) =
0 ‚â§ ui(
‚àí‚Üía ). Assume for a contradiction that there is a
supplier j Ã∏= ai such that exj (
‚àí‚Üía ) > ui(
‚àí‚Üía ). Let ‚àí‚Üía
‚Ä≤
be
the outcome obtained from ‚àí‚Üía by i changing its strategy
to j. If ui(
‚àí‚Üía
‚Ä≤
) = di we have ui(
‚àí‚Üía
‚Ä≤
) > ui(
‚àí‚Üía ) since i
is not saturated in ‚àí‚Üía . This contradicts the fact that ‚àí‚Üía is
a NE, thus ui(
‚àí‚Üía
‚Ä≤
) < di
. Since G is non-keeper, we have
exj (
‚àí‚Üía
‚Ä≤
) = 0. Since Cj (
‚àí‚Üía ) ‚ää Cj (
‚àí‚Üía
‚Ä≤
), Œ¥j is non-increasing,
and fi
is increasing, we have ui
‚Ä≤ (
‚àí‚Üía
‚Ä≤
) ‚â§ ui
‚Ä≤ (
‚àí‚Üía ) for every
i
‚Ä≤ ‚àà Cj (
‚àí‚Üía ). Then
ui(
‚àí‚Üía
‚Ä≤
) = Œ∫j ‚àí
X
i
‚Ä≤‚ààCj (‚àí‚Üía )
ui
‚Ä≤ (
‚àí‚Üía
‚Ä≤
)
‚â• Œ∫j ‚àí
X
i
‚Ä≤‚ààCj (‚àí‚Üía )
ui
‚Ä≤ (
‚àí‚Üía )
= exj (
‚àí‚Üía ) > ui(
‚àí‚Üía ) (4)
contradicting the fact that ‚àí‚Üía is a NE. ‚ñ°
In the next Lemma we provide an upper bound to the price
of anarchy, by partitioning the clients into two sets, namely
the saturated ones and the rest. In this way we can bound
the social welfare of the saturated and unsaturated clients
separately using different bounds from Observation 1 and
then combine the bounds.
Lemma 3: The price of anarchy of every identity-independent
non-keeper distribution game is at most 1 + Œª1.
Proof: Let G be an identity-independent, non-keeper distribution game, and let ‚àí‚Üía be a NE of G. We first introduce
some notation. Denote by S
def
= {i ‚àà [n]|ui(
‚àí‚Üía ) = di} be
the set of clients that are saturated in ‚àí‚Üía . Let F be the set
of suppliers to which the rest of the clients are connected,
i.e. F
def
= ‚à™i /‚ààS {ai}. For a set C of clients denote by
dC
def
=
P
i‚ààC
dj their total demand. Similarly, for a set P of
suppliers, we denote by Œ∫P
def
=
P
j‚ààP
Œ∫j their total capacity,
and by DP (
‚àí‚Üía ) = P
j‚ààP Dj (
‚àí‚Üía ) the total demand of their
clients. Without loss of generality we assume Œ∫1 ‚â• . . . ‚â•
Œ∫m. Note that, since G is non-keeper, we have
X
i /‚ààS
ui(
‚àí‚Üía ) ‚â§ Œ∫F , (5)
i.e., the total utility of the non-saturated clients is less than or
equal to the total capacity of their suppliers. We now show an
important property of a NE that we will use to conclude our
proof.
Consider an optimal outcome ‚àí‚Üía
‚àó
of G. Clearly, for every
client i ‚àà S we have ui(
‚àí‚Üía
‚àó
) ‚â§ di = ui(
‚àí‚Üía ). Therefore,
WS(
‚àí‚Üía
‚àó
) = X
i‚ààS
Œªiui(
‚àí‚Üía
‚àó
) ‚â§
X
i‚ààS
Œªiui(
‚àí‚Üía ) = WS(
‚àí‚Üía ).
(6)
In the sequel we consider the utilities of the unsaturated clients, i.e., those clients i /‚àà S. Let S¬Ø = [n] \
S =

i1, . . . , in‚àí|S|
	
with i1 < ¬∑ ¬∑ ¬∑ < in‚àí|S|
. Let also
n
‚Ä≤ = min {m, n ‚àí |S|} be the smaller among the number
of clients that are not saturated in ‚àí‚Üía and the number of
suppliers. By Observation 1 we have
WS¬Ø(
‚àí‚Üía
‚àó
) ‚â§
nX‚Ä≤
j=1
Œªij Œ∫j
=
X
j‚àà[n‚Ä≤
]\F
Œªij Œ∫j +
X
j‚àà[n‚Ä≤
]‚à©F
Œªij Œ∫j
=
X
j‚àà[n‚Ä≤
]\F
Œªij
(Dj (
‚àí‚Üía ) + exj (
‚àí‚Üía )) + X
j‚àà[n‚Ä≤
]‚à©F
Œªij Œ∫j
‚â§ Œª1D[n‚Ä≤
]\F (
‚àí‚Üía ) + X
j‚àà[n‚Ä≤
]\F
Œªij
exj (
‚àí‚Üía ) + Œª1Œ∫[n‚Ä≤
]‚à©F
= Œª1
where (7) is obtained by observing that the second term is the
total utilization of the suppliers in F, the first term is the total
utilization of other suppliers, and using Claim 2 for the third
term. Combining inequalities (6) and (8) we obtain
W(
‚àí‚Üía
‚àó
) ‚â§ (1 + Œª1)W(
‚àí‚Üía ) (9)
as claimed. ‚ñ°
Note that the game is identity-independent but the social
welfare is identity-dependent. In other words, the game is
played without identities, thus regardless of the coefficients
Œªi
, whereas the social welfare is measured using these coefficients. For this reason, a PoA of Œª1 seems inevitable. In the
rest of this section we show that the above bounds are tight in
the sense that there exist distribution games that attain these
bounds.
Lemma 4: For every œµ > 0 there exist a coefficient vector
‚àí‚ÜíŒª
and an identity-independent, non-keeper distribution game G
with PoA(G) ‚â• PoS(G) > 1 + Œª1 ‚àí œµ.
Proof: Let n > 2/œµ, œµ
‚Ä≤ =
œµ/2‚àí1/n
n‚àí1 > 0 and let G =
(n, m, d, A, ‚àÜ, F) be an identity-independent non-keeper
distribution game where every client i has a demand of di =
1, Œ∫1 = 1 and Œ∫j = 1/n ‚àí œµ
‚Ä≤
for every j ‚àà [2, n]. The social
welfare is Pn
i=1 ui(
‚àí‚Üía ), i.e., Œªi = 1 for every i ‚àà [n]. We
first prove that the strategy of every player is 1 in every NE,
VOLUME 4, 2016 9
This article has been accepted for publication in IEEE Access. This is the author's version which has not been fully edited and 
content may change prior to final publication. Citation information: DOI 10.1109/ACCESS.2022.3222779
This work is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 License. For more information, see https://creativecommons.org/licenses/by-nc-nd/4.0/
Sinan Emre Ta¬∏sci, et al.: Distribution Games: A New Class of Games with Application to User Provided Networks
implying that G has a unique NE. Suppose that the strategy
of some player i is ai Ã∏= 1. Then ui(
‚àí‚Üía ) ‚â§ 1/n ‚àí œµ
‚Ä≤ < 1/n.
On the other hand for the outcome ‚àí‚Üía
‚Ä≤
obtained from ‚àí‚Üía
by i changing its strategy to 1, we have D1(
‚àí‚Üía
‚Ä≤
) ‚â§ n.
Since G is identity-independent and non-keeper, we have
ui(
‚àí‚Üía
‚Ä≤
) ‚â• 1/n > ui(
‚àí‚Üía ), contradicting the fact that ‚àí‚Üía is
a NE. Therefore, the utility of every player is 1/n in the
unique NE, for a social welfare of 1. An optimal outcome
‚àí‚Üía
‚àó
is obtained when the strategy of client i is i. In this
case u1(
‚àí‚Üía
‚àó
) = 1 and ui(
‚àí‚Üía
‚àó
) = 1/n ‚àí œµ
‚Ä≤
for every client
i ‚àà [2, n]. We have
W(
‚àí‚Üía
‚àó
) = 1 + (n ‚àí 1) 
1
n
‚àí œµ
‚Ä≤

= 2 ‚àí
1
n
‚àí (n ‚àí 1)œµ
‚Ä≤ = 2 ‚àí
œµ
2
> 2 ‚àí œµ.
‚ñ°
For a UPN where the client utilities are aligned directly
with the obtained data rates, the theoretical results presented
in this section suggest that the aggregate data rate obtained by
the clients in any equilibrium is at least the half of the optimal
value. In practice, usually this gap is much lower as will be
shown in the next section. Valuation per unit bandwidth may
be different for different clients. In this case, the ratio of the
optimal social welfare to the attained one does not exceed
one plus the ratio of the largest valuation to the smallest one.
V. APPLICATION TO UPN AND NUMERICAL STUDY
In this section we first describe implementation of the proposed scheme in UPN systems. Then we present a numerical
study involving simulations in the UPN context that is carried
out in order to examine the outcome of the proposed distribution game and also a generalization of it in which the demand
of a client may vary from supplier to supplier.
A. UPN IMPLEMENTATION
In order to realize the proposed scheme in a UPN setting,
some moderate assumptions should be made. Although the
proposed study can be adopted to inband D2D communications where both cellular and D2D links use same licensed
spectrum, we assume outband D2D communication such that
the suppliers and the clients communicate via unlicensed
spectrum such as WiFi or Bluetooth. This approach is used
by already deployed UPN implementations such as Karma
[59] and Fon [60] which are all based either on a specially
designed hardware (WiFi router) or a special firmware (enables the device to emulate a WiFi router) equipped with
some capacity sharing features. In such a setting a WiFi
router may associate a maximum capacity with each of its
connected clients so that a supplier can share its capacity
among its connected clients according to our scheme. A fullstack software solution as in the case of M-87 networks [58]
is also possible, which leverages smartphones for routing and
bridging the data paths, by efficiently and fairly utilizing the
outband D2D links.
In a distribution games, every client needs to know the
demands of all other users that are connected to its potential
suppliers. In an operator-controlled UPN setup, all the clients
advertise their demands to the operator via a supplier. Then,
demands of the other users could be obtained from the
operator. In an autonomous UPN setup, an additional twostep communication protocol has to be implemented between
the users. We may describe a node and strategy discovery
protocol as follows. In the first step each client advertises its
demand to the suppliers in its range. In the second step, i.e.,
upon collecting all demand declarations, the suppliers share
this information with their possible clients in their range. At
this point, each client knows others‚Äô demands and strategies.
Also during the game play whenever a client connects to
or drops from a supplier, the relevant supplier informs other
possible clients so that clients may try to change their suppliers accordingly. Node discovery and communication between
clients and suppliers can be handled via Bluetooth, WiFi
direct, or any device-to-device communication technology.
In the rest of this section, we describe the simulation
setup details and the performance results obtained by this
numerical study. We simulate clients playing best response
dynamics and examine the social welfare attained by the resulting equilibria in different network setups. We considered
only the unbiased social welfare case, i.e., the case of Œª1 = 1.
B. SIMULATION SETUP
Network and demand generation: The network generation
routine that generates the sample networks is passed the
following parameters: a) number of gateways, b) number of
clients, c) lower and upper bounds on the bandwidths offered
by the gateways, and d) lower and upper bounds on the
clients‚Äô demands. As for the first two of these parameters, we
generate 5 networks comprising of 3 gateways and 6 clients,
5 gateways and 12 clients, 10 gateways and 24 clients, 15
gateways and 36 clients and 20 gateways and 48 clients.
These networks are referred as small, medium, large, very
large, and huge respectively, in Table 3.
The demands of the clients and gateways are chosen uniformly at random between the respective lower and upper
bounds. In the first scenario which is referred as high demand
variance in Table 3, clients‚Äô demands (di) are picked from
a wide range (1 Mbps to 65 Mpbs). In the other scenario,
referred as low demand variance clients‚Äô demands are picked
from a narrower range (56 Mbps to 65 Mbps). In both scenarios the capacities (Œ∫j ) of the gateways are chosen uniformly
at random from the range 56 Mbps to 65 Mbps. In this way
we simulate both random scenarios and scenarios in which
the clients have demands close to the gateways‚Äô capacities.
These data rates reflect the supported capacities and expected
demands of modern handheld devices, smart phones, video
streaming applications, etc.
We consider two cases in our simulations. In Case 1,
the demand of every client is fixed. In this case, all the
clients play best response dynamics. In Case 2, we consider
a generalization of distribution games in which the demand
10 VOLUME 4, 2016
This article has been accepted for publication in IEEE Access. This is the author's version which has not been fully edited and 
content may change prior to final publication. Citation information: DOI 10.1109/ACCESS.2022.3222779
This work is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 License. For more information, see https://creativecommons.org/licenses/by-nc-nd/4.0/
Sinan Emre Ta¬∏sci, et al.: Distribution Games: A New Class of Games with Application to User Provided Networks
TABLE 2. RSSI and Link Speed Relation in 802.11n [16].
RSSI(dbm) Link Speed (Mbps)
-82 6.5
-79 13
-77 19.5
-74 26
-70 39
-66 52
-65 58.5
-64 65
of a client depends on the gateway to which it is connected.
In other words, client i may not be able to get its demand
di at any gateway j even if that gateway‚Äôs capacity exceeds
di
. This can be due to distance, obstacles and disruptions in
the network. If the maximum data rate that can be transferred
from gateway j to client i is Rij , then the maximum satisfiable demand of client i from gateway j is defined as
dij = min (di
, Rij ). (10)
We relate Rij to the distance between client i and gateway
j as follows. First we compute received signal strength indicator between client i and gateway j (RSSIij ) in dBm by
the following formula [15]:
RSSIij (dBm) = Pij ‚àí 10Œ± log10(dij ) ‚àí OAF (11)
where Pij is the power level to send data from client i to
gateway j, dij is the distance in meters between the client and
the gateway, Œ± is the channel attenuation factor and OAF is
the obstacle attenuation factor. We used Pij = ‚àí37dBm,
Œ± = 2 and OAF = 1.5 in all simulations. RSSI levels are
then converted to link speed (Rij ) according to Table 2.
Throughout all simulations an area of 150 √ó 150 meters
is assumed and all nodes are scattered over that area in a
uniformly random fashion. 5 different samples were created
from each type of network in Table 3.
The network topologies generated for simulations are summarized in Table 3. Topologies are created for distribution
games and generalized distribution games, for networks with
different numbers of nodes, and finally for situations where
the variance between clients‚Äô demands is low and high.
TABLE 3. Simulation Scenarios.
Network Size Demand Variance Case 1 Case 2
small high S-V-1 S-V-2
small low S-D-1 S-D-2
medium high M-V-1 M-V-2
medium low M-D-1 M-D-2
large high L-V-1 L-V-2
large low L-D-1 L-D-2
very large high V-V-1 V-V-2
very large low V-D-1 V-D-2
huge high H-V-1 H-V-2
huge low H-D-1 H-D-2
Simulation: Finding a Nash equilibrium is a hard problem in
general [13], [14]. However we do not know the hardness
of the problem when restricted to distribution games. Our
numerical study aims to determine best and worst Nash
equilibria of the proposed scheme for practical instances. For
this reason we take two different approaches:
For networks with a small number of nodes, Nash equilibria are sought in the entire strategy space. This method gives
precise results for small networks but its use for networks
with a large number of nodes is impractical due to the size of
the strategy space.
For large networks, initially clients are connected to gateways randomly and then a best response strategy is played
in random order until a Nash equilibrium is reached. This
process is repeated 20 times for each network. The best
and the worst (in terms of total bandwidth) Nash equilibria
among the results of these 20 runs are used for comparison.
We computed the averages of the first 5, 10, 15 and 20
runs and observed that the results do not exhibit significant
changes. We therefore used the results of 20 runs as a good
approximation to the true minimum and maximum.
Optimal solutions are needed as a basis for comparison. In
order to find an optimal solution, the integer linear program
(12) - (16) is generated for each sample network.
maximize Xuij (12)
s.t.
X
uij ‚â§ dijxij , ‚àÄi, j (13)
i
uij ‚â§ Œ∫j , ‚àÄj (14)
X
j
xij = 1 ‚àÄi (15)
xij ‚àà {0, 1} (16)
where uij is the utility of client i obtained from gateway j,
xij is an indicator variable that indicates whether client i is
connected to gateway j, Œ∫j is the capacity of gateway j, dij
is the demand of client i from gateway j.
We used the Egalitarian Distribution (GEG) throughout all
simulations. This is because the Egalitarian distribution aims
to make use of the whole capacity of gateways and assigns
this capacity to the clients fairly, whereas the Demandproportional distribution (GDP ) favors the clients with higher
declared demands.
Evaluation: The performance evaluation is based on two
different criteria: a) the total utility, and b) the Jain index [12].
The total utility is the bandwidth made available for use by
the clients. Data rates of each client and the total utility of the
sample network obtained as the result of the linear program
are compared against the results of the proposed scheme.
The Jain index is a metric that measures the fairness of the
distribution of the available bandwidth among the clients.
Specifically,
J(u1, u2, . . . , un) = (
Pn
i=1 ui)
2
n
Pn
i=1 u
2
i
(17)
where ui
is the bandwidth allocated to client i.
VOLUME 4, 2016 11
This article has been accepted for publication in IEEE Access. This is the author's version which has not been fully edited and 
content may change prior to final publication. Citation information: DOI 10.1109/ACCESS.2022.3222779
This work is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 License. For more information, see https://creativecommons.org/licenses/by-nc-nd/4.0/
Sinan Emre Ta¬∏sci, et al.: Distribution Games: A New Class of Games with Application to User Provided Networks
FIGURE 4. Simulation Scenario vs Total network payoffs (Mbps).
Two types of Jain indices are computed for each of the
optimal solution and two Nash equilibria. The first Jain
index is based on the bandwidth obtained by each client.
The second Jain index is based on the ratio of the obtained
bandwidth to the demand (of that client). The first Jain index
measures the fairness of the bandwidth distribution from the
perspective of a network operator, while the second measures
the fairness from the clients‚Äô perspective.
C. RESULTS
In this section we present the results obtained by the experiments presented in Section V-B.
Price of Anarchy (PoA) and Price of Stability (PoS) are
important criteria for the evaluation of the performance of
our schemes. For this purpose, an optimal, a best Nash
equilibrium and a worst Nash equilibrium (all in terms of
total network payoff) are needed. Figure 4 shows total network payoffs of all simulation scenarios (according to the
classification in Table 3).
At first glance both distribution games and their generalized version perform almost as good as optimal solutions. In
order to better examine the results some metrics need to be
considered. Two of them are obviously the PoA and the PoS
of the simulation scenarios.
In Table 4 the estimated PoA and PoS of first two scenarios are listed. For larger networks, ILP based solutions take
too much time to run and thus do not lead to optimal solutions
in reasonable time. For this reason, our solutions could not be
compared to optimal ones in large networks. In all scenarios
TABLE 4. Simulation Scenarios Compared.
PoA PoS
S-V-1 1.15 1.03
S-D-1 1 1
S-V-2 1.26 1.07
S-D-2 1.12 1.05
M-V-1 1.12 1.03
M-D-1 1.07 1.03
M-V-2 1.06 1.02
M-D-2 1.07 1.01
the PoA is close to 1 except one scenario (S-V-2) in which the
PoA is 1.26. The PoS is very close to 1 in all scenarios. This
FIGURE 5. Jain index - Network Practitioners‚Äô perspective.
FIGURE 6. Jain index - Subscribers‚Äô perspective
indicates that both distribution games and their generalized
version introduced in this study converge to near-optimal
Nash equilibria despite the lack of centralized control. In
other words, when the nodes in the network play selfish best
response strategies, the resulting connection graph will yield
a good performance and will not cause severe degradation in
the network payoff. Simulation results show that the PoA and
PoS are much lower than the tight theoretical upper bounds
(given in Section IV) in real world UPN deployments. We
exclude results for larger networks since problem space for
lp solvers are huge and in most of the experiments best Nash
equilibria yield better results from the lp solver.
The obtained fairness values, i.e. one from network operators‚Äô perspective and another from subscribers‚Äô perspective
are shown in Figure 5 and Figure 6, respectively, in terms
of the Jain index. These indices show that, in this aspect,
our scheme outperforms the ILP based optimal solution (that
does not consider fairness as an optimization criterion) while
still maintaining near-optimality.
Since the Egalitarian distribution rule aims both to distribute all available bandwidth and to make it fair among
users, the reached Nash equilibria resulted in near-optimal
solutions in terms of both fairness and network payoff.
When deployed to UPNs, distribution games allow easy
adaption to connection changes. Whenever a node (gateway
or client) joins the network other nodes may discover the
12 VOLUME 4, 2016
This article has been accepted for publication in IEEE Access. This is the author's version which has not been fully edited and 
content may change prior to final publication. Citation information: DOI 10.1109/ACCESS.2022.3222779
This work is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 License. For more information, see https://creativecommons.org/licenses/by-nc-nd/4.0/
Sinan Emre Ta¬∏sci, et al.: Distribution Games: A New Class of Games with Application to User Provided Networks
FIGURE 7. Steps to converge - given network size & scenario
newcomer and clients may change their connections according to the new situation. Thus the connection graph may start
to evolve automatically until it reaches an equilibrium after
some best/better response steps. The above holds also for
the removal of a node from the network. The distribution
function included in distribution games prioritizes fair bandwidth sharing since it distributes the bandwidth considering
bare minimum values according to clients‚Äô demands. While
prioritizing fair bandwidth sharing, the distribution function
also tries to distribute all available bandwidth, thus trying
to maximize the bandwidth usage. Based on the preceding
discussion, it can be said that distribution games can be
used to establish simple, and self-adapting UPN mechanisms
that are efficient and fair from both clients‚Äô and operator‚Äôs
perspective. An important metric to consider when using
best response dynamics is the time of convergence, i.e.,
the number of steps it takes the network to converge to an
equilibrium. In Figure 7 network sizes versus the number
of steps to converge is depicted for different scenarios. V1 and D-1 represent networks with high and low demand
variance clients, respectively, for Case-1. Similarly V-2 and
D-2 represent networks with high and low demand variance
clients for Case-2. For all scenarios, the number of steps
to converge increases almost linearly with the network size,
and the maximum number of moves per client is less than
10 in all scenarios, thus demonstrating the effectiveness of
our scheme. Our simulations aims to be compatible with real
UPNs and cover a wide range of parameters. The data rates
used in the numerical results are generated with respect to
RSSI which is based on the distance between the gateways
and clients. This technique follows a common practice in
the literature thus the chosen distances between nodes and
the dimensions of the simulation area are not arbitrary. The
demands of the clients are picked from data rate ranges that
are encountered in daily applications. The 1-65 Mbps range is
quite acceptable considering the need for flawless operation
of contemporary applications. Also, contemporary devices
support these data rates. In the networking context UPNs may
consist of various numbers of nodes thus we started from
small networks and increased the number of nodes in the
simulations in order to cover networks with different sizes
to demonstrate the effectiveness of our scheme.
VI. TRUTHFUL DISTRIBUTION GAMES
We note that the game GDP does not provide a truthful
mechanism. Whenever the utility of a client is less than
its demand, i.e., when the overall demand of its connected
supplier exceeds its capacity, it can get a bigger share of this
capacity by declaring a demand that is higher than the true
one. On the other hand, GEG is truthful, since a client cannot
increase its share of the capacity by untruthfully declaring a
different demand.
In this section we formalize this notion, characterize the
functions Œ¥j and fj that lead to a truthful distribution games
and verify this characterization on these two game families.
For this purpose we define a variant of the model in which
the demand di
is not a constant, but part of the strategy of
player i. Specifically, the strategy of player i is a supplier j
and a demand di
.
We denote by ¬Ødi
the true demand of player i and by
‚àí‚Üíd
the vector of demands declared by the clients. The utility of
player i is
ui(
‚àí‚Üía ,
‚àí‚Üíd ) = min n
¬Ødi
, fi(di
, Œ¥j (
‚àí‚Üía ,
‚àí‚Üíd ))o
. (18)
Note that this requires
‚Ä¢ the functions fi
to possibly depend on di
, and
‚Ä¢ the functions Œ¥j to possibly depend on
‚àí‚Üíd .
Note also that the utility of a player is bounded by its true
demand as one would expect.
In this discussion we consider Smooth Distribution Games
in which the functions f and Œ¥ above are continuous and
differentiable with respect to every di
. We assume that Œ¥j is
monotonically non-increasing in di for every i ‚àà [n], i.e., if
a client connected to supplier j increases its demand then Œ¥j
does not increase. Note that this behaviour is consistent with
the case of a connection of an additional client. Thus we have
‚àÇŒ¥j
‚àÇdi
‚â§ 0 for every i ‚àà [n], j ‚àà [m].
We say that a smooth distribution game is truthful if
the utility of a client does not increase by playing a value
di > ¬Ødi
. A family of functions fi and Œ¥j is truthful if every
smooth distribution game using these functions is truthful.
Whenever values of the other parameters are fixed, we refer
to fi(di
, Œ¥j (
‚àí‚Üía ,
‚àí‚Üíd )) as a function of di only. We now give
a necessary and sufficient condition for the truthfulness of a
family of functions.
Lemma 5: A smooth distribution game is truthful if and only
if f
‚Ä≤
i
(di) ‚â§ 0 or fi(di) ‚â• di for every outcome (
‚àí‚Üía ,
‚àí‚Üíd ) and
i ‚àà [n], j ‚àà [m].
Proof: Suppose that there exists an outcome (
‚àí‚Üía ,
‚àí‚Üíd ), a
player i ‚àà [n] and a supplier j ‚àà [m] such that f
‚Ä≤
i
(di) > 0
and fi(di) < di
. Suppose also that ¬Ødi = di
. Then player i
can increase its utility by setting di
to ¬Ødi +œµ for a sufficiently
small œµ > 0. The game is thus not truthful.
Conversely, suppose that the the game is not truthful. Then
there exist two outcomes (
‚àí‚Üía ,
‚àí‚Üíd ) and (
‚àí‚Üía ,
‚àí‚Üíd
‚Ä≤
) in both of
which some client i is connected to the same supplier j, and
VOLUME 4, 2016 13
This article has been accepted for publication in IEEE Access. This is the author's version which has not been fully edited and 
content may change prior to final publication. Citation information: DOI 10.1109/ACCESS.2022.3222779
This work is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 License. For more information, see https://creativecommons.org/licenses/by-nc-nd/4.0/
Sinan Emre Ta¬∏sci, et al.: Distribution Games: A New Class of Games with Application to User Provided Networks
the vectors
‚àí‚Üíd and
‚àí‚Üíd
‚Ä≤
differ only at the i-th entry with di =
¬Ødi and d
‚Ä≤
i > ¬Ødi such that
min 
¬Ødi
, fi(
¬Ødi)
	
< min 
¬Ødi
, fi(d
‚Ä≤
i
)
	
.
Then
fi(
¬Ødi) < fi(d
‚Ä≤
i
)
fi(
¬Ødi) < ¬Ødi
. (19)
By the mean-value theorem, there exists d
‚Ä≤‚Ä≤ ‚àà (
¬Ødi
, d‚Ä≤
i
)
such that f
‚Ä≤
i
(d
‚Ä≤‚Ä≤) > 0. If fi(d
‚Ä≤‚Ä≤) < d‚Ä≤‚Ä≤ then
the claimed condition holds for d
‚Ä≤‚Ä≤. Otherwise, let
d
‚Ä≤‚Ä≤‚Ä≤ = inf 
d ‚àà [
¬Ødi
, d‚Ä≤
]|fi(d) = d
	
. Since fi
is continuous,
fi(d
‚Ä≤‚Ä≤) = d
‚Ä≤‚Ä≤ > ¬Ødi
. By the mean value theorem, there exists
d
‚Ä≤‚Ä≤‚Ä≤ ‚àà (
¬Ødi
, d‚Ä≤‚Ä≤) with f
‚Ä≤
i
(d
‚Ä≤‚Ä≤‚Ä≤) > 0. By the choice of d
‚Ä≤‚Ä≤ and
the continuity of fi we have fi(d
‚Ä≤‚Ä≤‚Ä≤) < d‚Ä≤‚Ä≤‚Ä≤. Thus the claimed
condition holds for d
‚Ä≤‚Ä≤‚Ä≤
. ‚ñ°
We now apply Lemma 5 to the smooth variants of GDP
and GEG.
Consider an outcome of GDP such that at least two clients,
one of them being i, are connected to supplier j. Let also
choose Œ∫j < di = ¬Ødi
.
dfi
ddi
=
‚àÇfi
‚àÇdi
+
‚àÇfi
‚àÇŒ¥j
‚àÇŒ¥j
‚àÇdi
= Œ¥j (
‚àí‚Üía ,
‚àí‚Üíd ) + di
‚àÇŒ¥j
‚àÇdi
= Œ¥j (
‚àí‚Üía ,
‚àí‚Üíd ) ‚àí di
Œ¥j (
‚àí‚Üía ,
‚àí‚Üíd )
Dj (
‚àí‚Üía ,
‚àí‚Üíd )
= Œ¥j (
‚àí‚Üía ,
‚àí‚Üíd )
 
1 ‚àí
di
Dj (
‚àí‚Üía ,
‚àí‚Üíd )
!
> 0
where the last inequality uses the fact that there are at least
two clients connected to j, thus di < Dj (
‚àí‚Üía ,
‚àí‚Üíd ). Since Œ∫j <
di = ¬Ødj we have fi(di) < di
. We conclude that GDP is not
truthful.
For GEG we have
dfi
ddi
=
‚àÇfi
‚àÇdi
+
‚àÇfi
‚àÇŒ¥j
‚àÇŒ¥j
‚àÇdi
= 0 + 1
‚àÇŒ¥j
‚àÇdi
‚â§ 0. (20)
for every outcome (
‚àí‚Üía ,
‚àí‚Üíd ). Therefore, GEG is truthful.
VII. CONCLUSION AND OPEN PROBLEMS
In this study we introduced a game theoretical model both
keeping total network payoff and fairness in mind. These
two concepts are important from both network operators‚Äô and
subscribers‚Äô point of view. Seeking for a Nash equilibrium is
conceptually a distributed greedy solution method which may
result in non-optimal solutions but this turns out not to be the
case in this study.
We now discuss how our model achieves the goals stated
in Section I. Since our games do not require any coordination
between clients (such as coalitions), they are easily implementable in a distributed environment. We introduced two
games that fit into this model, namely the Egalitarian and
Demand-proportional distribution games. We note that the
Demand-proportional distribution is simpler to implement,
since in this case it is sufficient that every supplier advertises
its (fixed) capacity and the currently used capacity. On the
other hand, Egalitarian distribution requires every supplier to
advertise the demands of all its connected clients. The definition of distribution games allows for the restriction of the set
of suppliers a client can be connected, thus making our games
a good fit to a dynamic environment in which the potential
connections between clients and suppliers vary in time, or
alternatively when such connections may be restricted by the
operator according to various policies. Simple best response
dynamics can be played in both operator-assisted and autonomous UPNs in distributed setups. Other solutions such as
solving the connection graph either in a distributed or central
manner are more costly such that they involve exploring the
whole connection graph with all capacities and demands,
sharing the connection graph to solve in a distributed or
central manner, and assigning the data rates of each client.
Also node addition and removal requires re-computation of
above steps which is not the case in our scheme.
We conclude with further research directions related to
our work. The upper-bound to the number of steps to convergence implied by Lemma 1 is 2
mn. This bound is apparently tight for both our distribution schemes, i.e. Egalitarian
and Demand-proportional. However, if the set of possible
demand values is small, say a constant c, we can lower the
number of steps to as low as (
m
2c]. In this work, we did not
consider the time-to-convergence of these games.
We provided a simple characterization of the smooth (continuous and differentiable) functions Œ¥j and fj that always
lead to truthful distribution games. Using this characterization we have shown that the Egalitarian family of games is
truthful whereas Demand-proportional is not. The characterization of non-smooth functions is an open problem. Our
functions do not use a payment mechanism. The introduction
of such a mechanism will possibly lead to a richer set of
truthful functions.
We now mention a few possible generalizations of distribution games: First is the case where the demand of a
client depends on the supplier. In this work we studied this
generalization only numerically. Our simulations reached
a Nash equilibrium in all simulations, by playing random
best response. An interesting open problem is to determine
whether or not this is always the case. Second, one can study
the Bayesian game family by considering the scenarios where
users may have incomplete information about other players‚Äô
demands and only have a prior belief on their types. Another
extension is the case when a client is allowed to be connected
to more than one supplier and divide its demand among these
suppliers. At the first glance, a strategy of this variant seems
to be a mixed strategy of the original game. However, this
is not the case since the dependence of the utility on the
demand is not necessarily linear, as opposed to the expected
utility of a mixed strategy whose dependence is linear in the
probabilities.
14 VOLUME 4, 2016
This article has been accepted for publication in IEEE Access. This is the author's version which has not been fully edited and 
content may change prior to final publication. Citation information: DOI 10.1109/ACCESS.2022.3222779
This work is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 License. For more information, see https://creativecommons.org/licenses/by-nc-nd/4.0/
Sinan Emre Ta¬∏sci, et al.: Distribution Games: A New Class of Games with Application to User Provided Networks
REFERENCES
[1] Sofia, R. & Mendes, P. User-provided networks: consumer as provider.
IEEE Comm. Magazine. 46, 86-91 (2008)
[2] Iosifidis, G., Gao, L., Huang, J. & Tassiulas, L. Incentive mechanisms
for user-provided networks. IEEE Communications Magazine. 52, 20-27
(2014)
[3] Yamamoto, K. A comprehensive survey of potential game approaches to
wireless networks. IEICE Transactions On Communications. 98, 1804-
1823 (2015)
[4] Wang, B., Wu, Y. & Liu, K. Game theory for cognitive radio networks: An
overview. Computer Networks. 54, 2537-2561 (2010)
[5] Rosenthal, R. A class of games possessing pure-strategy Nash equilibria.
Int. Journal Of Game Theory. 2, 65-67 (1973)
[6] Ta¬∏sci, S. & Korcak, o. On Fair and Efficient Bandwidth Sharing in
User Provided Networks. 2019 International Conference On Information
Networking (ICOIN). pp. 442-447 (2019)
[7] Monderer, D. & Shapley, L. Potential games. Games And Economic
Behavior. 14, 124-143 (1996)
[8] L√£, Q., Chew, Y. & Soong, B. Potential Game Theory. (Springer,2016)
[9] Marden, J. & Wierman, A. Distributed welfare games. Operations Research. 61, 155-168 (2013)
[10] Marden, J. & Wierman, A. Overcoming the Limitations of Utility Design
for Multiagent Systems. Automatic Control, IEEE Transactions On. 58 pp.
1402-1415 (2013,6)
[11] Milchtaich, I. Congestion games with player-specific payoff functions.
Games And Econ. Behavior. 13, 111-124 (1996)
[12] Jain, R., Chiu, D. & Hawe, W. A quantitative measure of fairness and discrimination. Eastern Research Laboratory, Digital Equipment Corporation,
Hudson, MA. (1984)
[13] Fabrikant, A., Papadimitriou, C. & Talwar, K. The complexity of pure
Nash equilibria. Proceedings Of The Thirty-sixth Annual ACM Symposium On Theory Of Computing. pp. 604-612 (2004)
[14] Conitzer, V. & Sandholm, T. New complexity results about Nash equilibria. Games And Economic Behavior. 63, 621-641 (2008)
[15] Liu, H. & Liu, C. Implementation of Wi-Fi signal sampling on an android
smartphone for indoor positioning systems. Sensors. 18, 3 (2018)
[16] Van Nee, R., Jones, V., Awater, G., Van Zelst, A., Gardner, J. & Steele,
G. The 802.11n MIMO-OFDM standard for wireless LAN and beyond.
Wireless Personal Comm.. 37, 445-453 (2006)
[17] Suri, S., T√≥th, C. & Zhou, Y. Selfish load balancing and atomic congestion
games. Algorithmica. 47, 79-96 (2007)
[18] Grosu, D., Chronopoulos, A. & Leung, M. Load balancing in distributed
systems: An approach using cooperative games. Proceedings 16th International Parallel And Distributed Processing Symposium. pp. 10-pp (2002)
[19] Anselmi, J., Ayesta, U. & Wierman, A. Competition yields efficiency in
load balancing games. Performance Evaluation. 68, 986-1001 (2011)
[20] Dan, G. Cache-to-cache: Could ISPs cooperate to decrease peer-to-peer
content distribution costs?. IEEE Transactions On Parallel And Distributed
Systems. 22, 1469-1482 (2011)
[21] Iosifidis, G., Gao, L., Huang, J. & Tassiulas, L. Efficient and fair collaborative mobile internet access. IEEE/ACM Transactions On Networking.
25, 1386-1400 (2017)
[22] Khalili, M., Gao, L., Huang, J. & Khalaj, B. Incentive design and market evolution of mobile user-provided networks. 2015 IEEE INFOCOM
Workshops. pp. 498-503 (2015)
[23] Uludag, K., Tasci, S. & Korcak, O. Sequential bargaining based incentive
mechanism for collaborative Internet access. Journal Of Network And
Computer Applications. (2020)
[24] Zhang, M., Gao, L., Huang, J. & Honig, M. Hybrid pricing for mobile
collaborative Internet access. IEEE/ACM Transactions On Networking.
27, 986-999 (2019)
[25] Gao, L., Iosifidis, G., Huang, J. & Tassiulas, L. Hybrid data pricing for
network-assisted user-provided connectivity. IEEE INFOCOM. pp. 682-
690 (2014)
[26] Xu, J., Wu, S., Xu, L., Zhang, N. & Zhang, Q. User Satisfaction-Aware
WiFi Offloading in Heterogeneous Networks. IEEE 86th Vehicular Technology Conference (VTC-Fall). pp. 1-5 (2017)
[27] Peng, H., Duan, Y., Shao, Q. & Ju, C. Game theory based distributed energy efficient access point selection for wireless sensor network. Wireless
Networks. 24, 523-532 (2018)
[28] Raschell√†, A., Bouhafs, F., Mackay, M., Shi, Q., Ort√≠nn, J., G√°llego, J.
& Canales, M. A dynamic access point allocation algorithm for dense
wireless LANs using potential game. Computer Networks. 167 pp. 106991
(2020)
[29] Dong, M., Kimata, T., Sugiura, K. & Zettsu, K. Quality-of-experience
(QoE) in emerging mobile social networks. IEICE Trans. On Inf. And
Systems. 97, 2606-2612 (2014)
[30] Zhang, N., Zhang, S., Zheng, J., Fang, X., Mark, J. & Shen, X. QoE driven
decentralized spectrum sharing in 5G networks: Potential game approach.
IEEE Transactions On Vehicular Technology. 66, 7797-7808 (2017)
[31] Mousavi, M., Al-Shatri, H. & Klein, A. Cost sharing games for energyefficient multi-hop broadcast in wireless networks. IEEE Transactions On
Wireless Commun.. 19, 310-324 (2019)
[32] Mousavi, M. & Klein, A. Energy and Social Cost Minimization for
Data Dissemination in Wireless Networks: Centralized and Decentralized
Approaches. IEEE Transactions On Vehicular Technology. 69, 5521-5534
(2020)
[33] Wu, D., Wu, Q., Xu, Y. & Liang, Y. QoE and energy aware resource
allocation in small cell networks with power selection, load management,
and channel allocation. IEEE Transactions On Vehicular Technology. 66,
7461-7473 (2017)
[34] Mousavi, M. & Klein, A. Decentralized video streaming in multi-hop
wireless networks: Incentive mechanism and energy efficiency. IEEE
Access. 7 pp. 51329-51345 (2019)
[35] Cui, J., Wu, D. & Qin, Z. Caching AP selection and channel allocation in
wireless caching networks: A binary concurrent interference minimizing
game solution. IEEE Access. 6 pp. 54516-54526 (2018)
[36] Wettergren, T. & Traweek, C. Distributed Membership Games for Planning Sensor Networks. Advanced Research In Naval Engineering. pp. 125-
141 (2018)
[37] Iellamo, S., Coupechoux, M. & Khan, Z. SILP: A Stochastic Imitative
Learning Protocol for Multi-Carrier Spectrum Access. IEEE Transactions
On Cognitive Communications And Networking. 5, 990-1003 (2019)
[38] Yu, H., Liu, Z., Liu, Y., Chen, T., Cong, M., Weng, X., Niyato, D. & Yang,
Q. A fairness-aware incentive scheme for federated learning. Proceedings
Of The AAAI/ACM Conference On AI, Ethics, And Society. pp. 393-399
(2020)
[39] Akhavan Bitaghsir, S. & Khonsari, A. Cooperative caching for content
dissemination in vehicular networks. International Journal Of Communication Systems. 31, e3534 (2018)
[40] Le Cadre, H. & Bouhtou, M. An interconnection game between mobile
network operators: Hidden information forecasting using expert advice
fusion. Computer Networks. 54, 2913-2942 (2010)
[41] Stockhammer, T. Dynamic adaptive streaming over HTTP‚Äì standards and
design principles. Proceedings Of The Second Annual ACM Conference
On Multimedia Systems. pp. 133-144 (2011)
[42] Liu, Y., Tang, A. & Wang, X. Joint Incentive and Resource Allocation Design for User Provided Network Under 5G Integrated Access and Backhaul
Networks. IEEE Transactions On Network Science And Engineering. 7,
673-685 (2020)
[43] Ishmael, J., Bury, S., Pezaros, D. & Race, N. Deploying rural community
wireless mesh networks. IEEE Internet Computing. 12, 22-29 (2008)
[44] Polese, M., Giordani, M., Zugno, T., Roy, A., Goyal, S., Castor, D. &
Zorzi, M. Integrated Access and Backhaul in 5G mmWave Networks:
Potential and Challenges. IEEE Communications Magazine. 58, 62-68
(2020)
[45] Nakayama, Y., Yasunaga, R. & Maruta, K. Banket: Bandwidth Market for
Building a Sharing Economy in Mobile Networks. IEEE Communications
Magazine. 59, 110-116 (2021)
[46] Fang, X., Misra, S., Xue, G. & Yang, D. Smart Grid ‚Äî The New
and Improved Power Grid: A Survey. IEEE Communications Surveys
Tutorials. 14, 944-980 (2012)
[47] Caron, S. & Kesidis, G. Incentive-Based Energy Consumption Scheduling
Algorithms for the Smart Grid. 2010 First IEEE International Conference
On Smart Grid Communications. pp. 391-396 (2010)
[48] Zhang, K., Mao, Y., Leng, S., Maharjan, S., Zhang, Y., Vinel, A. &
Jonsson, M. Incentive-Driven Energy Trading in the Smart Grid. IEEE
Access. 4 pp. 1243-1257 (2016)
[49] Farahani, R., Miandoabchi, E., Szeto, W. & Rashidi, H. A review of urban
transportation network design problems. European Journal Of Operational
Research. 229, 281-302 (2013)
[50] Current, J. & Marsh, M. Multiobjective transportation network design
and routing problems: Taxonomy and annotation. European Journal Of
Operational Research. 65, 4-19 (1993)
[51] Wu, M. Information, Learning and Incentive Design for Urban Transportation Networks. (Massachusetts Institute of Technology,2021)
VOLUME 4, 2016 15
This article has been accepted for publication in IEEE Access. This is the author's version which has not been fully edited and 
content may change prior to final publication. Citation information: DOI 10.1109/ACCESS.2022.3222779
This work is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 License. For more information, see https://creativecommons.org/licenses/by-nc-nd/4.0/
Sinan Emre Ta¬∏sci, et al.: Distribution Games: A New Class of Games with Application to User Provided Networks
[52] Wang, H. & Zhang, X. Game theoretical transportation network design
among multiple regions. Annals Of Operations Research. 249, 97-117
(2017)
[53] Deng, Y., Shao, S., Mittal, A., Twumasi-Boakye, R., Fishelson, J., Gupta,
A. & Shroff, N. Incentive Design and Profit Sharing in Multi-modal
Transportation Network. ArXiv Preprint ArXiv:2101.03297. (2021)
[54] Tavafoghi, H. & Teneketzis, D. Informational incentives for congestion
games. 2017 55th Annual Allerton Conference On Communication, Control, And Computing (Allerton). pp. 1285-1292 (2017)
[55] Fang, T., Yuan, F., Ao, L. & Chen, J. Joint task offloading, D2D pairing and
resource allocation in device-enhanced MEC: a potential game approach.
IEEE Internet Of Things Journal. (2021)
[56] Cui, G., He, Q., Chen, F., Zhang, Y., Jin, H. & Yang, Y. Interferenceaware game-theoretic device allocation for mobile edge computing. IEEE
Transactions On Mobile Computing. (2021)
[57] Zhang, J., Liang, W., Yang, B., Shi, H., Wang, K. & Wang, Q. A Potential
Game Approach for Decentralized Resource Coordination in Coexisting
IWNs. IEEE Transactions On Cognitive Communications And Networking. (2022)
[58] M87. http://www.m-87.com.
[59] Karma. https://karmamobility.com.
[60] Fon. https://fon.com.
SÀôINAN EMRE TA ¬∏ScÀôI received his B.S. degree
in Computer Engineering (with honor) from Marmara University and his M.S. degree in Electronics
Engineering and Computer Science from Sabanci
University in 2002 and 2006, respectively. Currently he is a PhD candidate at Marmara University and he works as the director of software development for IHS Kurumsal Teknoloji A.¬∏S. which is
a research and development center accredited by
ministry of industry and technology in Turkiye.
His research interests are computer and network security, ad hoc and sensor
networks and game theory with applications to user provided connectivity.
MORDECHAI SHALOM holds a B.A. degree in
Architecture from ITU, Technical University of Istanbul, from which he graduated at 1981. He completed his studies towards M.Sc. degree at 1986 in
the Faculty of Computer Science, Technion, from
which he received his Ph.D. degree at 2006. He
served as a Lecturer in the Tel Hai Academic College and adjunct lecturer at the Technion, Haifa.
His research interests are Optimization Problems
in Optical Networks, Distributed Algorithms Approximation Algorithms for Scheduling and Graph problems.
Omer Korcak received his B.S. (with high
honors), M.S. and Ph.D degrees all in Computer
Engineering from Bogazici University, in 2002,
2004, and 2009 respectively. Currently, he is an
assistant professor in Marmara University, Istanbul. In 2011, he worked as a visiting researcher
at Deutsche Telekom Laboratories, Berlin. His
main research interests are in the general area
of network optimization, network economics and
game theory, with applications to wireless and
broadband networks.
16 VOLUME 4, 2016
This article has been accepted for publication in IEEE Access. This is the author's version which has not been fully edited and 
content may change prior to final publication. Citation information: DOI 10.1109/ACCESS.2022.3222779
This work is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 License. For more information, see This work is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 License. For more information, see https://creativecommons.org/licenses/by-nc-nd/4.0/
oneri.C.10.S.40.
Temmuz.2013.115-124.
A RESEARCH ON STUDENTS‚Äô UNIVERSITY AND PROGRAM
PREFERENCE CRITERIA
Mustafa 
, E.Serra YURTKORU2

A RESEARCH ON STUDENTS‚Äô UNIVERSITY AND
PROGRAM PREFERENCE CRITERIA
Abstract: This research was conducted to understand
university and program preference criteria used by students
and to find out differences in preference criteria with regard to
students‚Äô study areas, academic units, education type,
language of instruction and gender. Sample of the study was
consisted of 2216 students from Marmara University. Results
revealed that students use five university preference criteria;
‚ÄúSocial & Sports Activities,‚Äù ‚ÄúInternational Recognition &
Research Opportunities,‚Äù ‚ÄúReputation of the University,‚Äù
‚ÄúFamily & Friends,‚Äù ‚ÄúState University & Low Tuition‚Äù and
four program preference criteria; ‚ÄúArea of Interest,‚Äù
‚ÄúResearch Opportunities,‚Äù ‚ÄúScore, Family & Friends,‚Äù
‚ÄúReputation of the Department & Job Opportunities.‚Äù The
most important criteria used by the students in university and
program preference were ‚ÄúState University & Low Tuition‚Äù
and ‚ÄúArea of Interest‚Äù respectively. Results also showed that
there were statistical differences with regard to study areas,
academic units, education type, and language of instruction as
expected however, no differences were found among genders.
Keywords: Higher Education, University Preference Criteria,
Program Preference Criteria.

I. INTRODUCTION
Globalization and technological developments
have affected the education area like all other markets.
Students are now faced with numerous local, global, or
distance programs and institutions to choose from. Higher
education institutions, faced with fierce competition, must
distinguish themselves to remain competitive, and screen
applicants to ensure they obtain the most desirable
students ‚Äì who are likely to succeed ‚Äì from around the
world [1,2]. To develop effective strategies and policies to
attract a large pool of qualified applicants, higher
education institutions should design appropriate programs
to meet the target markets‚Äô needs, and they should
identify the factors that influence applicants‚Äô higher
education institution choice.
I.1. University Preference Criteria
University preference criteria have been studied in
the US literature for several decades due to declining
demand for higher education and decreasing funding
grants [3,4]. As a result of inter-university competition
and rising levels of tuition fees, investigation of the
criteria in selecting a university is gaining an increasing
attention in other countries like Australia and the UK as
well [1,3]. Many higher education institutions perceived
transnational education as a primary solution to their
financial difficulties, and these English speaking
countries, as the main exporters of international
education, has shifted their investigation on significant
determinants of university choice process to the
international students [5,6,7].
Previous research on university preference criteria
of applicants, either local or international, has shown that
student choice is subject to multiple influences and there
are conflicting findings as to which factors are most
influential [1,5]. Nevertheless, the key factors that are
common to most studies are reputation or prestige of
university and/or program, tuition and availability of
financial aid, geographic location, influence of others or
family legacy, area of interest, and extracurricular
opportunities like sport facilities, social life in the campus
and nearby [3,4,8,9]. Previous research also suggests that
it is likely that prospective students make university
decisions on incomplete information and base their
evaluation on a limited number of key criteria [5].
Temmuz.2013.115-124.
116
I.2. Turkish Setting
Unlike these other countries, Turkey is not faced
with declining student numbers. In last ten year period,
the number of students enrolled to educational institutions
for undergraduate education increased approximately 2.4
times from 150,000 to 360,000 [10,11]. However, while
the number of universities was 27 in 1982 (all state),
today this number has reached to 188 (103 state and 65
private universities, 7 private vocational schools, 13 other
higher education institutions). In addition to this increase
in the number of universities, there is also an increase in
the internationalization of higher education [12,13].
Therefore, Turkish universities have to compete not only
with the local state and private universities but also with
the global universities.
Another challenge for Turkish higher education
institutions is that students for undergraduate programs of
the universities are selected and placed by a centrally
administered examination system. The Student Selection
and Placement Center ‚Äúselects and places students with
the highest probability of success in all the available
education programs, taking into consideration their
preferences, and performance on the university entrance
exams‚Äù [14]. Therefore, Turkish universities do not have
a chance to apply a recruitment process to screen
applicants; rather they need to convince qualified
candidates to prefer their universities. Consequently,
knowing which criteria candidates for Turkish universities
use while determining their preferences would give
valuable insights to universities. Universities can use
these criteria to inform and persuade qualified students to
choose their programs.
Previous studies conducted suggests even though
the university entrance system is different in Turkey,
students‚Äô university preference criteria are in line with the
literature [15,16]. Their exploratory factor analyses results
revealed ‚Äúsocial & sports activities and IT infrastructure,‚Äù
‚Äúinternational recognition & exchange,‚Äù ‚Äúarea of interest,‚Äù
‚Äústate university & low tuition,‚Äù ‚Äúplace & convenience,‚Äù
and ‚Äúfamily & friends‚Äù as university preference criteria.
Understanding the selection criteria students use to
evaluate higher education institutions is a helpful tool for
the institutions to communicate appropriately and
influence the selection process [7]. Especially in the
Turkish setting, where the higher education institutions
cannot apply their own recruitment process and have to
wait candidates to prefer their organizations passively,
communicating the right message to attract qualified
students gains even more importance. Consequently, this
study aims to further analyze the key determinants that
students use to make their decision on higher education
institutions. To get more insights, university and program
preference criteria will be developed separately. Later, it
will be also analyzed if preference criteria differ with
regard to students‚Äô study areas, academic units, education
type, language of instruction and gender.
Table 1. Descriptive Information on Sample by Academic Units, Education Type, Gender, & Language of
Instruction
Academic Units Education Type Gender Language of Instruction Total Regular Evening Female Male Turkish Foreign Language
Faculty 1246 550 1089 707 1470 326 1796
Schools 54 49 57 46 103 - 103
Vocational Schools 185 132 183 134 317 - 317
Total 1485 731 1329 887 1890 326 2216
II. METHODOLOGY
II.1. Sample
Data for this study are collected from freshman
students who are enrolled to 13 faculties, 3 schools, and 5
vocational schools in a state university located in Istanbul,
Turkey. 20% of the students are chosen using
proportional stratified sampling. The sample consists of
2216 students, 60% females, and 40% males. Sample‚Äôs
frequency distribution by academic units is 81% faculty,
5% school, 14%, and vocational school. 85% of the
students are enrolled to programs where the language of
instruction is in Turkish, and 15% of the students are
enrolled to programs where the language of instruction is
in a foreign language (English, French, or German). Also
33% of the sample is enrolled to evening education and
the rest 67% to regular education (See Table 1).
Table 2. Frequency Distribution of Study Areas
Study Areas Frequency
Education 353
Engineering 124
Health Sciences 229
Law 178
Linguistics 179
Science 100
Social, Human and Administrative Sciences 742
Theology 191
Vocational and Technical Education 120
Total 2216
Students‚Äô study areas are given in Table 2. As can
be seen from the table there is a variety of study areas:
‚ÄúEducation,‚Äù ‚ÄúEngineering,‚Äù ‚ÄúHealth Sciences,‚Äù ‚ÄúLaw,‚Äù
‚ÄúLinguistics,‚Äù ‚ÄúScience,‚Äù ‚ÄúSocial, Human and
Administrative Sciences,‚Äù ‚ÄúTheology,‚Äù and ‚ÄúVocational
and Technical Education.‚Äù Frequency distribution by
Mustafa ‚Äì E.Serra YURTKORU
117
study areas is 16%, 6%, 10%, 8%, 8%, 5%, 33%, 9%, and
5% respectively.
II.2. Instrument
Instruments used in this study to gather data are
University Preference Criteria Questionnaire and Program
Preference Criteria Questionnaire, which are developed
based on literature. University Preference Criteria
Questionnaire has 19 items and Program Preference
Criteria Questionnaire has 11 items. Students are asked to
evaluate ‚Äúto what degree they used each of these criteria
while they were making their decision‚Äù on a five point
scale, where ‚Äúnot at all‚Äù equals 1 and ‚Äúdefinitely‚Äù equals 5
for both questionnaires.
II.3. Data Collection
Using a data mining model data fields were
described and the database for this data was modeled and
implemented on a database server. Web interphases were
developed on which the questionnaire was conducted on
the Internet. The data was cleaned, integrated,
reformatted, and prepared for various statistical analyses.
Table 3. Exploratory & Confirmatory Factor Analyses Results of The University Preference Criteria
Questionnaire
Factors EFA loadings CFA loadings t value
Social & Sports Activities (VE=19.20; Œ±=0.90; CR=0.90; AVE=0.69)
Social activities 0.84 0.89 29.25
Student clubs 0.81 0.89 29.26
Sport activities 0.71 0.80 26.08
Campus security 0.54 0.73 a
International Recognition & Research Opportunities (VE=17.93; Œ±=0.89; CR=0.89; AVE=0.62)
International recognition 0.78 0.85 30.98
International programs 0.63 0.78 27.75
Job opportunities for graduates 0.61 0.73 25.60
IT infrastructure 0.59 0.80 28.63
Research opportunity 0.57 0.78 a
Reputation of the University (VE=12.30; Œ±=0.95; CR=0.94; AVE=0.88)
Reputation of the University 0.83 0.96 45.38
Image of the University 0.79 0.92 a
Family & Friends (VE=8.55; Œ±=0.63; CR=0.64; AVE=0.48)
Families‚Äô choice 0.69 0.80 a
Friends‚Äô choice 0.56 0.56 12.34
State University & Low Tuition (VE=8.44; Œ±=0.67; CR=0.69; AVE=0.52)
Lower cost of education 0.71 0.68 a
State university 0.62 0.77 15.27
(KMO=0.91, œá2
Bartlett test (105)=10881.99; p value=0.00)
œá
2
(80, N=1120)=591.43, p value=0.00; GFI=0.93; AGFI=0.90; CFI=0.95; RMSEA=0.08
Note. Œ± = Cronbach‚Äôs Reliability; VE= Variance Explained; CR= Construct Reliability; AVE=Average variance extracted; a=scale item fixed to 1,
GFI= Goodness of Fit Index; AGFI= Adjusted Goodness of Fit Index, CFI= Comparative Fit Index; RMSEA= Root Mean Square Error
Approximation p < 0.05; p < 0.01; p < 0.001
III. FINDINGS
III.1. Initial Analysis
University Preference and Program Preference
Criteria Questionnaires are newly developed instruments
therefore to identify and understand the underlying
structure of the questionnaires, exploratory factor analysis
(EFA) was planned as the initial step. However, it is
necessary to confirm the new component structures
established through EFA, and using the same data set
would erroneously increase the fit measures, therefore
separate data sets for model building and validation is
used as recommended by Lattin, Carroll, and Green [17].
By random sampling technique with Bernoulli
distribution, the data set is divided into half [18]. As a
result, our analysis sample for conducting EFA consisted
of 1096 observations and holdout sample for conducting
confirmatory factor analysis (CFA) consisted of 1120
observations.
Kaiser-Meyer-Olkin measure of sampling
adequacy and Bartlett test of sphericity tests are
performed to test the appropriateness of data for
conducting factor analyses [19]. Then principal
component factoring and varimax rotation are employed
to the data set. Factors with eigenvalues over one are
retained and items with high cross loadings are excluded
[18,20]. Five items are trimmed from the University
Preference Criteria Questionnaire, and the fifteen items
converged into five factors with 66.41% explained
variance (KMO=0.91, œá2 Bartlett test (105)=10881.99,
p=.00). Factors are named as ‚Äúsocial & sports activities,‚Äù
‚Äúinternational recognition and research opportunities,‚Äù
‚Äúreputation of the university,‚Äù ‚Äúfamily and friends,‚Äù ‚Äústate
university and low tuition.‚Äù To test the internal
consistency of factors, Cronbach‚Äôs coefficient alpha
Temmuz.2013.115-124.
118
reliabilities are computed. Reliabilities for factors are
0.90, 0.89, 0.95, 0.63, and 0.67 respectively. Nunnally
[21] suggests a value of 0.70 as lower limit, but it can
decrease to 0.60, in addition, there is a positive relation
between alpha coefficient and the number of items [18,
22].
In the Program Preference Criteria Questionnaire
one item is trimmed, and the ten items converged into
four factors with 74.69% explained variance (KMO=0.84,
œá
2 Bartlett test (45)=4316.35, p=.00). Factors are named
as ‚Äúarea of interest,‚Äù ‚Äúresearch opportunities,‚Äù ‚Äúscore,
family & friends,‚Äù and ‚Äúreputation of the program & job
opportunities.‚Äù To test the internal consistency of factors,
Cronbach‚Äôs coefficient alpha reliabilities are computed.
Reliabilities for factors are 0.84, 0.78, 0.66, and 0.73
respectively.
Table 4. Exploratory & Confirmatory Factor Analysis Results of the Program Preference Criteria Questionnaire
Factors EFA loadings CFA loadings t value
Area of Interest (VE=21.09; Œ±=0.84; CR=0.85; AVE=0.74)
Interest in area 0.89 0.89 24.73***
Interest in department 0.89 0.83 a
Research Opportunities (VE=18.20; Œ±=0.78; CR=0.77; AVE=0.53)
Laboratories/ Ateliers 0.89 0.65 19.26***
Research opportunity 0.69 0.82 23.05***
Having known instructors 0.59 0.72 a
Score, Family & Friends (VE=17.80; Œ±=0.66; CR=0.66; AVE=0.41)
University entrance exam score 0.80 0.43 11.93***
Friends‚Äô choice 0.77 0.64 15.73***
Families‚Äô choice 0.65 0.80 a
Reputation of the Department & Job Opportunities (VE=17.60; Œ±=0.73; CR=0.77; AVE=0.63)
Job opportunities for graduates 0.88 0.70 21.40***
Prestige of the department 0.72 0.88 a
(KMO=0.84, œá2
Bartlett test (45)=4316.35; p value=0.00)
œá
2
(29, N=1120)=309.58 p value=0.00; GFI=0.95; AGFI=0.90; CFI=0.94; RMSEA=0.08
Note. Œ± = Cronbach‚Äôs Reliability; VE= Variance Explained; CR= Construct Reliability; AVE=Average variance extracted; a=scale item fixed to 1,
GFI= Goodness of Fit Index; AGFI= Adjusted Goodness of Fit Index, CFI= Comparative Fit Index; RMSEA= Root Mean Square Error
Approximation *p < 0.05; ** p < 0.01; *** p < 0.001
Then confirmatory factor analyses (CFA) is
conducted to verify factor structures. Chi-square test
statistics are usually quite sensitive to sample size [18,23].
Therefore, in this study, Goodness of Fit Index (GFI),
Adjusted Goodness of Fit Index (AGFI), Comparative Fit
Index (CFI), and Root Mean Square Error Approximation
(RMSEA) are considered. There is no standard for
acceptable fit indices, but the rules of thumb are values
greater than 0.90 for GFI and CFI, values greater than
0.85 for AGFI, and values of .08 and less for RMSEA
[18,22]. Fit indices for the CFA suggested good fit for
University Preference and Program Preference Criteria
factor structures (œá2
(80, N=1120)=591.43, p=.00,
GFI=0.93, AGFI=0.90, CFI=0.95, RMSEA=0.08, and
œá
2
(29, N=1120)=309.58, p=.00, GFI=0.95, AGFI=0.90,
CFI=0.94, RMSEA=0.08 respectively).
Finally, procedures to check for convergent and
discriminant validity are employed. All factor loadings
are relatively high and significant, providing evidence for
convergent validity [24]. Construct reliabilities of 0.90,
0.89, 0.94, 0.64, and 0.69 for University Preference
Criteria and 0.85, 0.77, 0.66, and 0.77 for Program
Preference Criteria indicated high internal consistency of
the dimensions [18,20].
Another measure of reliability is the average
variance extracted (AVE) which reflects the overall
amount of variance accounted for by the latent construct.
Fornell and Larcker [25] favors level of 0.50 or above,
but for new scales values more than 0.45 seems
reasonable [20]. As can be seen from Table 3 and Table 4
except for one factor all the AVEs were above .45
threshold. To assess the discriminant validity of the scales
we first checked the Fornell and Larcker [25] criterion
where the discriminant validity is established when the
AVE for the two constructs is greater than the squared
correlation between the two constructs. Then we
constrained parameter estimate for the two constructs to
unity and compared with factor model where parameter is
freely estimated [26]. For each pair the constrained CFA
produced an increase in the chi-square statistic (ÔÅÑÔÅ£
2 with
1 df) that was significant at p<.01. Findings supported
both the convergent and discriminant validity
consequently the distinctness of the constructs. Therefore,
it is decided to keep the factor, ‚Äúscore, family & friends,‚Äù
for further analyses.
EFA and CFA supported the distinctiveness of
University Preference and Program Preference Criteria
Questionnaires‚Äô dimensions. Later the summated scores
of these dimensions are calculated and new variables are
formed. The whole data set is used for further analyses.
III.2. Final Analysis
Finding out underlying factors is not enough to
specify which factors are favored or used more by
students, while they were making their university and
program choice. Therefore, we conducted Friedman two‚Äì
way analysis of variance by ranks test to reveal the
Mustafa ‚Äì E.Serra YURTKORU
119
differences between ratings given to preference criteria
(See Table 5). The result of the Friedman analysis
indicate that during university preference ‚Äústate university
& low tuition‚Äù and ‚Äúreputation of the university‚Äù are the
two most important criteria used by the students, which
are followed by ‚Äúinternational recognition & research
opportunities‚Äù and ‚Äúsocial & sports activities.‚Äù The least
important criterion is ‚Äúfamily & friends.‚Äù The result of the
Friedman analysis for the program preference indicates
that the most important criteria are ‚Äúarea of interest‚Äù
which is then followed by ‚Äúreputation of the department
& job opportunities‚Äù and ‚Äúresearch opportunities.‚Äù Like in
the university preference, the least used criterion is
‚Äúscore, family, and friends.‚Äù
Previous studies has shown that key determinants
that students use to make their decision on university
preferences in Turkish setting differs by students‚Äô
academic unit (faculty, school, vocational school), study
area (science, social sciences, and health sciences),
language of instruction and gender [15,16]. Therefore, we
further analyzed the five university and four program
preference criteria with respect to students‚Äô academic
units, language of instruction, education type, and gender.
Table 5. Result of Friedman Two‚ÄìWay Analysis of
Variance
University Preference Criteria Mean rank
State University & Low Tuition 3.65
Reputation of the University 3.59
International Recognition & Research
Opportunities 2.95
Social & Sports Activities 2.52
Family & Friends 2.29
Program Preference Criteria Mean rank
Area of Interest 3.17
Reputation of the Department & Job
Opportunities 2.74
Research Opportunities 2.15
Score, Family & Friends 1.94
œá
2 Friedman test (5, N=2216)=1739.28, p=0.00
œá
2 Friedman test (4, N=2216)=1604.74, p=0.00
Independent sample t-test results indicate that there
is no significant difference in selection criteria used by
students according to their gender. However, there are
significant differences by language of instruction and
education type (See Table 6 and 7).
Table 6. Results of Independent Sample t-tests: Comparisons by Language of Instruction
n Mean Std. Dev. t value d.f. p value
Social & Sports Activities T 1890 3.80 1.03 5.21 2214 .00 FL 326 3.48 1.03
International Recognition & Research Opportunities T 1890 4.04 0.91 3.17 2214 .00 FL 326 3.86 0.87
Reputation of the University T 1890 4.35 0.88 5.54 2214 .00 FL 326 4.06 0.97
Family & Friends T 1890 3.53 1.20 5.66 2214 .00 FL 326 3.12 1.15
State University & Low Tuition T 1890 4.39 0.85 3.46 423.74 .00 FL 326 4.20 0.93
Research Opportunities T 1890 3.76 1.01 2.50 2214 .01 FL 326 3.61 0.99
Score, Family & Friends T 1890 3.51 1.12 5.75 465.68 .00 FL 326 3.15 1.04
Reputation of the Department & Job Opportunities T 1890 4.09 0.97
-2.01 2214 .04 FL 326 4.21 0.85
T = Turkish, FL = p < p < 0.01
Table 7. Results of Independent Sample t-tests: Comparisons by Education Type
n Mean Std. Dev. t value d.f. p value
Social & Sports Activities I 1485 3.69 1.04
-4.19 2214 0.00 II 731 3.88 1.01
Reputation of the University I 1485 4.27 0.92
-2.83 1580.7 0.00 II 731 4.38 0.84
Family & Friends I 1485 3.36 1.21
-6.07 2214 0.00 II 731 3.69 1.16
State University & Low Tuition I 1485 4.34 0.90
-1.98 1636.3 0.04 II 731 4.41 0.79
Score, Family & Friends I 1485 3.37 1.13
-5.11 1529.7 0.00 II 731 3.62 1.07
I = Regular education, II = Evening education; p < 0.05; p < 0.01
Temmuz.2013.115-124.
120
Students, who are enrolled to programs where the
language of instruction is in Turkish, perceive all five
dimensions of university preference criteria more
important in their decisions than students who are
enrolled to programs where the language of instruction is
in foreign language. When we examined independent
sample t test results for program preference criteria, we
found out that there is no significant difference for ‚Äúarea
of interest‚Äù criterion. However students who are enrolled
to programs where the language of instruction is in
foreign language found ‚Äúreputation of the department &
job opportunities‚Äù more important in their program choice
than students who are enrolled to programs where the
teaching medium is in Turkish (meanT=4.09,
meanFL=4.21 t=-2.01, p=0.00). On the other hand,
students in Turkish teaching programs found ‚Äúresearch
opportunities‚Äù and ‚Äúscore, family & friends‚Äù more
important in their program choice (meanT=3.76,
meanFL=3.61 t=2.50, p=0.00; meanT=3.51, meanFL=3.15
t=5.75, p=0.00 respectively).
When we compared the dimensions of preference
criteria by students‚Äô education type, we found that except
for the ‚Äúinternational recognition & research
opportunities‚Äù which is insignificant, students enrolled to
evening education finds all other dimensions of university
preference criteria more important in their university
choices. When we analyzed the independent sample t test
results for the program preference criteria by education
type, only significant result was ‚Äúscore, family & friends‚Äù
which was again more important for students enrolled to
evening education in program choice (meanR=3.37,
meanE=3.62 t=-5.11, p=0.00).
To test if the importance given to preference
criteria differed by students‚Äô academic unit and study
area, we planned to conduct one-way ANOVA analyses.
However, our data set did not meet the assumption of
homogenous variances; therefore, we performed a series
of Welch and Brown ‚Äì Forsythe tests.
Table 8. Results of Welch and Brown-Forsythe Tests: Comparisons by Academic Units
Means Test statistics
F S VS Welch Brown Forsythe p value n=1796 n=317 n=103
Social & Sports Activities 3.69 4.01 4.02 19.16 19.68 0.00
Family & Friends 3.40 3.51 3.85 21.50 20.18 0.00
Research Opportunities 3.72 3.46 3.89 7.45 7.47 0.00
Score, Family & Friends 3.39 3.39 3.86 28.67 26.09 0.00
F = Faculty, S = School, VS = Vocational School; p < 0.05; p < 0.01
Table 9. Results of Welch and Brown-Forsythe Tests: Comparisons by Study Areas
Means Test statistics
ED SC LN L TH VT E H S Welch Brown
Forsythe p value n=353 n=100 n=179 n=178 n=191 n=120 n=124 n=229 n=742
Social & Sports Activities 3.81 3.84 3.72 3.61 3.54 4.06 3.65 3.65 3.80 3.52 3.79 0.00
Reputation of the
University 4.38 4.28 4.29 4.30 4.42 4.20 4.01 4.17 4.37 3.49 3.56 0.00
Family & Friends 3.50 3.39 3.32 3.59 3.72 3.91 3.05 3.35 3.44 6.55 6.22 0.00
State University & Low
Tuition 4.42 4.38 4.41 4.28 4.18 4.42 4.19 4.33 4.42 2.10 2.51 0.00
Area of Interest 4.38 4.49 4.61 4.68 4.55 4.35 4.46 4.38 4.37 6.10 4.68 0.00
Research Opportunities 3.59 4.01 3.51 3.69 3.87 4.03 3.88 3.96 3.65 7.30 7.42 0.00
Score, Family & Friends 3.50 3.32 3.23 3.65 3.76 3.91 3.17 3.50 3.34 8.77 8.62 0.00
Reputation of the Dept. &
Job Opportunity 4.00 3.88 3.92 4.52 3.97 4.08 4.24 4.34 4.09 12.58 9.36 0.00
ED = Education, SC = Science, LN = Linguistics, L = Law, TH = Theology, VT = Vocational and Technical Education, E = Engineering,
H = Health Sciences, S = Social, Human and Administrative Sciences; p < 0.05; p < 0.01
As can be seen from Table 8, there are significant
differences in importance given to ‚Äúsocial & sport
activities‚Äù and ‚Äúfriends & family‚Äù by academic units.
Tamhane‚Äôs multiple comparison test revealed that
students enrolled to schools and vocational schools find
‚Äúsocial & sport activities‚Äù more important in their
university choices than students enrolled to faculties and
students enrolled to vocational schools find ‚Äúfriends &
family‚Äù more important in their university choices
compared to students enrolled to faculties and schools
(meanF=3.69, meanS=4.01, meanVS=4.02, Welch
test=19.16, Brown-Forsythe test= 19.68, p=0.00;
meanF=3.40, meanS=3.51, meanVS=3.85, Welch
test=21.50, Brown-Forsythe test= 20.18, p=0.00
respectively). In program preference ‚Äúresearch
opportunities‚Äù is not as much important to students
enrolled to schools as students enrolled to faculties and
vocational schools and ‚Äúscore, family & friends‚Äù is a
more important criterion for students enrolled to
vocational schools (meanF=3.72, meanS=3.46,
Mustafa ‚Äì E.Serra YURTKORU
121
meanVS=3.89, Welch test=7.45, Brown-Forsythe test=
7.47, p=0.00; meanF=3.39, meanS=3.39, meanVS=3.86,
Welch test=28.67, Brown-Forsythe test= 26.09, p=0.00
respectively). The other dimensions were not statistically
significant.
When we conducted Welch and Brown-Forsythe
tests to analyze the differences in importance given to
preference criteria by students in various study areas we
found that except for ‚Äúinternational recognition &
research opportunities‚Äù all dimensions were significant
(See Table 9). To find out where the differences come
from Tamhane‚Äôs multiple comparison tests were applied.
The results indicated ‚ÄúSocial & Sports Activities‚Äù is more
important for Vocational and Technical Education than
Theology and Law (meanVT=4.06, meanTH=3.54,
meanL=3.61, Welch test=3.52, Brown-Forsythe test=
3.79, p=0.00); ‚ÄúReputation of the University‚Äù is more
important for Theology, Education and Social, Human
and Administrative Sciences than Engineering
(meanTH=4.42, meanED=4.38, meanS=4.37, meanE=4.01,
Welch test=3.49, Brown-Forsythe test= 3.56, p=0.00);
‚ÄúFamily & Friends‚Äù is more important for Vocational and
Technical Education than Education, Science, Linguistics,
Health Sciences, Social, Human and Administrative
Sciences and Engineering and less important for
Engineering than Education, Law, Theology, Social,
Human and Administrative Sciences and Vocational and
Technical Education (meanVT=3.91, meanED=3.50,
meanSC=3.39, meanLN=3.59, meanHS=3.39, meanH=3.35,
meanE=3.05; meanL=3.59, meanTH=3.72, Welch
test=6.55, Brown-Forsythe test= 6.22, p=0.00).
‚ÄúState University & Low Tuition‚Äù is significant yet
multiple comparison tests could not reveal from which
groups these difference came from.
When dimensions for program preferences were
analyzed it is found that ‚Äúarea of interest‚Äù is a more
important criterion for Law students than Vocational and
Technical Education, Social, Human and Administrative
Sciences, Health Sciences, and Education students and
again ‚Äúarea of interest‚Äù is a more important criterion for
Linguistics students than students of Social, Human and
Administrative Sciences (meanL=4.68, meanVT=4.35,
meanS=4.37, meanH=4.38, meanE=4.38, Welch test=6.10,
Brown-Forsythe test= 6.68, p=0.00).
‚ÄúResearch Opportunities‚Äù is equally important for
Vocational and Technical Education, Science and Health
Sciences and students of these three study areas find
‚ÄúResearch Opportunities‚Äù more important than Social,
Human and Administrative Sciences, Education, and
Linguistics students, linguistic students finding the
dimension least important ( meanVT=4.03, meanSC=4.01;
meanH=3.96, meanS=3.65, meanLN=3.51, Welch
test=7.30, Brown-Forsythe test= 7.42, p=0.00).
‚ÄúScore, Family & Friends‚Äù is perceived equally by
Vocational and Technical Education, Theology, and Law
and has more importance than students of study areas
Engineering, Linguistics, Science and Social, Human and
Administrative Sciences. The last four also perceives the
importance of this dimension equally (meanVT=3.91,
meanTH=3.76; meanL=3.65, meanE=3.17 meanLN=3.23,
meanSC=3.32, meanS=3.34, Welch test=8.77, BrownForsythe test= 8.62, p=0.00).
The last dimension, ‚ÄúReputation of the Department
& Job Opportunities‚Äù is more important for Law, Health
Sciences and Engineering and less important for Science,
Linguistic, and Theology (meanL=4.52, meanH=4.34;
meanE=4.24, meanSC=3.88 meanLN=3.92, meanTH=3.97,
Welch test=12.58, Brown-Forsythe test= 9.36, p=0.00).
The summary of all the statistical analyses can be
found in Table 10.
Table 10: Summary of the Statistical Analyses: Key Determinants of University and Program Choice of Students
Gender Language of
Instruction
Education
Type
Academic
Unit Study Area
Dimensions of University Preference Criteria
Social & Sports Activities n.s. T > FL II > I S =VS > F VT > L = TH
International Recognition
& Research
Opportunities
n.s. T > FL n.s. n.s. n.s.
Reputation of the
University n.s. T > FL II > I n.s. TH = ED = S > E
Family & Friends n.s. T > FL II > I VS > F = S VT > E = LN = H = SC, ED, S
State University & Low
Tuition n.s. T > FL II > I n.s. E < ED = L= TH =S, VT
Dimensions of Program Preference Criteria
Area of Interest n.s. n.s. n.s. n.s. L > VT = S = H = ED; LN > S
Research Opportunities n.s. T > FL n.s. VS > F > S VT = SC = H > S = ED = LN
Score, Family & Friends n.s. T > FL II > I VS > F = S VT = H = L > E = LN = SC = S
Reputation of the Dept. &
Job Opportunities n.s. FL > T n.s. n.s. L = H = E > SC = LN = TH
T = Turkish, FL = Foreign Language; I = Regular education, II = Evening education; F = Faculty, S = School, VS = Vocational School;
ED = Education, SC = Science, LN = Linguistics, L = Law, TH = Theology, VT = Vocational and Technical Education, E = Engineering, H = Health
Sciences, S = Social, Human and Administrative Sciences; n.s. = statistically not significant
Temmuz.2013.115-124.
122
IV. CONCLUSION AND DISCUSSION
This research was conducted to investigate
selection criteria students use to evaluate higher education
institutions. Therefore two instruments, university
preference criteria questionnaire, and program preference
criteria questionnaire were developed. As a result of the
analyses, five dimension university preference criteria
questionnaire, and four dimension program preference
criteria questionnaire were found out to be both reliable,
and valid. Dimensions of the university preference criteria
were named as ‚ÄúSocial & Sports Activities,‚Äù
‚ÄúInternational Recognition & Research Opportunities,‚Äù
‚ÄúReputation of the University,‚Äù ‚ÄúFamily & Friends,‚Äù
‚ÄúState University & Low Tuition,‚Äù and dimensions of the
program preference criteria were named as ‚ÄúArea of
Interest,‚Äù ‚ÄúResearch Opportunities,‚Äù ‚ÄúScore, Family &
Friends,‚Äù and ‚ÄúReputation of the Department & Job
Opportunities.‚Äù These factors were in line with the
previous education literature. However so far the program
selection is not analyzed separately, but as a part of the
university preference criteria. Therefore, in this study
reputation and the research opportunities of the university,
and the program are found as distinct dimensions. In
foreign countries, ‚Äúfamily legacy‚Äù is another selection
criterion [9] yet in our study, this item was deleted. This
may be an indication that there is no tradition of selecting
the same university as family members in Turkey since
similar result was found in Yurtkoru and 
research as well [16]. It was interesting to note, despite
the fact ‚Äúgeographic location‚Äù is one of the key criteria in
international studies [3,4,8,9] and ‚Äúplace & convenience‚Äù
was one of the dimensions of university preference
criteria in Turkey [15,16] in this study no dimension
related to location was found. This may be parallel to
another survey finding where only 5% of students said
convenience of the campus was an important factor [27].
When ratings given to criteria were compared, it
was found that ‚ÄúState University & Low Tuition‚Äù was the
most important criteria used by the students and the least
used criterion was the influence of ‚ÄúFamily & Friends‚Äù in
selecting a university. Cost and tuition being an important
criterion is again parallel finding with literature [8].A
study conducted on private universities in Izmir, Turkey
to determine the order of preference on group of specified
criteria, also indicated cost was the most important
selection measure [28]. Consequently, we can say cost
and low tuition fees is not an important factor for private
universities alone but also the most important reason why
a state university is chosen. This criterion was followed
by ‚ÄúReputation of the University.‚Äù ‚ÄúSocial & Sports
Activities‚Äù which is a dimension higher education
institutions, especially the private ones, like to express in
their promotions was not found to be an important
criterion.
When the program preference criteria were
investigated, it was found that ‚ÄúArea of Interest‚Äù was the
most important criteria used by the students and the least
used criteria for program preference was found as ‚ÄúScore,
Family and Friends.‚Äù Undergraduate non-completion has
been attributed to poor decisions on institutional choice
[1] therefore, it is pleasing to see the one of the most
influential criteria was students‚Äô area of interest. Students
stating that they make their own decisions and they are
not affected by third parties are again an affirmative
finding for the higher education instructions. Yet surveys
suggest that students are badly informed about programs
they apply [1] and it is likely that potential students base
their evaluation on a limited number of key criteria as
opposed to looking at whole university offerings [5]; and
decisions made by poor information may lead to ‚Äúworst
fit‚Äù instead of ‚Äúbest fit‚Äù to students‚Äô interests and
ambitions. University entrance exams‚Äô score was a part of
the ‚ÄúScore, Family and Friends‚Äù dimension, hence was
not considered an important factor by the students. Yet
this finding was contradictory to a survey conducted by
one of the major newspapers in Turkey on 1532
university students [27]. The survey results indicated that
50% of the students made their selections only because
their score was enough to enroll to that higher education.
This difference may be due to the fact that in one study
university preference was asked and in the other the
program preference. Students may be more selective on
their program of study and not as much on the higher
education institution.
We further analyzed differences in criteria used by
the students with respect to their study areas, academic
units, education type, language of instruction and genders.
Contrary to expectation no significant differences found
according to gender however, there were significant
differences in all other variables.
Interestingly students, who were enrolled to
programs where the language of instruction was in foreign
language found ‚ÄúReputation of the Department & Job
Opportunities‚Äù more important in their choice than
students who were enrolled to programs where the
language of instruction in Turkish. In all other
dimensions, except ‚ÄúArea of Interest‚Äù which was not
significant, students in Turkish medium programs
perceived all criteria more important in their decisions.
Since companies consider being a graduate from a
university or program where teaching medium is in a
foreign language as a desired quality, students ambitious
in job opportunities in multinational companies may use
this criterion more than others.
When we compared the dimensions of preference
criteria by students‚Äô education type, we found that except
for the ‚ÄúInternational Recognition & Research
Opportunities‚Äù which is insignificant, students enrolled to
evening education finds all other dimensions of university
preference criteria more important in their university
choices. It appears that students need to evaluate criteria
more deeply in selecting a university with an evening
Mustafa ‚Äì E.Serra YURTKORU
123
education. When we analyzed the program preference
criteria by education type, only significant result was
‚ÄúScore, Family & Friends‚Äù which was again more
important for students enrolled to evening education in
program choice. If a student is not working in daytime,
choosing an evening education program where the
tuitions are higher may be due to university entrance
exam score as students are replaced to these programs
with lower scores than regular programs.
There were also significant differences in
importance given to ‚ÄúSocial & Sport Activities‚Äù and
‚ÄúFriends & Family‚Äù in university preference criteria by
academic units. Results revealed that students enrolled to
schools and vocational schools gives ‚ÄúSocial & Sport
Activities‚Äù more importance and students enrolled to
vocational schools gives ‚ÄúFriends & Family‚Äù more
importance in their university choices. In program
preference, ‚ÄúResearch Opportunities‚Äù was not as much
important to students enrolled to schools as students
enrolled to faculties and vocational schools and ‚ÄúScore,
Family & Friends‚Äù was a more important criterion for
students enrolled to vocational schools.
When we performed analyses to test the
differences in importance given to preference criteria by
students in various study areas we found that except for
‚ÄúInternational Recognition & Research Opportunities‚Äù all
dimensions were significant. The results indicated
‚ÄúReputation of the University‚Äù was more important for
students enrolled to study areas; Theology, Education and
Social, Human and Administrative Sciences than
Engineering and ‚ÄúFamily & Friends‚Äù was more important
for students enrolled to Vocational and Technical
Education. When dimensions for program preferences
were analyzed, it is found that ‚ÄúArea of Interest‚Äù was a
more important criterion for Law and Linguistics
students. ‚ÄúResearch Opportunities‚Äù was equally important
for Vocational and Technical Education, Science and
Health Sciences and students of these 3 study areas found
‚ÄúResearch Opportunities‚Äù more important. ‚ÄúScore, Family
& Friends‚Äù was perceived equally by Vocational and
Technical Education, Theology, and Law and had more
importance than students of study areas Engineering,
Linguistics, Science and Social, Human and
Administrative Sciences. The last dimension, ‚ÄúReputation
of the Department & Job Opportunities‚Äù was more
important for Law, Health Sciences, and Engineering and
less important for Science, Linguistic, and Theology
students. These preference criteria may be helpful for
universities while they publicize information to
candidates. Particularly the differences in study areas may
be important in customizing the promotions for different
areas instead of using similar materials for the overall
university.
Finally, our sample size was adequate, but research
was conducted only in one state university, which limits
generalizability of findings. Repeating the study in
different universities and in private universities as well
may give more insights about the students‚Äô preference
criteria and would facilitate the generalization of our
results. In addition, this study only considered new
admission students. Therefore, even though we obtained
information about preference criteria, we know neither
these criteria led students to be placed to programs that fit
to their ideals, nor enrolled students fit to programs‚Äô
required qualifications.
REFERENCES
[1]. Briggs, S. & Wilson, A. (2007). Which university? A study
of the influence of cost and information factors on Scottish
undergraduate choice, Journal of Higher Education Policy
and Management, 29(1), 57-72.
[2]. Daily, C. M., Farewell, S. & Kumar, G. (2010).
FactorsInfluencing the University Selection of International
Students, Academy of Educational Leadership Journal,
14(3), 59-75.
[3]. Hagel, P. & Shaw, R. (2008). The Influence of Delivery
Mode on Consumer Choice of University, European
Advances in Consumer Research, 8, 531-536.
[4]. Vaughn, R., Pitlik J. & Hansotia, B. (1978). Understanding
University Choice: A Multi-Attribute Approach, Advances
in Consumer Research, 5(1), 26-31.
[5]. Abubakar, B., Shanka, T. & Muuka, G. N. (2010). Tertiary
education: an investigation of location selection criteria and
preferences by international students ‚Äì The case of two
Australian universities, Journal of Marketing for Higher
Education, 20(1), 49-68.
[6]. Binsardi, A., & Ekwulugo, F. (2003). International
marketing of British education research on the students‚Äô
perception and the UK market penetration. Marketing
Intelligence and Planning, 21(5), 318‚Äì327.
[7]. Patton, H.L. (2000). How administrators can influence
student university selection criteria. Higher Education in
Europe, 15(3), 345-350.
[8]. Montgomery, M. (2002). A nested logit model of the
choice of a graduate business school, Economics of
Education Review, 21, 471-480.
[9]. Yugo, J .E. & Reeve, C. L. (2007). Understanding
Students‚Äô University Educational Image and Its Role in
College Choice, Psi Chi Journal of Undergraduate
Research, 12(1), 9-17.
[10].OSYM Statistics (2001). Retrieved June 12, 2012 from
http://www.osym.gov.tr/dosya/1-43008/h/1ogrencisayilari
ozettablopdf.pdf
[11].OSYM Statistics (2011). Retrieved June 12, 2012 from
http://osym.gov.tr/belge/1-12654/2010-2011-ogretim-yili
-yuksekogretim-istatistikleri.html.

124
[14].Higher Education Council Student Selection and Placement
Center (oSYM). (2006). Selection and placement of
students in higher education institutions in Turkey.
Retrieved Feb 11, 2011 from http://www.osym.gov.tr/
dosya/1-56877/h/aboutosym.pdf.
. Proceedings of
International Higher Education Congress: New Trends and
Issues, Istanbul, Turkey.
[16].Yurtkoru, E.S. & M. (2011). University
Preference Criteria. Proceedings of New Developments in
Theory and Applications of Statistics: An International
Conference in Memory of Professor Moti Lal Tiku, Ankara,
Turkey. 78-85.
[17].Lattin, J., Carroll, J.D. & Green, E.P. (2003). Analyzing
Multivariate Data, Pasific Grove, CA: Brooks/Cole
Thomson Learning.
[18].Hair Jr., F.J., Black, C.W., Babin, J.B. & Anderson, E.R.
(2010). Multivariate Data Analysis 7th Ed., Upper Saddle
River, NJ: Prentice Hall Inc.
[19].Sharma, S. (1996). Applied Multivariate Statistical
Analysis, New York, NY: John Wiley and Sons, Inc.
[20].Netemeyer, R.G., Bearden, W.O. & Sharma, S. (2003).
Scaling Procedures: Issues and Applications, Thousand
Oaks, CA: Sage Publication.
[21].Nunnally, J. (1978). Psychometric theory 2nd Ed., New
York, NY: McGraw-Hill. cited in DeVellis, F.R. (2003).
Scale Development: Theory and Applications, Thousand
Oaks, CA: Sage Publication.
[22].DeVellis, F.R. (2003). Scale Development: Theory and
Applications, Thousand Oaks, CA: Sage Publication.
[23].Hoyle, R.H. (1995). Structural Equation Modeling:
Concepts, Issues, and Applications, Thousand Oaks, CA:
Sage Publication.
[24].Bagozzi R.P. & Yi, Y. (1988) On the Evaluation of
Structural Equation Models, Journal of the Academy of
Marketing Science, 16(1), 74-94.
[25].Fornell, C. & Larcker, F.D. (1981). Evaluating Structural
Equation Models with Unobservable Variables and
Measurement Error, Journal of Marketing Research, 18,
39-50.
[26].Anderson, J.C. & Gerbing, D.W. (1988). Structural
equation Modeling in Practice: A Review and
Recommended Two-Step Approach, Psychological
Bulletin, 103, 411-423.
[27].hurriyetegitim.com (2011). universite Memnuniyet Anketi.
Retrieved June 12, 2012 from http://www.hurriyet
egitim.com/ haberler/01.03.2011/universite-tercihinde-enonemli-kriter-puan.aspx
[28].ozguven, N. (2011). Vakif universitesi tercihinin analitik
hiyerarsi sureci ile belirlenmesi. Dumlupinar universitesi
Sosyal Bilimler Dergisi. 30, 279-290.
Mustafa 
agaoglu@marmara.edu.tr
He has a Ph.D. in Informatics at Marmara University. He
is an Assistant Professor of Computer Science
Engineering at Marmara University. His research areas
are databases, data mining, optimization, and higher
education.
E. Serra YURTKORU
syurtkoru@marmara.edu.tr
She has a Ph.D. of Business Administration at Marmara
University. She is an Associate Professor of Quantitative
Methods at Marmara University. Her research areas are
multivariate statistics, datamining, leadership, consumer
behavior, and higher education.
INTRODUCTION
Technological developments have caused major changes in the music industry where
the music media is transforming from physical records to streaming digital. Debate is going on
about the future of the industry; especially about the issues on intellectual property rights since
technological advancements gives many opportunities to pirating and free P2P file sharing.
Within this context, this study aims to investigate music experience in Turkey. First, music
consumption profile will be investigated, then three models will be discussed to explain
physical record purchase, digital music purchase and illegal downloading intentions.
According to the latest IFPI Global Music Report (2016); after 20 years of decline,
consumption of music is exploding and there is a measurable growth in music revenue globally.
This change has started to take place in 2015 when for the first time digital revenues (45%)
overtook income from physical formats. Streaming is the industry‚Äôs fastest-growing revenue
source, and in the US alone streamed music has doubled within one-year time from 164.5
billion songs in 2014 to 317.2 billion songs in 2015 (Nielsen Music Report, 2016). However,
downloads remain significant, accounting for just 20% of global industry revenues and full
album downloads being the major part of it. Revenues from physical formats declined
statistically yet 39% of overall global income still comes from the physical recording sales (IFPI
Global Music Report, 2016).
Figure 1. Theoretical Model
Understanding purchase behavior and the underlying concepts that increases the
intention to purchase will help the music industry to develop market strategies and improve
their revenues. In the literature there are many studies concerning the piracy and free
download/sharing intentions, however purchase intention is not covered except in a few papers.
Music purchase covers buying physical format records in forms of CD and DVD, downloading
music from digital stores, and streaming music from service providers subscribed. In this study,
purchase intention for CD/DVD and purchase intention for digital music, where downloading
and streaming are taken together, will be covered.
To explain the factors effecting these two purchase intentions, a research model is
developed based on Chu and Lu (2007), Shoham, Ruvio, and Davidow (2008), and Styven
(2010). The theoretical model can be seen in Figure 1.
M., Yurtkoru, E.S., sahin, Y. Yonetim Bilisim Sistemleri Dergisi, Cilt:1, Sayi:3
171
Ethical Behavior
Ethical behavior has three dimensions; moral equity, relativism, and contractualism.
Moral equity measures the notion of justice, it examines the right and wrong, and represents a
universal ethics construct, and is the main evaluative criterion for ethical judgement
(Reidenbach et al., 1991). Relativism is concerned with the beliefs about what is culturally and
traditionally acceptable and unacceptable in a social system (Reidenbach and Robin, 1990).
Reisenbach argues that individuals set their own moral standards based on their culture.
Contractualism measures the notion of implied obligation, contracts, duties, and rules, and
therefore is applicable to managerial decision making situations. For this reason, it is not
included in this model.
Studies found empirical support for the negative impacts of both the moral equity and
relativism on attitude towards illegal music related behaviors like piracy and illegal music CD
purchase (Shoham et al., 2008, Arli Tjiptono Porto 2015). Hence we hypothesize:
H1a: the more the individuals think illegal downloading is unfair/unjust (moral equity)
the more will be their intention to purchase music.
H1b: the more individuals think illegal downloading is not accepted by their friends and
the society (relativism) the more will be their intention to purchase music.
Product Involvement
As discussed earlier, even though there is a decline in the sales of physical format
recorded music, CD/DVD sales still account for the 39% of the worldwide revenue. Therefore,
it is very probable that physical recordings will stay in the market for a good while. North and
Oishi (2006) and Styven (2010) empirically supported the positive effect of music involvement
on preference for physical recordings. However, Styven also found positive effect of music
involvement on MP3 player. Therefore, product involvement can be positively correlated with
all formats of music. Hence, we include product (music of any forms) involvement in our model
and hypothesize:
H2: the more the individuals are involved with music the more will be their intention to
purchase music of all types.
Attitude Towards Downloading
According to the theory of planned behavior, attitude towards an act is the major cause
of behavioral intention (Ajzen, 1991, 2005) Studies have found support for positive impact of
attitude on digital piracy (Arli, Tjiptono and Porto, 2015) Since our model is based on
explaining purchase intention we hypothesize:
H3a: attitude towards illegal download will have a negative impact on purchase
intention
H3b: attitude towards legal download will have a positive impact on purchase intention.
Perceived Sacrifice
Perceived sacrifice is described as individual feeling for paying or giving something up
(Dodds, 1999). Consumers take into account both monetary and non-monetary costs when they
are making decisions about online music purchase. Price is also an important key measure to
represent money to be paid to obtain a product. Since individuals rarely remember actual
product, perceived rather than actual prices should be measured. However, there are also nonmonetary costs related to consumer behavior such as physical or psychological efforts to
sacrifice. In this context, perceived ease of use stands for these type of non-monetary costs. We
hypothesize;
H4a: As the individuals perceive price less, intention to purchase music will increase.
M., Yurtkoru, E.S., sahin, Y. Yonetim Bilisim Sistemleri Dergisi, Cilt:1, Sayi:3
172
H4b: As the individuals perceive ease of use more, intention to purchase music will
increase.
Perceived Benefit
Following Chu and Lu (2007) model, perceived benefit is included in the model as one
of the independent variable. Perceived benefit is measured with two underlying dimensions:
perceived usefulness and perceived playfulness. Perceived usefulness is the degree to which the
consumer believes that listening to music in the related format would fulfill him/her (Chu and
Lu, 2006). Perceived playfulness, on the other hand, is the degree to which the consumer
believes that listening to music in the related format would give enjoyment to him/her (Chu and
Lu, 2006). Therefore, we can say perceived usefulness is related with utilitarian side and
perceived playfulness is related with the hedonic side of the perceived benefit. Hence we
hypothesize;
H5a: As the individuals perceive usefulness more, intention to purchase music will
increase.
H5b: As the individuals perceive playfulness more, intention to purchase music will
increase.
METHOD
Measures and Research Instrument
A multi-item questionnaire is used in this study. Purchase intention is measured for both
the physical music medium (CD/DVD) and the digital music with three items each. Items are
adopted from Dodds et al., (1991). Illegal download is measured by two items developed by the
authors. Ethical behavior is measured by the Ethical Behavior Rating Scale (EBRS) developed
and validated by Reidenbach and Robin (1990) and Reidenbach et al., (1991). Originally, the
scale has three dimensions, however the contractualism dimension is not relevant for this study,
therefore the other two dimensions, which are moral equity and relativism, are used. Product
involvement is measured by the scale developed by North and Oishi (2006). Attitude towards
downloading music is measured on two dimensions: illegal download attitude and legal
download attitude developed by the authors based on the literature. Perceived sacrifice, which is
composed of two dimensions (perceived price and perceived ease of use) is measured. Perceived
price questionnaire is based on Sweeney et al., (1997) and Tam (2004) and perceived ease of
use is based on Davis (1989) and van der Heijden (2004) and questions in this questionnaire are
measured for digital music and for illegal download separately. Perceived price is measured for
both CD/DVD and digital music. Perceived benefit, which is composed of two dimensions
(perceived usefulness and perceived playfulness) is measured. Perceived usefulness is based on
Davis (1989) and van der Heijden (2004) for CD/DVD and digital music. Perceived playfulness
is adapted from van der Heijden (2004) for CD/DVD and digital music. All the items are
measured on a five-point interval scale, except the ethical behavior rating scale (EBRS) items,
which are measured on seven-point interval. Apart from this multi-item questions, respondents‚Äô
monthly music expense, usage frequency of different music platforms and size of music archive
are asked. In addition, demographic variables as gender, age, employment status and income are
asked.
Sampling and Data Collection
Questionnaire is distributed to 300 randomly chosen individuals from Istanbul and 255
usable questionnaires returned with 85.0% return rate. The sample consists of 89 females
(34.9%) and 166 males (65.1%). 60.8% of the respondents are students whereas 39.2% are
working. As can be seen from Table 1, sample is quite young since 65.9% of the respondents
are below 26 years old.
M., Yurtkoru, E.S., sahin, Y. Yonetim Bilisim Sistemleri Dergisi, Cilt:1, Sayi:3
173
Table 1. Profile of respondents
Demographics Categories Frequency Percent (%)
Gender Female 89 34.9
Male 166 65.1
Total 255 100.0
Age 18-21 71 27.9
22-25 97 38.0
26+ 87 34.1
Total 255 100.0
Employment status Student 155 60.8
Working 100 39.2
Total 255 100.0
Income Low income 117 45.9
Medium income 85 33.3
High income 53 20.8
Total 255 100
RESULTS
To get insight about the respondents‚Äô music consumption profile; first, frequency
distribution of the three questions: monthly music expense, size of music archive and usage
frequency of different music platforms are analyzed. As can be seen from Table 2, 66% of the
respondents stated that they do not spend money for music, and only 11% of the respondents
have monthly expense more than 25 TL. However, majority of the respondents have a music
archive in their computers (See Table 3.).
Table 2. Monthly music expense
Categories (TL) Frequency Percent (%)
None 168 65.9
1-25 60 23.5
25+ 27 10.6
Total 255 100.0
Table 3. Music archive in computer
Categories Frequency Percent (%)
None 66 25.9
0-100 45 17.6
100-250 39 15.3
250-500 39 15.3
500-1000 30 11.8
1000+ 36 14.1
Total 255 100.0
According to Table 4, usage frequencies of different music platforms indicate that
digital music is preferred mainly by the respondents (M=3.97) which is followed by download
(M=3.22). Radio is the third most preferred music platform (M=3.02). MP3 players have started
to lose their attractiveness since their mean value is below average (M=2.57). The least and
almost not preferred two platforms are CD/DVDs and Records (M=1.84 and M=1.32,
respectively).
Table 4. Usage frequency of different music platforms
Music platforms N Minimum Maximum Mean Std. Deviation
CD/DVD 255 1 6 1.84 1.13
MP3 player 255 1 6 2.57 1.56
Download 255 1 6 3.22 1.53
Stream 255 1 6 3.97 1.46
Radio 255 1 6 3.02 1.51
TV 255 1 6 2.29 1.16
Record 255 1 6 1.32 0.90
1=Never, 6=Almost all day long
M., Yurtkoru, E.S., sahin, Y. Yonetim Bilisim Sistemleri Dergisi, Cilt:1, Sayi:3
174
Before starting the main analyses, reliability of the scales are tested and the results are
given in Table 5. As can be seen from the table, all the scales are found reliable with Cronbach‚Äôs
alpha values above 0.70 threshold value.
Table 5. Reliability of the scales used
Scales Item number Reliability
Ethical Behavior
Moral equity 3 0.76
Relativism 2 0.83
Perceived Benefit
Perceived usefulness Digital 4 0.74
Perceived usefulness CD/DVD 5 0.78
Perceived playfulness Digital 4 0.77
Perceived playfulness CD/DVD 4 0.87
Perceived Sacrifice
Perceived price: Digital 4 0.80
Perceived price: CD/DVD 4 0.85
Perceived ease of use: Digital 4 0.80
Perceived ease of use: Illegal download 2 0.79
Attitude
Illegal download Digital 2 0.77
Legal download Digital 2 0.76
Product Involvement 6 0.92
Intention
Purchase intention: Digital 3 0.74
Purchase intention: CD/DVD 3 0.78
Illegal download intention 2 0.80
The descriptive results of the scales are given in Table 6. Ethical behavior scales are
measured reversely. Moral equity dimension measures how just/fair is free (illegal) download.
In the question the word illegal was not used on purpose, but the respondents were asked about
their opinions on free download. Minimum 1 means respondents‚Äô opinion is unfair or unjust,
and maximum 7 means their opinion is fair or just. Similarly, relativism measures if free
download is an acceptable act by friends and also by the society, 1 meaning unacceptable and 7
meaning acceptable. Therefore, moral equity result (M=3.98) indicates personally the
individuals think the act of free downloading as not just or fair. However, the relativism score
(M=5.38) indicates that respondents think act of free downloading is quite acceptable by their
friends and the Turkish society.
Perceived usefulness and perceived ease of use of digital music variables have the
highest mean scores (M=4.04 and M=3.91, respectively). Perceived playfulness of digital music
results are similarly high (M=3.72). Since the most preferred music platforms are digital music
streaming and download, these findings are logical. Unfortunately, attitude towards illegal
download and perceived ease of use for illegal download dimensions also have relatively high
means (M=3.74 and M=3.66). Lowest mean scores belong to purchase intention dimensions for
both CD/DVD and digital music and likewise legal download (M=2.16, M=2.24, and M=2.86).
M., Yurtkoru, E.S., sahin, Y. Yonetim Bilisim Sistemleri Dergisi, Cilt:1, Sayi:3
175
Table 6. Descriptive statistics of the scales used
Scales N Minimum Maximum Mean Std. Deviation
Ethical Behavior
Moral equity 255 1 7 3.98 1.56
Relativism 255 1 7 5.38 1.72
Perceived Benefit
Perceived usefulness Digital 255 2 5 4.04 0.75
Perceived usefulness CD/DVD 255 1 5 3.01 0.96
Perceived playfulness Digital 255 2 5 3.72 0.81
Perceived playfulness CD/DVD 255 1 5 2.84 1.03
Perceived Sacrifice
Perceived price: Digital 255 1 5 3.34 0.99
Perceived price: CD/DVD 255 1 5 3.32 1.07
Perceived ease of use: Digital 255 1 5 3.91 0.89
Perceived ease of use: Illegal download 255 1 5 3.66 1.16
Attitude
Illegal download Digital 255 1 5 3.74 1.07
Legal download Digital 255 1 5 2.86 1.27
Product Involvement 255 1 5 3.60 1.04
Intention
Purchase intention: Digital 255 1 5 2.24 1.02
Purchase intention: CD/DVD 255 1 5 2.16 1.05
Illegal download intention 255 1 5 3.12 1.34
To analyze further, independent samples t-tests and one-way ANOVA tests are
conducted to the dimensions with demographic variables. First, to find if dimensions differ by
gender, series of analyses are performed (See Table 7). As can be seen males have higher moral
equity values indicating that they find illegal downloading more fair/just compared to females
(M=3.71, M=4.12, t(253)=-2.02). In line with this finding, attitude toward illegal download of
males is more positive compared to females attitude (M=3.85, M=3.53, t(253)=-2.29).
Perceived usefulness and playfulness of CD/DVD have significant differences as well. In both
dimensions, females‚Äô perceptions are higher than males‚Äô (M=3.38, M=2.81, t(253)=4.75,
M=3.14, M=2.68, t(253)=3.49). Purchase intention to digital music and CD/DVD are higher in
female respondents than male respondents (M=2.46, M=2.12, t(253)=2.57, M=2.39, M=2.04,
t(253)=2,54). Also females‚Äô product involvement scores are higher than males‚Äô scores (M=3.90,
M=3.43, t(253)=3.53). No significant differences are found in relativism, perceived ease of use
of digital music and illegal download, illegal download intention, perceived price CD/DVD and
digital music, perceived usefulness, and playfulness of digital music and legal download.
Table 7. Independent samples t-test results: gender
Variables Groups N Mean Std. dev. t value p value
Moral equity Female 89 3.72 1.52
-2.02 0.045* Male 166 4.13 1.57
Illegal download Female 89 3.53 1.04
-2.29 0.023* Male 166 3.85 1.07
Perceived usefulness CD/DVD Female 89 3.38 0.92 4.75 0.000** Male 166 2.81 0.91
Perceived playfulness CD/DVD Female 89 3.14 1.04 3.49 0.001** Male 166 2.68 0.99
Purchase intention Digital Female 89 2.46 0.97 2.57 0.011* Male 166 2.12 1.03
Purchase intention CD/DVD Female 89 2.39 1.09 2.54 0.012* Male 166 2.04 1.02
Product Involvement Female 89 3.90 0.94 3.53 0.000**
Male 166 3.43 1.05
* p < 0.05, ** p < 0.01
Since the sample consisted of both students and working people, to test if there are
differences between the two groups‚Äô responses to the dimensions, again a series of independent
samples t-tests are conducted (See Table 8). All the dimensions, except moral equity, digital
M., Yurtkoru, E.S., sahin, Y. Yonetim Bilisim Sistemleri Dergisi, Cilt:1, Sayi:3
176
music purchase intention, and product involvement, are significant. Relativism, the perception
that illegal music download is accepted by friends and Turkish society, is higher in students
(M= 5.59, M=5.05, t(253)=2.45). Positive attitude towards illegal download, perceived ease of
use of illegal download and illegal download means of the students are higher compared to
working individuals (M=4.04, M=3.29, t(180.82)= 5.56, M=3.97, M=3.17, t(173.39)=5.49 and
M=3.36, M=2.75, t(253) =3.63).
Legal download and perceived usefulness and playfulness of CD/DVD, and CD/DVD
purchase intention are higher in working individuals. (M=2.66, M=3.16, t(253)=-3.12, M=2.81,
M=3.32, t(253)=-4.31, M=2.63, M=3.18, t(253)=-4.22 and M=1.97, M=2.45, t(184.14)=-3.52).
On the other hand, perceived usefulness and playfulness of digital music are higher in the
student group (M=4.23, M=3.74, t(173.05)=5.14 and M=3.94, M=3.37, t(253)=5.29). Perceived
price of music is high in student group than working group (M=3.63, M=2.88, t(253)=6.34 and
M=3.02, M=3.37, t(253)=3.61).
To test if there are differences in dimensions with regard to age groups, one-way
ANOVA tests are applied. As can be seen from Table 9, all dimensions except moral equity and
digital music purchase intention are significantly different. To find out from which groups these
differences come from Scheffe post hoc tests are applied. 26 years old and higher are less
willing to download illegally yet intent to purchase products more (M=3.44, M=3.23 > M=2.74,
and M=1.98, M=1.98 < M=2.51). Perceived ease of use, usefulness and playfulness of digital
music is higher in the younger generation compared to 26 years old and higher (M=4.20,
M=4.13 > M=3.44; M=4.27, M=4.23 > M=3.65; M=4.01, M=3.90 > M=3.28). Perceived price
scores for both forms are less again in the 26 years old and higher group (M=3.58, M=3.60 <
M=2.85; M=3.46, M=3.55 < M=2.95).
Table 8. Independent samples t-test results: employment status
Variables Groups N Mean Std. dev. t value p value
Relativism Student 155 5.59 1.66 2.44 0.015 Working 100 5.06 1.76
Illegal download Student 155 4.04 0.92 5.56 0.000 Working 100 3.29 1.13
Perceived ease of use Illegal
download
Student 155 3.97 0.97 5.49 0.000 Working 100 3.17 1.25
Illegal download intention Student 155 3.36 1.31 3.63 0.000 Working 100 2.75 1.31
Legal download Student 155 2.66 1.25
-3.12 0.002 Working 100 3.16 1.24
Perceived usefulness Digital Student 155 4.24 0.63 5.13 0.000 Working 100 3.75 0.81
Perceived usefulness CD/DVD Student 155 2.81 0.98
-4.31 0.000 Working 100 3.32 0.82
Perceived playfulness Digital Student 155 3.94 0.71 5.83 0.000 Working 100 3.37 0.84
Perceived playfulness CD/DVD Student 155 2.63 1.01
-4.22 0.000 Working 100 3.17 0.98
Perceived price Digital Student 155 3.63 0.95 6.34 0.000 Working 100 2.88 0.88
Perceived price CD/DVD Student 155 3.51 1.07 3.61 0.000 Working 100 3.03 0.99
Perceived ease of use Digital Student 155 4.15 0.75 5.20 0.000 Working 100 3.55 0.98
Purchase intention CD/DVD Student 155 1.97 0.95
-3.52 0.001 Working 100 2.45 1.14
* p < 0.05, ** p < 0.01
M., Yurtkoru, E.S., sahin, Y. Yonetim Bilisim Sistemleri Dergisi, Cilt:1, Sayi:3
177
After investigating the profile of our sample and the effects of demographical variables
on the dimensions we measured, we tested the proposed theoretical model. Since the aim of this
study is to explain the dimensions that increase music products‚Äô purchase intention, we analyzed
the model with multiple regression analyses. As we are interested in testing the purchase model,
both for CD/DVD and digital music two separate regression models are formed.
Theoretically, purchase intention for the digital music is explained by ethical behavior
(moral equity and relativism), product involvement, attitude towards digital music (illegal
download, legal download), perceived sacrifice (perceived price of digital music, perceived ease
of use of digital music), and perceived benefits (perceived usefulness of digital music, perceived
playfulness of digital music). As a result of the multiple regression analysis, we found that as
perceived playfulness and positive attitude towards legal download increases and positive
attitude towards illegal download and relativism decreases; the intention to purchase digital
music increases (See Table 10). The independent variable that has the highest effect is attitude
towards illegal download which is followed by legal download (B=-0.36, B=0.21). However,
this model explains only 20% of changes in the intention indicating there are other factors
involved (R=0.44, R2
=0.20).
Table 9. ANOVA results: age groups
Variables Groups N Mean Std.
dev.
F
value
p
value
Relativism 18-21 71 5.51 1.62 3.27 0.040
22-25 97 5.63 1.73
26+ 87 5.01 1.73
Illegal download 18-21 71 3.96 1.05 17.12 0.000
22-25 97 4.04 0.82
26+ 87 3.23 1.15
Perceived ease of use illegal download 18-21 71 4.00 1.05 20.52 0.000
22-25 97 3.94 0.88
26+ 87 3.06 1.28
Illegal download intention 18-21 71 3.44 1.39 6.02 0.003
22-25 97 3.23 1.21
26+ 87 2.74 1.36
Legal download 18-21 71 2.69 1.29 4.69 0.010
22-25 97 2.68 1.24
26+ 87 3.19 1.22
Perceived usefulness Digital 18-21 71 4.27 0.58 21.59 0.000
22-25 97 4.23 0.63
26+ 87 3.65 0.82
Perceived usefulness CD/DVD 18-21 71 2.85 0.95 11.48 0.000
22-25 97 2.79 0.98
26+ 87 3.39 0.82
Perceived playfulness Digital 18-21 71 4.01 0.69 23.32 0.000
22-25 97 3.90 0.71
26+ 87 3.28 0.83
Perceived playfulness CD/DVD 18-21 71 2.70 1.01 12.52 0.000
22-25 97 2.56 0.99
26+ 87 3.26 0.97
Perceived price Digital 18-21 71 3.58 1.05 17.94 0.000
22-25 97 3.60 0.90
26+ 87 2.85 0.86
Perceived price CD/DVD 18-21 71 3.46 1.13 8.55 0.000
22-25 97 3.55 1.00
26+ 87 2.95 0.99
Perceived ease of use Digital 18-21 71 4.20 0.71 21.42 0.000
22-25 97 4.13 0.74
26+ 87 3.44 1.00
Purchase intention CD/DVD 18-21 71 1.98 0.98 7.67 0.001
22-25 97 1.98 0.95
26+ 87 2.51 1.15
Product Involvement 18-21 71 3.84 0.99 3.13 0.046
22-25 97 3.57 1.05
26+ 87 3.43 1.03
* p < 0.05, ** p < 0.01
M., Yurtkoru, E.S., sahin, Y. Yonetim Bilisim Sistemleri Dergisi, Cilt:1, Sayi:3
178
Theoretically, purchase intention for CD/DVD is explained by ethical behavior (moral
equity and relativism), product involvement, attitude towards digital music (illegal download,
legal download), perceived sacrifice (perceived price of CD/DVD), and perceived benefits
(perceived usefulness of CD/DVD, perceived playfulness of CD/DVD). So, the differences
between this and the first model is that here, we measured perceived sacrifice and perceived
benefit for the related product specifically. Since playing a CD/DVD does not require
technological capability, perceived ease of use is not measured. Even though all the questions
except ethical behavior and product involvement are adapted for CD/DVD and the model is
unique for this particular product group, we also included attitude towards digital music
products as it is the increasing trend and all literature emphasizes the effect of digital music on
CD/DVD sales. As a result of the analysis (See Table 11) we explained the 43% of changes in
the intention (R=0.66, R2
=0.43) in this model. The significant independent variables are
perceived usefulness, perceived playfulness, attitude towards illegal download, and perceived
price ordered according to their contributions to the model (B=0.31, B=0.21, B=-0.20, and B=-
0.13).
Table 10. Multiple regression results: purchase intention Digital
Independent variables Beta t value p value R R
2 F value p value
Illegal download -0.36 -5.55 0.000
0.44 0.20 15.16 0.000 Legal download 0.21 3.56 0.000
Perceived playfulness Digital 0.18 2.90 0.004
Relativism -0.13 -2.30 0.023
Dependent variable: Purchase intention Digital
* p < 0.05, ** p < 0.01
Table 11. Multiple regression results: purchase intention CD/DVD
Independent variables Beta t value p value R R
2 F value p value
Perceived usefulness CD/DVD 0.32 3.70 0.000
0.66 0.43 47.33 0.000
Illegal download -0.20 -3.53 0.000
Perceived price CD/DVD -0.13 -2.45 0.015
Perceived playfulness
CD/DVD
0.21 2.40 0.017
Dependent variable: Purchase intention CD/DVD
* p < 0.05, ** p < 0.01
Lastly, we tested the model for illegal download intention to see if there are any other
underlying effects involved. Here, the same independent variables used in the digital music
purchase intention model are used: ethical behavior (moral equity and relativism), product
involvement, attitude towards digital music (illegal download, legal download), perceived
sacrifice (perceived price of digital music, perceived ease of use of digital music), and perceived
benefits (perceived usefulness of digital music, perceived playfulness of digital music).
Table 12. Multiple regression results: illegal download intention
Independent variables Beta t value p value R R
2 F value p value
Illegal download 0.34 5.27 0.000 0.50 0.25 28.31 0.000
Product Involvement 0.18 3.07 0.002
Perceived ease of use illegal dw. 0.18 2.63 0.009
Dependent variable: Illegal download
* p < 0.05, ** p < 0.01
The result of the regression analysis can be seen in Table 12. This model explained
relatively better than digital music purchase intention model (R=0.50, R
2
=0.25). Attitude
towards illegal download has the highest contribution followed by product involvement and
perceived ease of use (B=0.34, B=0.18 and B=0.18).
Agaoglu, M., Yurtkoru, E.S., sahin, Y. Yonetim Bilisim Sistemleri Dergisi, Cilt:1, Sayi:3
179
CONCLUSION
In this study, we tried to investigate music experience in Turkey. Music platform
frequencies show that individuals are using digital platforms more than others, which is
followed by radio. Nevertheless, as stated in the literature respondents are using a mix of all
different types.
Majority of the respondents stated that they do not spend money for music and the
answers given to the questions indicate they do not have much intention to spend money in the
future as well. This is a quite tragic finding for the music industry revealing illegal download
and file sharing is continuing. These findings are in line with relativism scores. Looking at the
moral equity scores, individuals think the act of free downloading is not just/fair, however the
relativism score indicates that respondents think the act of free downloading is quite acceptable
by their friends and the Turkish society. This is mainly the opinion of all respondents but
especially the males, young and the students. Even though the digital music scores are higher in
all groups, we found that females and working individuals are favoring CD/DVD more than
others. Again, the purchase intention for both CD/DVD and the digital music is quite low in all
groups. However, females and working individuals are more willing to buy or subscribe to these
products than males and students. In line with these, ethical behavior is preferred more by
females and working individuals who believe less that illegal downloading is accepted by the
society.
Purchase intention for digital music is explained by ethical behavior, product
involvement, attitude towards digital music, perceived sacrifice, and perceived benefits. Our
findings partially supported H1, since relativism has negative impact on purchase intention
supporting H1b. H2 the impact of product involvement is not supported. However, H3 is fully
supported where attitude towards illegal download has a negative impact and attitude towards
legal download has a positive impact on purchase intention. H4 is not supported indicating
perceived sacrifice does not have an effect on purchase of digital music. H5 is partially
supported, only perceived playfulness has positive effect on purchase intention.
When we analyze purchase intention for CD/DVDs, the findings are different than the
first model. First of all, there is no effect of ethical behavior on the purchase of physical music
format not supporting H1, yet H4 is supported as there is a negative effect of perceived price on
purchase. Similar to the first model, product involvement is not significant, not supporting H2.
Later in this paper, illegal download intention is modeled. Here again, attitude towards illegal
download has impact supporting H3 partially, but this time the effect is naturally positive.
Interestingly, product involvement is found to have significant positive effect as well,
supporting H2. This, the only model, where this variable is significant. Yet, it is contradictory
with the literature as individuals involved with music should be more sensitive to intellectual
property rights. And the last variable in the model is perceived ease of use dimension of
perceived sacrifice partially supporting H4. All the other hypotheses are not supported.
As a summary, we found the effect of all the proposed variables on different models but
not all variables in all models. Managers in music industry can make use of the findings and the
results of this study in order to improve their business and revenue models.
REFERENCES
Arli, D., Tjiptono, F., & Porto, R. (2015). The impact of moral equity, relativism and attitude on
individuals‚Äô digital piracy behaviour in a developing country. Marketing Intelligence &
Planning, 33 (3): 348-365.
Chu. C., & Lu. H., (2007). Factors influencing online music purchase intention in Taiwan.
Internet Research, 17 (2):139 - 155.
Agaoglu, M., Yurtkoru, E.S., sahin, Y. Yonetim Bilisim Sistemleri Dergisi, Cilt:1, Sayi:3
180
IFPI Global Music Report (2016). http://ifpi.org/news/IFPI-GLOBAL-MUSIC-REPORT-2016,
(May 10, 2016).
Nielsen Music Report (2016). ‚Äú2015 U.S. Music Year-End Report‚Äù,
http://www.nielsen.com/us/en/insights/reports/2016/2015-music-us-year-endreport.html, (June 3, 2016)
Reidenbach, R.E. & Robin, D.P. (1990). Toward the development of a multidimensional scale
for improving evaluations of business ethics. Journal of Business Ethics, 9 (8): 639-653.
Reidenbach, R.E., Robin, D.P. & Dawson, L. (1991). An application and extension of a
multidimensional ethics scale to selected marketing practices and marketing group.
Journal of the Academy of Marketing Science, 19 (2): 83-92.
Shoham, A., Ruvio, A. & Davidow, M. (2008). (Un)ethical consumer behavior: Robin Hoods or
Plain Hoods?. Journal of Consumer Marketing, 25 (4): 200-210.
Styven, M. E. (2010). The need to touch: Exploring the link between music involvement and
tangibility preference. Journal of Business Research, 63:1088‚Äì1094.
North, A. C. & Oishi, A. (2006). Music CD Purchase Decisions. Journal of Applied Social
Psychology, 36 (12): 3043‚Äì3084.
Ajzen, I. (1991). The theory of planned behavior. Organizational behavior and human decision
processes 50(2): 179-211.
Ajzen, I. (2005). Attitudes, Personality and Behavior.2nd Edition. Open University Press
(McGraw-Hill), England.
Dodds, W.B. (1999). Managing customer value. Mid-American Journal of Business, 14 (1): 13-
22.
Dodds, W.B., Monroe, K.B. & Grewal, D. (1991). Effects of price, brand, and store information
on buyers‚Äô product evaluations. Journal of Marketing Research, 28: 307-319.
Sweeney, J.C., Soutar, G.N. & Johnson, L.W. (1997). Retail service quality and perceived
value. Journal of Retailing and Consumer Services, 4 (1): 39-48.
Tam, J.L.M. (2004). Customer satisfaction, service quality and perceived value: an integrative
model. Journal of Marketing Management, 20: 897-917.
Davis, F.D. (1989). Perceived usefulness, perceived ease of use, and user acceptance of
information technology. MIS Quarterly, 13(3): 319-40.
van der Heijden, H. (2004). User acceptance of hedonic information systems. MIS Quarterly, 28
(4): 695-704.
TABLE OF CONTENTS
1. PROBLEM STATEMENT 3
2. PROBLEM DESCRIPTION AND MOTIVATION 3
3. MAIN GOAL AND OBJECTIVES 4
4. RELATED WORK 5
4.1 Vehicle Brand Detection Using Deep Learning Algorithms 5
4.2 CarNet.AI 6
4.3 Vehicle Make and Model Recognition Using Local Features and Logo Detection 6
4.4 Damage Identification of Selected Car Parts Using Image Classification and Deep
Learning 7
5. SCOPE OF THE PROJECT 9
5.1 Constraints 9
6. METHODOLOGY AND TECHNICAL APPROACH 10
6.1 Data Collection 11
6.2 Brand Detection with Faster R-CNN 12
6.3 Damaged Part Detection with Yolo 15
6.4 Damage Percentage Detection with DenseNet 17
7. PROFESSIONAL CONSIDERATIONS 19
7.1 Methodological considerations/engineering standards 19
7.2 Realistic Constraints 20
7.2.1 Economical 20
7.2.2 Environmental 20
7.2.3 Ethical 20
7.2.4 Health and Safety 20
7.2.5 Sustainability 20
7.2.6 Social 21
7.3 Legal Considerations 21
8. MANAGEMENT PLAN 21
9. SUCCESS FACTORS AND RISK MANAGEMENT 24
9.1 Success Factors 24
9.2 Risk Management 24
10. BENEFITS AND IMPACT OF THE PROJECT 24
10.1 Scientific Impact: 25
10.2 Economic/Commercial/Social Impact: 25
10.3 Potential Impact on New Projects: 25
10.4 Impact on National Security: 25
REFERENCES 25
3/26
1. PROBLEM STATEMENT
Traffic accidents are such a big problem for people in the modern world. Damage
assessment of the car that is involved in the accident is the problem that our project focuses on.
Damage assessment of the car takes lots of time because the car may be taken by tow truck to
an expert. If this is not the case, the owner of the car has to take the car to an expert somehow
to predict the cost of damaged parts. These options are waste of time, expensive and prone to
human error.
In addition, some mechanics and experts may be unreliable in terms of cost estimation of
the damage detection. They may overprice during the assessment of the damage or try to
deceive the accident victim to repair undamaged parts of the car. Also, people who are involved
in traffic accidents want to search the closest mechanic to purchase parts of a car or call them
to ask for help, and search for the cheapest car parts to change with damaged ones.
2. PROBLEM DESCRIPTION AND MOTIVATION
People go to mechanics when they have an accident or their car is damaged, but the damage
assessment process progresses very slowly. The driver who is involved in an accident loses lots
of time during damage assessment of exterior parts of his/her car in expert investigation. We
aim to solve this problem with the help of photographs of damaged car with the application we
will develop.
Another problem besides losing time during damage assessment is the cost of prediction
of damaged parts. Different prices for the same parts of a car exist in different mechanic shops.
So, drivers cannot find the cheapest or most suitable parts for their car easily. How much the
car parts cost in the mechanics will be shown to the user in our project. In this way, the accident
victim will be ready for what he/she will encounter when he/she goes to the mechanic.
In order not to have trouble for finding a good and qualified mechanic, some features will
be added to the application. For example, the user will be able to rate a mechanic he/she has
visited before. Users who are not satisfied with the service will give bad ratings, while those
who are satisfied will give good ratings. The app will show nearby mechanics using GPS also.
Importance of this project can be explained shortly: making the process faster. In cities
such as Istanbul, traffic is a huge problem itself. Drivers complain about the process which will
4/26
be going on after an incident that they are involved in. With our application, things will be
faster when drivers learn the cost of damaged parts of the car immediately.
In this project, we will solve the problem of the cost calculation of cars that are damaged
by using machine learning and image processing. Firstly, we will detect the car brand and
model using the photos taken by the accident victim. Secondly, we will detect the place of the
damaged part and show the accident victim the percentage of the damage. Rating system will
be used to evaluate mechanics. Reliability problem will be solved by using this feature.
3. MAIN GOAL AND OBJECTIVES
Our main goal is to develop an application that will help the accident victim to repair
his/her damaged car in the cheapest and fastest way possible by showing them their damaged
parts.
We will do the following to fulfill our main aim:
3.1 Developing of an artificial intelligence system to extract information from
damaged car photos.
 a. Detecting the car brand using damaged car photos.
 We will develop an artificial intelligence model to detect the car brand with
over 65% accuracy.
 b. Detecting the damaged car parts using damaged car photos.
 We will develop an artificial intelligence model to detect the damaged car parts
with over 70% accuracy.
 c. Detecting the percentage of damage from car part photos.
 We will develop an artificial intelligence model to detect the percentage of
damage of the damaged car part. With this percentage the accident victim will
decide to buy a brand-new part or repair the damaged part. Our model will work
with over 70% accuracy.
3.2 Developing the DamageWiz Application.
 a. Developing a marketplace for car mechanics.
 By this marketplace, car mechanics will be able to list their car parts prices
with repairment costs. The accident victim will use this marketplace after
uploading the photo and decide where to buy the new car parts or completely
where to repair the car from.
5/26
 b. Developing a rating mechanism of car mechanics.
 After the interaction between the car mechanic and the accident victim ends,
the accident victim will be able to rate the mechanic out of five and optionally
write about the repairment process as a whole. This way users of the system will
be able to warn each other if a mechanic is dishonest. We will also be able to
detect and ban these dishonest mechanics from the system.
 c. Developing a filtering mechanism to find the most suitable mechanic.
 We will provide several ways of finding the most suitable mechanic for the
victim. Accident victims will be able to sort the mechanics in different ways.
For instance, the user will be able to sort the mechanics from the cheapest to
most expensive, closest to farthest or from highest rated one to lowest rated.
4. RELATED WORK
4.1 Vehicle Brand Detection Using Deep Learning Algorithms
Kunduraci and Kahramanli [1] have proposed a solution for detecting car brands by
implementing a classification method based on deep neural networks. They have found out that
the Faster R-CNN method (which is based on deep neural networks) works with 67.66%
accuracy.
Figure 1: Faster R-CNN architecture [1].
6/26
Faster R-CNN is composed of two submodules. First module is a deep fully convolutional
network that proposes regions, and the second module uses these regions. Second module is
the Faster R-CNN part. Feature network is obtained in the first module which is called RPN.
Proposed regions are resized using RoI pooling. The work they have done only detects the
brands of the car, but we need to detect both the brand and the model of the damaged car.
4.2 CarNet.AI
CarNet.AI [2] is an enterprise level API that can detect models and brands of the cars,
developed by LastStar Ltd. Since it is not an open-source project, we could not find much about
how its internals work, but they have provided some little information on their description page.
At first, they detect every car inside of the image and draw a bounding box around them.
Next step is to filter out the bounding boxes that are not suitable for detection based on the
dimensions of the bounding boxes. Third step is to select a detection strategy. There are three
strategies to choose from. They either detect all bounding boxes, the one closest to the center
of the image or the largest bounding box only. Fourth step is detecting the subclasses. They
process every bounding box selected in the third step and find the classes of them. Only
bounding boxes that have ‚Äúvehicle‚Äù class are sent to the last step. In the last step they find the
features of the vehicles. These features are car model, brand, color and angle.
Actually CarNet.AI exactly does what we need to do in detecting brand and model phase,
but we cannot use it since it is not an open-source project. Also, this project does not detect the
damaged car parts or the percentages of the damages.
Figure 2: Detecting Bounding Boxes [2].
7/26
4.3 Vehicle Make and Model Recognition Using Local Features and Logo
Detection
Tafazzoli and Frigiue [3] proposed a two-stage framework to detect the brand and the
model of cars. They used Multiple Instance Learning for high accuracy classification. In the
first stage, they both detect the brand and the model of the car; in the second stage, they only
detect the brand of the car from the logo of the car to improve the accuracy of the first stage.
Multiple Instance Learning is a paradigm for supervised learning that handles ambiguously
labeled data in classification and regression issues. Multiple Instance Learning analyzes
packets of instances in each packet as opposed to classical supervised learning, which use
fixed-length feature vectors as instances.
The work done by Tafazzoli and Frigiue covers what we need to do in the detection of
brands and models of the car, not the part where we need to identify the damaged car parts.
4.4 Damage Identification of Selected Car Parts Using Image Classification and
Deep Learning
They have proposed [4] a two-level machine learning based system to detect three car
parts: front bumper, rear bumper and car wheels. First model is for car part classification, the
second one is for damage identification. The accuracy of the first model during training is
94.84%, while accuracy during validation is 81.25%. The second model‚Äôs training accuracy is
97.16% and its validation accuracy is 49.28%.
To classify car parts, they used photos from Google as their dataset. They used
convolutional neural networks that are made out of 6 layers (excluding poolings) for their
models. The 6 layers are the following: Convolution2 - Pooling2 - Convolution2 - Pooling2 -
Convolution2 - Pooling2 - Convolution2 - Pooling2 - RELU - Softmax.
Output of the first model is the car part names (Rear Bumper, Front Bumper, Car Wheel).
Output of the second model are the damaged and undamaged car part names (Undamaged Front
Bumper, Undamaged Rear Bumper, Undamaged Car Wheel, Damaged Front Bumper,
Damaged Rear Bumper, Damaged Car Wheel).
8/26
Figure 3: Experimental Flowchart [4].
The work they did covers what we need to do in car part detection, and the damage
detection. They did not perform car brand detection, which is needed in our project. Also, the
number of car parts they detected are very limited, we aim to detect more car parts.
In contrast, the related works we have found do not fully cover our project, they only cover
some part of it. Our project will be a combination of these related works. For better
understanding you can look at the chart below.
Name Brand
Detection
Model
Detection
Damaged
Part
Detection
Damage
Percentage
Detection
4.1 Vehicle Brand Detection Using Deep
Learning Algorithms Yes No No No
4.2 CarNet.AI Yes Yes No No
4.3 Vehicle Make and Model Recognition
Using Local Features and Logo Detection Yes Yes No No
4.4 Damage Identification of Selected
Car Parts Using Image Classification and
Deep Learning
No No Yes No
Our Work Yes Yes Yes Yes
Table 1: Related Works Summarized.
9/26
5. SCOPE OF THE PROJECT
This project has two important parts to be explained in detail: First aspect is related to
drivers (customers). The properties of the project for drivers are detecting car brand and
damage assessments with four photographs which are taken by driver after accident or saved
photographs in their mobile phones. Photographs must be taken in the form of the left-right
side, rear and front of the car. Brand and damage detection will be done with the same photos.
Application will try to detect the car brand first. After detection, results will be shown to the
driver to control whether the car brand is correct or not. If the car brand is detected correctly
by application, damage assessment will be done. Otherwise, drivers must enter the car brand
manually. Brand and model are important factors because every part of cars is different
according to the brand and model of the car. After brand and damage detection, required parts
to be changed will be shown to the driver sorted by cheapest total price of damaged parts.
Application will search for the cheapest parts for each part of the damaged car. Total price of
damaged parts in mechanic shops will be listed in application. Drivers will see the cheapest
total price and cheapest parts one by one in each mechanic shop.
Second aspect of the project is creating a marketplace for mechanic shops. They can add
their products with names of the products, prices and descriptions. These mechanic shops will
be pinned on the map in application. Closest ones or cheapest ones will be sorted by choosing
selection of the sorting in application.
Machine learning and image processing algorithms will be written to detect car brand and
damage assessment. These algorithms are for the driver perspective of application. Sorting,
GPS and marketplace features will be used from the mechanic shops perspective of application.
Website will be created first for all of these properties, and an Android application will be
developed. Android application will be based on a website that is created first. So, web-based
android applications will be the last product for both drivers and mechanics shops. PythonFlask API is the core of artificial intelligence part of our application. MVC Dotnet Core 6 is
the main development environment for the website of the project.
 5.1 Constraints
‚óè Dataset for machine learning and image processing algorithms will be collected
from insurance and expert companies. License plates will be censored if there will
be a need for it.
10/26
‚óè Only automobiles are in the scope of the project. Vehicles except automobiles such
as trucks, motorcycles, bikes etc. are not in our concern.
‚óè Data will be labeled manually if there is a lack. Percentage of the damage, damaged
parts, brand and model of the car and needed data will be labeled, but our goal is
to find a labeled dataset. Trained model‚Äôs accuracy must be maximized with an
accurate dataset.
‚óè Android mobile phones are required to be able to implement our website. These
devices must be connected to the internet to access our application. IOS devices
are not in our scope.
‚óè Photos of the car must be clear to make a precise detection. We have to deal with
garbage data which will come from drivers. Photos will be controlled in our
application and needed warnings will be given to drivers.
6. METHODOLOGY AND TECHNICAL APPROACH
Our plan is to combine several Machine Learning and Deep Learning models to achieve
our goal. First model which is Faster R-CNN will detect Car Brand and Model, YOLO will
detect the damaged parts and DenseNet model of Keras will detect whether the car is damaged
or not, percentage of the damaged parts and location of the damaged parts. Detailed information
about models and how we will develop our project, and the reasons why we will implement
these models are given below.
11/26
Figure 4: Flowchart of our project.
6.1 Data Collection
We need logo photos of automobile brands. There will be many photos for each photo to
train models better. The dataset of logos is available in public websites such as Kaggle and
Github. Our plan is to use this data, and search for more data on the internet. In the dataset
which is provided on Kaggle has more than 2900 logo photos of the car brands [5]. Also, there
are 374 photos of logos on the Github resource [6].
One of the most important keys of our project is a dataset of damaged cars. This dataset
must be prepared and labeled carefully. We planned to get photos of damaged cars from
insurance companies and public resources on the internet. There are resources on Kaggle
similar to the logo of the car brand data. If there is no labeling in the datasets, we will label
them properly. One of the datasets from Kaggle has more than 1500 damaged car photos [7].
Another resource from Kaggle has more than 145 damaged car photos [8].
12/26
Figure 5: Block Diagram of our project.
6.2 Brand Detection with Faster R-CNN
A popular object identification method known as Faster R-CNN combines the generation
of site proposals and their classification into a single pipeline, increasing computational power.
For that reason, we will use the Faster R-CNN model to determine the brands and models of
the vehicles whose photos are entered. The theoretical information about the Faster R-CNN
model is provided below.
Faster R-CNN is an object detection algorithm which is built on top of Fast R-CNN
algorithm which is also based on R-CNN algorithm.
13/26
R-CNN is an abbreviation of region-based Convolutional Neural Network. It works by
extracting region proposals using selective search algorithm. Selective search groups regions
hierarchically, based on the pixel intensities. Inventor of the R-CNN algorithm finds about 2k
proposals using selective search. After executing the algorithm these region proposals must be
labeled. After that, region proposals must be labeled. Region proposals that have more than 0.5
intersection-over union (IOU) are labeled. Proposals with less than 0.3 IOU are taken as
backgrounds. Others are not being used.
Figure 6: Intervals of the Bounding Box [9].
The mathematical expressions above denote the intervals of the bounding box. x and y are
the centers of the box, w and h are the width and height of the box.
Fast R-CNN is a convolutional neural network algorithm. It uses an image and multiple
regions of interests as inputs. These inputs are fed into a convolutional network where each of
the regions of interests get pooled to a feature map. After that they get mapped to a feature
vector. There are two outputs for every region of interest. First one is softmax probabilities and
the second one is the points of the detected image [10].
In Fast R-CNN, instead of using proposals as inputs, the input image is directly given into
the CNN, where the feature map is generated. From the feature map the region of proposals is
being found. Fast R-CNN is faster than R-CNN because you do not find 2,000 region proposals
every time, feature map is generated once per image.
Figure 7: Fast R-CNN Architecture [10].
14/26
Faster R-CNN algorithm uses Region Proposal Network (RPN) algorithm to get better
results. R-CNN and Fast R-CNN algorithms depend on selective search during finding the
region proposals, in Faster R-CNN the model itself learns the region proposals.
RPN is a convolutional network that predicts object points for every position in the image.
RPN takes an image as an input, and it returns a set of object locations along with their scores
[11].
Figure 8: Faster R-CNN Architecture [11].
In a logic similar to Fast R-CNN, the input image is fed into a convolutional network,
where the convolutional feature map is found. Instead of applying selective search on the
feature map to get region proposals, a new network is utilized to find region proposals. The
found region proposals are then pooled using RoI method. RoI pooling is used to categorize
the image within the proposed region and find the offset values for the bounding boxes [12].
RoI pooling is used to speed up the learning process and to fix the dimensions of the input.
Instead of receiving region suggestions in Faster R-CNN architecture, it is possible to submit
region proposals within the network. Speed is gained by doing this.
In Faster R-CNN, the input image is taken and passed through the convolutional neural
network to the feature map. At this stage, instead of getting regional proposals, a separate
regional proposal network is created. Now regional proposals are made on this created network.
15/26
After specifying the network zones, the rest of the process is the same as Fast R-CNN. Both
the network giving the proposals and the network with convolution are trained.
6.3 Damaged Part Detection with YOLO
Efficient and accurate completion of object identification tasks is essential in computer
vision. The deep learning-based damage detection methods currently in use suffer from
complex models and computationally time-consuming problems. That is why we will use the
YOLO model to quickly detect where the damage is on the vehicle. Information about the
YOLO model can be found below.
YOLO is the acronym for ‚ÄúYou Only Look Once‚Äù. Real-time object detection is the key
characteristic that sets YOLO apart from other techniques. One of the most well-liked object
detection methods employing convolutional neural networks is YOLO architecture. The
algorithm is capable of quickly and all at once detecting objects. As soon as the algorithm gets
going, it can identify objects and their positions in pictures and videos.
Figure 9: YOLO detection of objects [12].
The YOLO algorithm initially creates a grid of specific-sized sections from the input image
(which can be thought of as a grid). The objects in each region are then defined by bounding
boxes. A confidence score is computed because an object might be described by more than one
16/26
bounding box. The bounding box with the highest confidence score, or the best bounding box
to represent an object, is chosen and the other bounding boxes are eliminated from the image
in accordance with the computed confidence score.
YOLO-v1; Can only detect one object in a grid since only two bounding boxes can be
suggested for each grid. Small items are challenging to detect for the algorithm. There is a
significant level of localization mistake as compared to Faster R-CNN (the situation where the
algorithm detects which class it belongs to and is less successful in drawing a bounding box
than other models).
To address the aforementioned issues, Yolo - v2 architecture was developed.
Figure 10: YOLO-v1 layer structure [13].
YOLO-v2 uses anchor boxes to detect multiple objects in a grid. This allows for estimates
up to the number of anchor boxes identified for each grid. The YOLO-v2 design's most
significant feature, the abundance of anchor boxes and object identification, has solved the
greatest drawback of the YOLO-v1 architecture. Another benefit is that while it can recognize
very small items that the YOLO-v1 algorithm cannot, the YOLO-v1 drawbacks are solved with
this architecture because it can detect huge photographs of the same object.
17/26
Figure 11: YOLO-v2 layer structure [13].
YOLO-v3 is an incremental upgrade to the prior one. Since there are numerous object
detection algorithms and they have all been around for some time, the competition is on how
quickly and accurately things can be found. YOLO-v3 includes all the tools we want for
accurately detecting things in real-time and classifying them.
Figure 12: YOLO-v3 [13].
6.4 Damage Percentage Detection with DenseNet
Studies about DenseNet claim that the categorization using DenseNet has demonstrated
the accuracy of the final model [14]. Reusing features is the key benefit of DenseNet
architecture. Therefore, we will find the percentage of damage using the DenseNet model.
Theoretical information of DenseNet can be found below.
18/26
DenseNet is a type of convolutional neural network that makes use of dense connections
between layers by connecting all layers (with matching feature-map sizes) directly with one
another using Dense Blocks [15]. Each layer receives extra inputs from all earlier layers and
transmits its own feature-maps to all later layers in order to maintain the feed-forward character
of the system.
Figure 13: One Dense Block in DenseNet [16].
Each layer in DenseNet receives extra inputs from all levels that came before it and
transmits its own feature-maps to all layers that came after it. You utilize concatenation. Each
layer receives collective knowledge from the levels that came before it (Figure 11). Each layer
receives feature maps from all layers that came before it, allowing for a more compact and
thinner network with fewer channels. The extra number of channels for each layer is the growth
rate k (Figure 12). Therefore, it has higher memory and processing efficiency.
Figure 14: Dense Block in DenseNet with Growth Rate k [16].
19/26
7. PROFESSIONAL CONSIDERATIONS
7.1 Methodological considerations/engineering standards
We are going to use Git as our version control system and as a remote git repository we
are going to use a private Github repository. We will use Python to train our machine learning
models. We will use Tensorflow and Keras libraries along with Python in training. We will
also use Flask to develop an API to utilize our trained machine learning models. For
development of the DamageWiz application we will use C# along with .NET Core MVC.
PostgreSQL will be used as our relational database management system. Java will be used to
develop Android mobile applications for our project.
Tool Explanation Purpose
Version Control System Version our source codes
Remote Git Repository To store our source codes in
a remote place
Programming Language To implement Machine
Learning models
Machine Learning Library
for Python
To implement Machine
Learning models
Machine Learning Library
for Python
To implement Machine
Learning models
Micro Web Framework for
Python
To implement Machine
Learning models
Programming Language To implement DamageWiz
application
An advanced Web
Framework C#
To implement DamageWiz
application
Relational Database
Management System
To implement DamageWiz
application
Programming Language To implement android client
of DamageWiz application
Table 2: Technologies used.
20/26
7.2 Realistic Constraints
7.2.1 Economical
While training the machine learning models, we might need expensive GPUs or cloud
services. To deploy the DamageWiz application we will also need a Linux VPS which will cost
some money to us.
On the other hand, our project will minimize the cost of the damage assessment process.
Insurance companies will no longer need to pay experts for damage assessment.
We may also charge insurance companies some percentage to profit from the project.
7.2.2 Environmental
We can say that our project will reduce the air pollution a little because experts will not
need to travel with their cars for damage assessment.
7.2.3 Ethical
We will take Personal Data Protection Law (KVKK), General Data Protection Regulation
(GDPR) and any related regulation into account while training the machine learning models.
We will blur all personal information such as car plates, chassis numbers while generating our
dataset.
Also, in the DamageWiz application we will try to store as little information as possible
and comply with the related regulations.
7.2.4 Health and Safety
Our project is not related to health or safety in any way because we are detecting the
damages of cars and the cost of fixing.
7.2.5 Sustainability
As long as people drive cars, our project will survive. Because these cars will always get
damaged, and these damages will always be assessed.
21/26
7.2.6 Social
Our project will protect the accident victim in a fair way. Damage assessment will be done
with machine learning and the cost of repairment will be listed by the mechanics transparently.
We are trying to minimize possible misconducts by automatizing the process.
7.3 Legal Considerations
We should be careful not to put any personal information on GitHub because it is a private
company located outside of our country. Storing personal information in these kinds of
products may not comply with data regulations of our country.
Other development tools we are using are open-sourced software, so complying with their
licenses will not be a problem for us. During the generation of the dataset, we will blur the
plates of the cars to comply with KVKK.
8. MANAGEMENT PLAN
8.1 Description of Task Phases
Phase 1 - Literature Survey: Literature Survey of Faster R-CNN, TensorFlow YOLO
v3, Keras. Duration of phase 1 is five months.
1.1: Deep Learning algorithms for brand detection such as Faster-RCNN and
Tensorflow YOLO v3 will be researched.
1.2: Related works and studies will be analyzed and discussed.
1.3: Keras and its applications such as densenet will be studied for damage
assessment.
Phase 2 - Data Preparation: Dataset will be collected and designed well. Duration of
phase 2 is two months.
2.1: Dataset of damaged cars will be collected from insurance companies and
public resources on the internet.
2.2: Dataset of car brand logos will be collected from public resources on the
internet.
Phase 3 - Implementation of YOLO: Implementation of Tensorflow YOLO for
detection of the brand. Duration of phase 3 is one month.
3.1: Methods of algorithm will be applied.
3.2: Outcome of implementation will be analyzed and tested.
22/26
Phase 4 - Implementation of Keras: Implementation of Keras for damage assessment.
Duration of phase 4 is two months.
4.1: Selected applications of Keras such as densenet will be implemented.
4.2: Outcome of implementation will be analyzed and tested.
Phase 5 - Data Partitioning: Dataset will be separated for training and testing. They
will be applied on models. Models and their efficiency for our projects will be compared
to decide fitting models. Duration of phase 5 is one month.
Phase 6 - Web Application Development: Developing web application for the project.
Duration of phase 6 is two months.
6.1: Frontend of the website will be developed with HTML CSS and Bootstrap
library.
6.2: Backend of the website will be developed with MVC .NET Core and
PostgreSQL for database.
6.3: Marketplace for mechanic shops will be created.
Phase 7 - Mobile Application Development: Developing web-based Android mobile
application. Duration of phase 7 is two months.
7.1: Web application will be adapted to the android application of our project.
7.2: Java will be used for the mobile application development process.
Phase 8 - Testing and Deployment: Integration of the system parts. Testing and
observing all of the outcomes of the project:
- Testing of whether brand detection is working correctly or not.
- Testing of damage assessment and detection of damaged parts.
- Testing of damage percentage of the damaged parts.
- Testing of the product screen that will occur after damaged parts of the car
matches with products of mechanic shops. Database queries and different
scenarios will be tested.
- Other properties of website and mobile application tests will be done. Duration
of phase 8 is eight months.
8.2 Division of Responsibilities and Duties among Team Members
Distribution of work of each phase can be seen below in Table 3.
23/26
Table 3: Work Distribution of Team Members.
8.3 Timeline
Timeline of the project is shown below in Table 4. The duration of each phase can be seen
in terms of months.
Table 4: Gantt Chart of Timeline of the Project.
24/26
9. SUCCESS FACTORS AND RISK MANAGEMENT
9.1 Success Factors
‚óè Need to find out what the brand and model of the vehicle is with an
accuracy of 65%. F1-score will be used here to compute the accuracy.
‚óè The location of the damage should be detected with 70% accuracy from
the photos taken from the front, rear, left and right sides of the vehicle.
F1-score will be used here to compute the accuracy.
‚óè The damaged part must be matched with the model of the car with 70%
accuracy. F1-score will be used here to compute the accuracy.
‚óè It will be shown with 100% accuracy in which mechanics the found
damaged part is available.
‚óè The mechanics who have the materials will be shown 95% accuracy.
‚óè The application will have a sorting feature. It will sort the mechanics
from the cheapest one to the expensive and the nearest one to far with
100% success.
9.2 Risk Management
‚óè We may not be able to find properly labeled data:
In this case we will obtain the unlabeled data from an experts office and label
them ourselves. Also, to obey GDPR or KVKK laws we will need to blur the
plates of the cars.
‚óè We may not be able to detect the damaged car‚Äôs brand:
If we cannot detect the damaged car‚Äôs brand, users will select the brand
themselves in the application.
‚óè We may not be able to have enough data to train our model:
In this case we will apply data augmentation to our existing data to generate
more data. The new data will be actually the same data from before, but they
will be rotated, resized, or cropped.
10. BENEFITS AND IMPACT OF THE PROJECT
The biggest potential benefit of our project is to save users time and money. When our
project is completed, our project will be used by people who have had an accident and whose
25/26
car has been damaged. Our project will also benefit the mechanics. They will be able to find
their potential customers through the application.
10.1 Scientific Impact:
The project we are trying to do is not a totally new project. In our research, we have seen
projects that focused only on specific issues, such as brand detection or damage detection. Our
project will be more comprehensive. Therefore, it will be a continuation of an existing scientific
situation. It could be the subject of an article that we may write.
10.2 Economic/Commercial/Social Impact:
The project will not have a major economic impact, but it will save a lot of extra expense
personally. Instead of paying money for the expert on the determination of the damage, they
will be able to learn from the application for free. Also, it will prevent time wasting.
10.3 Potential Impact on New Projects:
This project is a continuation of existing projects. Similar studies have been done before.
Rather than being a pioneer, we can say that it can be a continuation of other projects and give
way for the newcomers.
10.4 Impact on National Security:
It will not affect any national security.
REFERENCES
[1] Kunduraci M. F., Kahramanli ornek, H. ‚ÄúVehicle Brand Detection Using Deep Learning
Algorithms‚Äù. International Journal of Applied Mathematics Electronics and Computers 7
(2019): 70-74.
[2] CarNet.AI [Date of Access: 27/11/2022] [https://carnet.ai/make-model-recognition-api].
[3] Tafazzoli F., Frigui H. ‚ÄúVehicle Make and Model Recognition Using Local Features and
Logo Detection‚Äù. International Symposium on Signal, Image, Video and Communications
(ISIVC) (2016): 353-358.
[4] Chua A. C. et al. ‚ÄúDamage Identification of Selected Car Parts Using Image Classification
and Deep Learning‚Äù. IEEE 13th International Conference on Humanoid, Nanotechnology,
Information Technology, Communication and Control, Environment, and Management
(HNICEM) (2021): 1-5.
26/26
[5] Volkan ozdemir, ‚ÄúCar Brand Logos‚Äù [Date of Access: 27/11/2022]
 [https://www.kaggle.com/datasets/volkandl/car-brand-logos].
[6] Filip Papranec, ‚Äúcar-logos-dataset‚Äù [Date of Access: 27/11/2022]
 [https://github.com/filippofilip95/car-logos-dataset].
[7] Hamza Manssor, ‚ÄúCar Damage Assessment‚Äù [Date of Access: 27/11/2022]
 [https://www.kaggle.com/datasets/hamzamanssor/car-damage-assessment].
[8] Lalu Prasad Lenka, ‚ÄúCoco Car Damage Detection Dataset‚Äù [Date of Access: 27/11/2022]
 [https://www.kaggle.com/datasets/lplenka/coco-car-damage-detection-dataset].
[9] Girshick R., Donahue J., Darrel T., Malik J. ‚ÄúRich feature hierarchies for accurate object
detection and semantic segmentation‚Äù. IEEE Conference on Computer Vision and Pattern
Recognition (2014): 580-587.
[10] Girshick R. ‚ÄúFast R-CNN‚Äù. IEEE International Conference on Computer Vision (ICCV)
(2015): 1440-1448.
[11] Ren S., He K., Girshick R., Sun J. ‚ÄúFaster R-CNN‚Äù. Proceedings of the 28th International
Conference on Neural Information Processing Systems - Volume 1 (2015): 91-99.
[12] Gandhi R. ‚ÄúR-CNN, Fast R-CNN, Faster R-CNN, YOLO ‚Äî Object Detection
Algorithms‚Äù [Date of Access: 15/11/2022] [https://towardsdatascience.com/r-cnn-fast-rcnn-faster-r-cnn-yolo-object-detection-algorithms-36d53571365e].
[13] Karakus H. V. ‚ÄúDarknet YOLOv3 hizli bakis‚Äù [Date of Access: 27/11/2022]
[https://medium.com/@karakus.haciveli/darknet-yolov3-h%C4%B1zl%C4%B1-
bak%C4%B1%C5%9F-ddc9cd5582ea].
[14] Pleiss G, Chen D, Huang G, Li T, Van Der Maaten L, Weinberger KQ ‚ÄúMemory-efficient
implementation of dense nets‚Äù CoRR (2017).
[15] Huang G., Liu Z., Maaten L., Weinberger K. Q. ‚ÄúDensely Connected Convolutional
Networks‚Äù. IEEE Conference on Computer Vision and Pattern Recognition (CVPR)
(2017): 2261-2269.
[16] Tsang S. ‚ÄúReview: DenseNet ‚Äî Dense Convolutional Network (Image Classification)‚Äù
[Date of Access: 11/11/2022].
 [https://towardsdatascience.com/review-densenet-image-classification-b6631a8ef803]
TABLE OF CONTENTS
1. PROBLEM STATEMENT 3
2. PROBLEM DESCRIPTION AND MOTIVATION 3
3. MAIN GOAL AND OBJECTIVES 4
4. RELATED WORK 5
4.1 Vehicle Brand Detection Using Deep Learning Algorithms 5
4.2 CarNet.AI 6
4.3 Vehicle Make and Model Recognition Using Local Features and Logo Detection 6
4.4 Damage Identification of Selected Car Parts Using Image Classification and Deep
Learning 7
5. SCOPE OF THE PROJECT 9
5.1 Constraints 9
6. METHODOLOGY AND TECHNICAL APPROACH 10
6.1 Data Collection 11
6.2 Brand Detection with Faster R-CNN 12
6.3 Damaged Part Detection with Yolo 15
6.4 Damage Percentage Detection with DenseNet 17
7. PROFESSIONAL CONSIDERATIONS 19
7.1 Methodological considerations/engineering standards 19
7.2 Realistic Constraints 20
7.2.1 Economical 20
7.2.2 Environmental 20
7.2.3 Ethical 20
7.2.4 Health and Safety 20
7.2.5 Sustainability 20
7.2.6 Social 21
7.3 Legal Considerations 21
8. MANAGEMENT PLAN 21
9. SUCCESS FACTORS AND RISK MANAGEMENT 24
9.1 Success Factors 24
9.2 Risk Management 24
10. BENEFITS AND IMPACT OF THE PROJECT 24
10.1 Scientific Impact: 25
10.2 Economic/Commercial/Social Impact: 25
10.3 Potential Impact on New Projects: 25
10.4 Impact on National Security: 25
REFERENCES 25
3/26
1. PROBLEM STATEMENT
Traffic accidents are such a big problem for people in the modern world. Damage
assessment of the car that is involved in the accident is the problem that our project focuses on.
Damage assessment of the car takes lots of time because the car may be taken by tow truck to
an expert. If this is not the case, the owner of the car has to take the car to an expert somehow
to predict the cost of damaged parts. These options are waste of time, expensive and prone to
human error.
In addition, some mechanics and experts may be unreliable in terms of cost estimation of
the damage detection. They may overprice during the assessment of the damage or try to
deceive the accident victim to repair undamaged parts of the car. Also, people who are involved
in traffic accidents want to search the closest mechanic to purchase parts of a car or call them
to ask for help, and search for the cheapest car parts to change with damaged ones.
2. PROBLEM DESCRIPTION AND MOTIVATION
People go to mechanics when they have an accident or their car is damaged, but the damage
assessment process progresses very slowly. The driver who is involved in an accident loses lots
of time during damage assessment of exterior parts of his/her car in expert investigation. We
aim to solve this problem with the help of photographs of damaged car with the application we
will develop.
Another problem besides losing time during damage assessment is the cost of prediction
of damaged parts. Different prices for the same parts of a car exist in different mechanic shops.
So, drivers cannot find the cheapest or most suitable parts for their car easily. How much the
car parts cost in the mechanics will be shown to the user in our project. In this way, the accident
victim will be ready for what he/she will encounter when he/she goes to the mechanic.
In order not to have trouble for finding a good and qualified mechanic, some features will
be added to the application. For example, the user will be able to rate a mechanic he/she has
visited before. Users who are not satisfied with the service will give bad ratings, while those
who are satisfied will give good ratings. The app will show nearby mechanics using GPS also.
Importance of this project can be explained shortly: making the process faster. In cities
such as Istanbul, traffic is a huge problem itself. Drivers complain about the process which will
4/26
be going on after an incident that they are involved in. With our application, things will be
faster when drivers learn the cost of damaged parts of the car immediately.
In this project, we will solve the problem of the cost calculation of cars that are damaged
by using machine learning and image processing. Firstly, we will detect the car brand and
model using the photos taken by the accident victim. Secondly, we will detect the place of the
damaged part and show the accident victim the percentage of the damage. Rating system will
be used to evaluate mechanics. Reliability problem will be solved by using this feature.
3. MAIN GOAL AND OBJECTIVES
Our main goal is to develop an application that will help the accident victim to repair
his/her damaged car in the cheapest and fastest way possible by showing them their damaged
parts.
We will do the following to fulfill our main aim:
3.1 Developing of an artificial intelligence system to extract information from
damaged car photos.
 a. Detecting the car brand using damaged car photos.
 We will develop an artificial intelligence model to detect the car brand with
over 65% accuracy.
 b. Detecting the damaged car parts using damaged car photos.
 We will develop an artificial intelligence model to detect the damaged car parts
with over 70% accuracy.
 c. Detecting the percentage of damage from car part photos.
 We will develop an artificial intelligence model to detect the percentage of
damage of the damaged car part. With this percentage the accident victim will
decide to buy a brand-new part or repair the damaged part. Our model will work
with over 70% accuracy.
3.2 Developing the DamageWiz Application.
 a. Developing a marketplace for car mechanics.
 By this marketplace, car mechanics will be able to list their car parts prices
with repairment costs. The accident victim will use this marketplace after
uploading the photo and decide where to buy the new car parts or completely
where to repair the car from.
5/26
 b. Developing a rating mechanism of car mechanics.
 After the interaction between the car mechanic and the accident victim ends,
the accident victim will be able to rate the mechanic out of five and optionally
write about the repairment process as a whole. This way users of the system will
be able to warn each other if a mechanic is dishonest. We will also be able to
detect and ban these dishonest mechanics from the system.
 c. Developing a filtering mechanism to find the most suitable mechanic.
 We will provide several ways of finding the most suitable mechanic for the
victim. Accident victims will be able to sort the mechanics in different ways.
For instance, the user will be able to sort the mechanics from the cheapest to
most expensive, closest to farthest or from highest rated one to lowest rated.
4. RELATED WORK
4.1 Vehicle Brand Detection Using Deep Learning Algorithms
Kunduraci and Kahramanli [1] have proposed a solution for detecting car brands by
implementing a classification method based on deep neural networks. They have found out that
the Faster R-CNN method (which is based on deep neural networks) works with 67.66%
accuracy.
Figure 1: Faster R-CNN architecture [1].
6/26
Faster R-CNN is composed of two submodules. First module is a deep fully convolutional
network that proposes regions, and the second module uses these regions. Second module is
the Faster R-CNN part. Feature network is obtained in the first module which is called RPN.
Proposed regions are resized using RoI pooling. The work they have done only detects the
brands of the car, but we need to detect both the brand and the model of the damaged car.
4.2 CarNet.AI
CarNet.AI [2] is an enterprise level API that can detect models and brands of the cars,
developed by LastStar Ltd. Since it is not an open-source project, we could not find much about
how its internals work, but they have provided some little information on their description page.
At first, they detect every car inside of the image and draw a bounding box around them.
Next step is to filter out the bounding boxes that are not suitable for detection based on the
dimensions of the bounding boxes. Third step is to select a detection strategy. There are three
strategies to choose from. They either detect all bounding boxes, the one closest to the center
of the image or the largest bounding box only. Fourth step is detecting the subclasses. They
process every bounding box selected in the third step and find the classes of them. Only
bounding boxes that have ‚Äúvehicle‚Äù class are sent to the last step. In the last step they find the
features of the vehicles. These features are car model, brand, color and angle.
Actually CarNet.AI exactly does what we need to do in detecting brand and model phase,
but we cannot use it since it is not an open-source project. Also, this project does not detect the
damaged car parts or the percentages of the damages.
Figure 2: Detecting Bounding Boxes [2].
7/26
4.3 Vehicle Make and Model Recognition Using Local Features and Logo
Detection
Tafazzoli and Frigiue [3] proposed a two-stage framework to detect the brand and the
model of cars. They used Multiple Instance Learning for high accuracy classification. In the
first stage, they both detect the brand and the model of the car; in the second stage, they only
detect the brand of the car from the logo of the car to improve the accuracy of the first stage.
Multiple Instance Learning is a paradigm for supervised learning that handles ambiguously
labeled data in classification and regression issues. Multiple Instance Learning analyzes
packets of instances in each packet as opposed to classical supervised learning, which use
fixed-length feature vectors as instances.
The work done by Tafazzoli and Frigiue covers what we need to do in the detection of
brands and models of the car, not the part where we need to identify the damaged car parts.
4.4 Damage Identification of Selected Car Parts Using Image Classification and
Deep Learning
They have proposed [4] a two-level machine learning based system to detect three car
parts: front bumper, rear bumper and car wheels. First model is for car part classification, the
second one is for damage identification. The accuracy of the first model during training is
94.84%, while accuracy during validation is 81.25%. The second model‚Äôs training accuracy is
97.16% and its validation accuracy is 49.28%.
To classify car parts, they used photos from Google as their dataset. They used
convolutional neural networks that are made out of 6 layers (excluding poolings) for their
models. The 6 layers are the following: Convolution2 - Pooling2 - Convolution2 - Pooling2 -
Convolution2 - Pooling2 - Convolution2 - Pooling2 - RELU - Softmax.
Output of the first model is the car part names (Rear Bumper, Front Bumper, Car Wheel).
Output of the second model are the damaged and undamaged car part names (Undamaged Front
Bumper, Undamaged Rear Bumper, Undamaged Car Wheel, Damaged Front Bumper,
Damaged Rear Bumper, Damaged Car Wheel).
8/26
Figure 3: Experimental Flowchart [4].
The work they did covers what we need to do in car part detection, and the damage
detection. They did not perform car brand detection, which is needed in our project. Also, the
number of car parts they detected are very limited, we aim to detect more car parts.
In contrast, the related works we have found do not fully cover our project, they only cover
some part of it. Our project will be a combination of these related works. For better
understanding you can look at the chart below.
Name Brand
Detection
Model
Detection
Damaged
Part
Detection
Damage
Percentage
Detection
4.1 Vehicle Brand Detection Using Deep
Learning Algorithms Yes No No No
4.2 CarNet.AI Yes Yes No No
4.3 Vehicle Make and Model Recognition
Using Local Features and Logo Detection Yes Yes No No
4.4 Damage Identification of Selected
Car Parts Using Image Classification and
Deep Learning
No No Yes No
Our Work Yes Yes Yes Yes
Table 1: Related Works Summarized.
9/26
5. SCOPE OF THE PROJECT
This project has two important parts to be explained in detail: First aspect is related to
drivers (customers). The properties of the project for drivers are detecting car brand and
damage assessments with four photographs which are taken by driver after accident or saved
photographs in their mobile phones. Photographs must be taken in the form of the left-right
side, rear and front of the car. Brand and damage detection will be done with the same photos.
Application will try to detect the car brand first. After detection, results will be shown to the
driver to control whether the car brand is correct or not. If the car brand is detected correctly
by application, damage assessment will be done. Otherwise, drivers must enter the car brand
manually. Brand and model are important factors because every part of cars is different
according to the brand and model of the car. After brand and damage detection, required parts
to be changed will be shown to the driver sorted by cheapest total price of damaged parts.
Application will search for the cheapest parts for each part of the damaged car. Total price of
damaged parts in mechanic shops will be listed in application. Drivers will see the cheapest
total price and cheapest parts one by one in each mechanic shop.
Second aspect of the project is creating a marketplace for mechanic shops. They can add
their products with names of the products, prices and descriptions. These mechanic shops will
be pinned on the map in application. Closest ones or cheapest ones will be sorted by choosing
selection of the sorting in application.
Machine learning and image processing algorithms will be written to detect car brand and
damage assessment. These algorithms are for the driver perspective of application. Sorting,
GPS and marketplace features will be used from the mechanic shops perspective of application.
Website will be created first for all of these properties, and an Android application will be
developed. Android application will be based on a website that is created first. So, web-based
android applications will be the last product for both drivers and mechanics shops. PythonFlask API is the core of artificial intelligence part of our application. MVC Dotnet Core 6 is
the main development environment for the website of the project.
 5.1 Constraints
‚óè Dataset for machine learning and image processing algorithms will be collected
from insurance and expert companies. License plates will be censored if there will
be a need for it.
10/26
‚óè Only automobiles are in the scope of the project. Vehicles except automobiles such
as trucks, motorcycles, bikes etc. are not in our concern.
‚óè Data will be labeled manually if there is a lack. Percentage of the damage, damaged
parts, brand and model of the car and needed data will be labeled, but our goal is
to find a labeled dataset. Trained model‚Äôs accuracy must be maximized with an
accurate dataset.
‚óè Android mobile phones are required to be able to implement our website. These
devices must be connected to the internet to access our application. IOS devices
are not in our scope.
‚óè Photos of the car must be clear to make a precise detection. We have to deal with
garbage data which will come from drivers. Photos will be controlled in our
application and needed warnings will be given to drivers.
6. METHODOLOGY AND TECHNICAL APPROACH
Our plan is to combine several Machine Learning and Deep Learning models to achieve
our goal. First model which is Faster R-CNN will detect Car Brand and Model, YOLO will
detect the damaged parts and DenseNet model of Keras will detect whether the car is damaged
or not, percentage of the damaged parts and location of the damaged parts. Detailed information
about models and how we will develop our project, and the reasons why we will implement
these models are given below.
11/26
Figure 4: Flowchart of our project.
6.1 Data Collection
We need logo photos of automobile brands. There will be many photos for each photo to
train models better. The dataset of logos is available in public websites such as Kaggle and
Github. Our plan is to use this data, and search for more data on the internet. In the dataset
which is provided on Kaggle has more than 2900 logo photos of the car brands [5]. Also, there
are 374 photos of logos on the Github resource [6].
One of the most important keys of our project is a dataset of damaged cars. This dataset
must be prepared and labeled carefully. We planned to get photos of damaged cars from
insurance companies and public resources on the internet. There are resources on Kaggle
similar to the logo of the car brand data. If there is no labeling in the datasets, we will label
them properly. One of the datasets from Kaggle has more than 1500 damaged car photos [7].
Another resource from Kaggle has more than 145 damaged car photos [8].
12/26
Figure 5: Block Diagram of our project.
6.2 Brand Detection with Faster R-CNN
A popular object identification method known as Faster R-CNN combines the generation
of site proposals and their classification into a single pipeline, increasing computational power.
For that reason, we will use the Faster R-CNN model to determine the brands and models of
the vehicles whose photos are entered. The theoretical information about the Faster R-CNN
model is provided below.
Faster R-CNN is an object detection algorithm which is built on top of Fast R-CNN
algorithm which is also based on R-CNN algorithm.
13/26
R-CNN is an abbreviation of region-based Convolutional Neural Network. It works by
extracting region proposals using selective search algorithm. Selective search groups regions
hierarchically, based on the pixel intensities. Inventor of the R-CNN algorithm finds about 2k
proposals using selective search. After executing the algorithm these region proposals must be
labeled. After that, region proposals must be labeled. Region proposals that have more than 0.5
intersection-over union (IOU) are labeled. Proposals with less than 0.3 IOU are taken as
backgrounds. Others are not being used.
Figure 6: Intervals of the Bounding Box [9].
The mathematical expressions above denote the intervals of the bounding box. x and y are
the centers of the box, w and h are the width and height of the box.
Fast R-CNN is a convolutional neural network algorithm. It uses an image and multiple
regions of interests as inputs. These inputs are fed into a convolutional network where each of
the regions of interests get pooled to a feature map. After that they get mapped to a feature
vector. There are two outputs for every region of interest. First one is softmax probabilities and
the second one is the points of the detected image [10].
In Fast R-CNN, instead of using proposals as inputs, the input image is directly given into
the CNN, where the feature map is generated. From the feature map the region of proposals is
being found. Fast R-CNN is faster than R-CNN because you do not find 2,000 region proposals
every time, feature map is generated once per image.
Figure 7: Fast R-CNN Architecture [10].
14/26
Faster R-CNN algorithm uses Region Proposal Network (RPN) algorithm to get better
results. R-CNN and Fast R-CNN algorithms depend on selective search during finding the
region proposals, in Faster R-CNN the model itself learns the region proposals.
RPN is a convolutional network that predicts object points for every position in the image.
RPN takes an image as an input, and it returns a set of object locations along with their scores
[11].
Figure 8: Faster R-CNN Architecture [11].
In a logic similar to Fast R-CNN, the input image is fed into a convolutional network,
where the convolutional feature map is found. Instead of applying selective search on the
feature map to get region proposals, a new network is utilized to find region proposals. The
found region proposals are then pooled using RoI method. RoI pooling is used to categorize
the image within the proposed region and find the offset values for the bounding boxes [12].
RoI pooling is used to speed up the learning process and to fix the dimensions of the input.
Instead of receiving region suggestions in Faster R-CNN architecture, it is possible to submit
region proposals within the network. Speed is gained by doing this.
In Faster R-CNN, the input image is taken and passed through the convolutional neural
network to the feature map. At this stage, instead of getting regional proposals, a separate
regional proposal network is created. Now regional proposals are made on this created network.
15/26
After specifying the network zones, the rest of the process is the same as Fast R-CNN. Both
the network giving the proposals and the network with convolution are trained.
6.3 Damaged Part Detection with YOLO
Efficient and accurate completion of object identification tasks is essential in computer
vision. The deep learning-based damage detection methods currently in use suffer from
complex models and computationally time-consuming problems. That is why we will use the
YOLO model to quickly detect where the damage is on the vehicle. Information about the
YOLO model can be found below.
YOLO is the acronym for ‚ÄúYou Only Look Once‚Äù. Real-time object detection is the key
characteristic that sets YOLO apart from other techniques. One of the most well-liked object
detection methods employing convolutional neural networks is YOLO architecture. The
algorithm is capable of quickly and all at once detecting objects. As soon as the algorithm gets
going, it can identify objects and their positions in pictures and videos.
Figure 9: YOLO detection of objects [12].
The YOLO algorithm initially creates a grid of specific-sized sections from the input image
(which can be thought of as a grid). The objects in each region are then defined by bounding
boxes. A confidence score is computed because an object might be described by more than one
16/26
bounding box. The bounding box with the highest confidence score, or the best bounding box
to represent an object, is chosen and the other bounding boxes are eliminated from the image
in accordance with the computed confidence score.
YOLO-v1; Can only detect one object in a grid since only two bounding boxes can be
suggested for each grid. Small items are challenging to detect for the algorithm. There is a
significant level of localization mistake as compared to Faster R-CNN (the situation where the
algorithm detects which class it belongs to and is less successful in drawing a bounding box
than other models).
To address the aforementioned issues, Yolo - v2 architecture was developed.
Figure 10: YOLO-v1 layer structure [13].
YOLO-v2 uses anchor boxes to detect multiple objects in a grid. This allows for estimates
up to the number of anchor boxes identified for each grid. The YOLO-v2 design's most
significant feature, the abundance of anchor boxes and object identification, has solved the
greatest drawback of the YOLO-v1 architecture. Another benefit is that while it can recognize
very small items that the YOLO-v1 algorithm cannot, the YOLO-v1 drawbacks are solved with
this architecture because it can detect huge photographs of the same object.
17/26
Figure 11: YOLO-v2 layer structure [13].
YOLO-v3 is an incremental upgrade to the prior one. Since there are numerous object
detection algorithms and they have all been around for some time, the competition is on how
quickly and accurately things can be found. YOLO-v3 includes all the tools we want for
accurately detecting things in real-time and classifying them.
Figure 12: YOLO-v3 [13].
6.4 Damage Percentage Detection with DenseNet
Studies about DenseNet claim that the categorization using DenseNet has demonstrated
the accuracy of the final model [14]. Reusing features is the key benefit of DenseNet
architecture. Therefore, we will find the percentage of damage using the DenseNet model.
Theoretical information of DenseNet can be found below.
18/26
DenseNet is a type of convolutional neural network that makes use of dense connections
between layers by connecting all layers (with matching feature-map sizes) directly with one
another using Dense Blocks [15]. Each layer receives extra inputs from all earlier layers and
transmits its own feature-maps to all later layers in order to maintain the feed-forward character
of the system.
Figure 13: One Dense Block in DenseNet [16].
Each layer in DenseNet receives extra inputs from all levels that came before it and
transmits its own feature-maps to all layers that came after it. You utilize concatenation. Each
layer receives collective knowledge from the levels that came before it (Figure 11). Each layer
receives feature maps from all layers that came before it, allowing for a more compact and
thinner network with fewer channels. The extra number of channels for each layer is the growth
rate k (Figure 12). Therefore, it has higher memory and processing efficiency.
Figure 14: Dense Block in DenseNet with Growth Rate k [16].
19/26
7. PROFESSIONAL CONSIDERATIONS
7.1 Methodological considerations/engineering standards
We are going to use Git as our version control system and as a remote git repository we
are going to use a private Github repository. We will use Python to train our machine learning
models. We will use Tensorflow and Keras libraries along with Python in training. We will
also use Flask to develop an API to utilize our trained machine learning models. For
development of the DamageWiz application we will use C# along with .NET Core MVC.
PostgreSQL will be used as our relational database management system. Java will be used to
develop Android mobile applications for our project.
Tool Explanation Purpose
Version Control System Version our source codes
Remote Git Repository To store our source codes in
a remote place
Programming Language To implement Machine
Learning models
Machine Learning Library
for Python
To implement Machine
Learning models
Machine Learning Library
for Python
To implement Machine
Learning models
Micro Web Framework for
Python
To implement Machine
Learning models
Programming Language To implement DamageWiz
application
An advanced Web
Framework C#
To implement DamageWiz
application
Relational Database
Management System
To implement DamageWiz
application
Programming Language To implement android client
of DamageWiz application
Table 2: Technologies used.
20/26
7.2 Realistic Constraints
7.2.1 Economical
While training the machine learning models, we might need expensive GPUs or cloud
services. To deploy the DamageWiz application we will also need a Linux VPS which will cost
some money to us.
On the other hand, our project will minimize the cost of the damage assessment process.
Insurance companies will no longer need to pay experts for damage assessment.
We may also charge insurance companies some percentage to profit from the project.
7.2.2 Environmental
We can say that our project will reduce the air pollution a little because experts will not
need to travel with their cars for damage assessment.
7.2.3 Ethical
We will take Personal Data Protection Law (KVKK), General Data Protection Regulation
(GDPR) and any related regulation into account while training the machine learning models.
We will blur all personal information such as car plates, chassis numbers while generating our
dataset.
Also, in the DamageWiz application we will try to store as little information as possible
and comply with the related regulations.
7.2.4 Health and Safety
Our project is not related to health or safety in any way because we are detecting the
damages of cars and the cost of fixing.
7.2.5 Sustainability
As long as people drive cars, our project will survive. Because these cars will always get
damaged, and these damages will always be assessed.
21/26
7.2.6 Social
Our project will protect the accident victim in a fair way. Damage assessment will be done
with machine learning and the cost of repairment will be listed by the mechanics transparently.
We are trying to minimize possible misconducts by automatizing the process.
7.3 Legal Considerations
We should be careful not to put any personal information on GitHub because it is a private
company located outside of our country. Storing personal information in these kinds of
products may not comply with data regulations of our country.
Other development tools we are using are open-sourced software, so complying with their
licenses will not be a problem for us. During the generation of the dataset, we will blur the
plates of the cars to comply with KVKK.
8. MANAGEMENT PLAN
8.1 Description of Task Phases
Phase 1 - Literature Survey: Literature Survey of Faster R-CNN, TensorFlow YOLO
v3, Keras. Duration of phase 1 is five months.
1.1: Deep Learning algorithms for brand detection such as Faster-RCNN and
Tensorflow YOLO v3 will be researched.
1.2: Related works and studies will be analyzed and discussed.
1.3: Keras and its applications such as densenet will be studied for damage
assessment.
Phase 2 - Data Preparation: Dataset will be collected and designed well. Duration of
phase 2 is two months.
2.1: Dataset of damaged cars will be collected from insurance companies and
public resources on the internet.
2.2: Dataset of car brand logos will be collected from public resources on the
internet.
Phase 3 - Implementation of YOLO: Implementation of Tensorflow YOLO for
detection of the brand. Duration of phase 3 is one month.
3.1: Methods of algorithm will be applied.
3.2: Outcome of implementation will be analyzed and tested.
22/26
Phase 4 - Implementation of Keras: Implementation of Keras for damage assessment.
Duration of phase 4 is two months.
4.1: Selected applications of Keras such as densenet will be implemented.
4.2: Outcome of implementation will be analyzed and tested.
Phase 5 - Data Partitioning: Dataset will be separated for training and testing. They
will be applied on models. Models and their efficiency for our projects will be compared
to decide fitting models. Duration of phase 5 is one month.
Phase 6 - Web Application Development: Developing web application for the project.
Duration of phase 6 is two months.
6.1: Frontend of the website will be developed with HTML CSS and Bootstrap
library.
6.2: Backend of the website will be developed with MVC .NET Core and
PostgreSQL for database.
6.3: Marketplace for mechanic shops will be created.
Phase 7 - Mobile Application Development: Developing web-based Android mobile
application. Duration of phase 7 is two months.
7.1: Web application will be adapted to the android application of our project.
7.2: Java will be used for the mobile application development process.
Phase 8 - Testing and Deployment: Integration of the system parts. Testing and
observing all of the outcomes of the project:
- Testing of whether brand detection is working correctly or not.
- Testing of damage assessment and detection of damaged parts.
- Testing of damage percentage of the damaged parts.
- Testing of the product screen that will occur after damaged parts of the car
matches with products of mechanic shops. Database queries and different
scenarios will be tested.
- Other properties of website and mobile application tests will be done. Duration
of phase 8 is eight months.
8.2 Division of Responsibilities and Duties among Team Members
Distribution of work of each phase can be seen below in Table 3.
23/26
Table 3: Work Distribution of Team Members.
8.3 Timeline
Timeline of the project is shown below in Table 4. The duration of each phase can be seen
in terms of months.
Table 4: Gantt Chart of Timeline of the Project.
24/26
9. SUCCESS FACTORS AND RISK MANAGEMENT
9.1 Success Factors
‚óè Need to find out what the brand and model of the vehicle is with an
accuracy of 65%. F1-score will be used here to compute the accuracy.
‚óè The location of the damage should be detected with 70% accuracy from
the photos taken from the front, rear, left and right sides of the vehicle.
F1-score will be used here to compute the accuracy.
‚óè The damaged part must be matched with the model of the car with 70%
accuracy. F1-score will be used here to compute the accuracy.
‚óè It will be shown with 100% accuracy in which mechanics the found
damaged part is available.
‚óè The mechanics who have the materials will be shown 95% accuracy.
‚óè The application will have a sorting feature. It will sort the mechanics
from the cheapest one to the expensive and the nearest one to far with
100% success.
9.2 Risk Management
‚óè We may not be able to find properly labeled data:
In this case we will obtain the unlabeled data from an experts office and label
them ourselves. Also, to obey GDPR or KVKK laws we will need to blur the
plates of the cars.
‚óè We may not be able to detect the damaged car‚Äôs brand:
If we cannot detect the damaged car‚Äôs brand, users will select the brand
themselves in the application.
‚óè We may not be able to have enough data to train our model:
In this case we will apply data augmentation to our existing data to generate
more data. The new data will be actually the same data from before, but they
will be rotated, resized, or cropped.
10. BENEFITS AND IMPACT OF THE PROJECT
The biggest potential benefit of our project is to save users time and money. When our
project is completed, our project will be used by people who have had an accident and whose
25/26
car has been damaged. Our project will also benefit the mechanics. They will be able to find
their potential customers through the application.
10.1 Scientific Impact:
The project we are trying to do is not a totally new project. In our research, we have seen
projects that focused only on specific issues, such as brand detection or damage detection. Our
project will be more comprehensive. Therefore, it will be a continuation of an existing scientific
situation. It could be the subject of an article that we may write.
10.2 Economic/Commercial/Social Impact:
The project will not have a major economic impact, but it will save a lot of extra expense
personally. Instead of paying money for the expert on the determination of the damage, they
will be able to learn from the application for free. Also, it will prevent time wasting.
10.3 Potential Impact on New Projects:
This project is a continuation of existing projects. Similar studies have been done before.
Rather than being a pioneer, we can say that it can be a continuation of other projects and give
way for the newcomers.
10.4 Impact on National Security:
It will not affect any national security.
REFERENCES
[1] Kunduraci M. F., Kahramanli ornek, H. ‚ÄúVehicle Brand Detection Using Deep Learning
Algorithms‚Äù. International Journal of Applied Mathematics Electronics and Computers 7
(2019): 70-74.
[2] CarNet.AI [Date of Access: 27/11/2022] [https://carnet.ai/make-model-recognition-api].
[3] Tafazzoli F., Frigui H. ‚ÄúVehicle Make and Model Recognition Using Local Features and
Logo Detection‚Äù. International Symposium on Signal, Image, Video and Communications
(ISIVC) (2016): 353-358.
[4] Chua A. C. et al. ‚ÄúDamage Identification of Selected Car Parts Using Image Classification
and Deep Learning‚Äù. IEEE 13th International Conference on Humanoid, Nanotechnology,
Information Technology, Communication and Control, Environment, and Management
(HNICEM) (2021): 1-5.
26/26
[5] Volkan ozdemir, ‚ÄúCar Brand Logos‚Äù [Date of Access: 27/11/2022]
 [https://www.kaggle.com/datasets/volkandl/car-brand-logos].
[6] Filip Papranec, ‚Äúcar-logos-dataset‚Äù [Date of Access: 27/11/2022]
 [https://github.com/filippofilip95/car-logos-dataset].
[7] Hamza Manssor, ‚ÄúCar Damage Assessment‚Äù [Date of Access: 27/11/2022]
 [https://www.kaggle.com/datasets/hamzamanssor/car-damage-assessment].
[8] Lalu Prasad Lenka, ‚ÄúCoco Car Damage Detection Dataset‚Äù [Date of Access: 27/11/2022]
 [https://www.kaggle.com/datasets/lplenka/coco-car-damage-detection-dataset].
[9] Girshick R., Donahue J., Darrel T., Malik J. ‚ÄúRich feature hierarchies for accurate object
detection and semantic segmentation‚Äù. IEEE Conference on Computer Vision and Pattern
Recognition (2014): 580-587.
[10] Girshick R. ‚ÄúFast R-CNN‚Äù. IEEE International Conference on Computer Vision (ICCV)
(2015): 1440-1448.
[11] Ren S., He K., Girshick R., Sun J. ‚ÄúFaster R-CNN‚Äù. Proceedings of the 28th International
Conference on Neural Information Processing Systems - Volume 1 (2015): 91-99.
[12] Gandhi R. ‚ÄúR-CNN, Fast R-CNN, Faster R-CNN, YOLO ‚Äî Object Detection
Algorithms‚Äù [Date of Access: 15/11/2022] [https://towardsdatascience.com/r-cnn-fast-rcnn-faster-r-cnn-yolo-object-detection-algorithms-36d53571365e].
[13] Karakus H. V. ‚ÄúDarknet YOLOv3 hizli bakis‚Äù [Date of Access: 27/11/2022]
[https://medium.com/@karakus.haciveli/darknet-yolov3-h%C4%B1zl%C4%B1-
bak%C4%B1%C5%9F-ddc9cd5582ea].
[14] Pleiss G, Chen D, Huang G, Li T, Van Der Maaten L, Weinberger KQ ‚ÄúMemory-efficient
implementation of dense nets‚Äù CoRR (2017).
[15] Huang G., Liu Z., Maaten L., Weinberger K. Q. ‚ÄúDensely Connected Convolutional
Networks‚Äù. IEEE Conference on Computer Vision and Pattern Recognition (CVPR)
(2017): 2261-2269.
[16] Tsang S. ‚ÄúReview: DenseNet ‚Äî Dense Convolutional Network (Image Classification)‚Äù
[Date of Access: 11/11/2022].
 [https://towardsdatascience.com/review-densenet-image-classification-b6631a8ef803]INTERNATIONAL JOURNAL OF COMMUNICATION SYSTEMS
Int. J. Commun. Syst. 2007; 20:313‚Äì333
Published online 30 June 2006 in Wiley InterScience (www.interscience.wiley.com). DOI: 10.1002/dac.823
Priority-based adaptive routing in NGEO satellite networks
O¬®mer Korc¬∏ ak1,*
,y
, Fatih Alago¬®z
1,z
and Abbas Jamalipour2,}
1Computer Networks Research Laboratory (NETLAB), BogÀáazic-i University, Istanbul, Turkey
2
School of Electrical and Information Engineering, University of Sydney, Sydney, NSW 2006, Australia
SUMMARY
In a non-geostationary satellite constellation with inter satellite links (ISLs), there could be many shortest
paths between two satellites in terms of hop count. An efficient routing algorithm should effectively use
these paths in order to distribute traffic to ISLs in a balanced way and to improve the performance of the
system. This paper presents and evaluates a novel priority-based adaptive shortest path routing (PAR)
scheme in order to achieve this goal. PAR sets the path towards the destination in a distributed manner,
using a priority mechanism depending on the past utilization and buffering information of the ISLs.
Moreover, to avoid unnecessary splitting of a flow and to achieve better utilization of ISLs, enhanced PAR
(ePAR) scheme is proposed. This paper evaluates performance of the proposed techniques by employing
an extensive set of simulations. Furthermore, since there are a number of ePAR parameters that should be
adjusted depending on the network and traffic characteristics, a detailed analysis of ePAR scheme is
provided to form a framework for setting the parameters. This paper also includes a method for adaptation
of the proposed algorithms to minimum-delay path routing. Copyright # 2006 John Wiley & Sons, Ltd.
Received 5 January 2006; Revised 3 May 2006; Accepted 12 May 2006
KEY WORDS: non-geostationary satellite networks; routing; adaptive routing; load balancing; priority
mechanism
1. INTRODUCTION
With the rapid globalization of telecommunications industry, satellites are expected to widely
appear in future telecommunication systems, due to their capabilities such as extensive geographic
coverage, inherent multicast capabilities and support for mission-critical applications. Communications over satellites began with the use of individual satellites rotating on the Geostationary
Earth Orbit (GEO). However, high altitude of GEO satellites leads to high propagation delay and
this is not suitable for most applications (especially for real-time applications). Therefore, focus has
*Correspondence to: O¬®
. Korc¬∏ ak, Computer Networks Research Laboratory (NETLAB), BogÀáazic-i University,
Department of Computer Engineering, P.K. 2 TR-34342, Bebek, Istanbul, Turkey.
yE-mail: korcakom@cmpe.boun.edu.tr
zE-mail: alagoz@boun.edu.tr
}E-mail: a.jamalipour@ieee.org
Copyright # 2006 John Wiley & Sons, Ltd.
been directed towards development of non-geostationary (NGEO) systems consisting of Low
Earth Orbit (LEO) satellites and Medium Earth Orbit (MEO) satellites. For better utilization of
satellites and increasing the performance of the system, new NGEO systems usually support intersatellite links (ISLs) between satellites. The use of ISLs raises the issue of routing in the satellite
network. Employing an efficient routing protocol is a critical issue, since satellite network resources
are costly and must be managed in an optimal way. Unfortunately, mobility of satellites
complicates the routing issue in an NGEO satellite system; hence terrestrial routing algorithms are
not directly applicable in satellite networks. Satellite movements cause both the dynamicity of
network topology (variation in ISL lengths, etc.) and dynamicity of traffic passing over satellites. A
good routing algorithm should be adaptive to these dynamics.
It is important to note that changes in the network topology are periodic and predictable
because of the strict orbital movements of satellites. Therefore, it is reasonable to use this
periodicity feature while calculating routes. Dynamic Virtual Topology Routing (DVTR) [1] is
one of the most common routing methods that use the periodicity of the topology changes.
DVTR divides the system period into a set of time intervals, so that topology remains constant
over each interval. Time intervals are chosen to be short enough to assume that costs of ISLs are
fixed. Therefore optimal paths and alternate paths can be established using well-known methods
like Dijkstra‚Äôs shortest path algorithm. DVTR approach decreases the online computational
complexity with the expense of large storage requirements.
In a satellite network, routing decisions can be made offline or on-board. In the former case,
the routing algorithm could use information about predictable topology changes (such as
changes in the ISL lengths and connectivities), but it would not be adaptive to traffic load
changes. However, on-board routing algorithms yield better efficiency for dynamic traffic cases
with the expense of increased complexity. Several adaptive routing protocols that take the traffic
characteristics into account have been proposed for NGEO constellations. In Reference [2],
satellite constellation is modelled as a regular mesh and ISLs are assumed to have fixed length.
The work deals with adaptive routing with a limited set of alternative routes. However, there
may be many shortest paths (in terms of hop-count) in a mesh-like network which can be fully
utilized. Ekici et al. [3] propose the Datagram Routing Protocol, where ISLs are considered to
have variable length and each satellite decides on the neighbouring satellite to find the shortest
delay path. In this approach, a satellite may change its decision in case of excessive queue length;
however, it is desired to avoid congestion before it happens.
Since satellites cover smaller areas in low orbit systems, the traffic requirements are
unbalanced due to high population in cities, low at rural areas and almost no population over
the oceans which form 75 per cent of the earth‚Äôs surface. This may lead to congestion in some
resources, while others are under-utilized. To overcome this problem, the routing algorithm
should distribute the flows in balanced way over appropriate ISLs between the communicating
nodes. Considering this issue, Explicit Load Balancing (ELB) is proposed in Reference [4]. ELB
scheme is based on traffic load information at the next hop satellite on the remainder of the path
to destination. A congested satellite sends signals to its neighbouring satellites to decrease their
sending rates and its neighbours search for alternative paths in order to pass the extra burden to
less congested satellites. However, ELB does not give any solution for the case where alternative
paths are also congested. Moreover, it does not take any action for load balancing until some
nodes experience a level of congestion. There are also some flow-based routing algorithms that
aim balanced distribution of traffic flow to the network resources. Maximum-Flow MinimumResidual (MFMR) algorithm proposed in Reference [5] is a good example for the flow-based
O¬® 314 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
routing algorithms. MFMR tries to minimize maximum flow over a given set of shortest paths
and hence avoid congestion by achieving balanced distribution of traffic. The main drawback of
MFMR algorithm is that it implies knowledge of the flows over these paths and it does not
consider fast dynamic changes in the traffic flow over the given paths. Papapetrou et al. [6]
propose an Adaptive Flow Deviation algorithm which aims to balance the traffic load via a flow
deviation algorithm. This algorithm has also similar drawbacks as MFMR, and it implies high
signalling overhead and high complexity with no guarantee of performing better than the
simpler shortest path routing algorithms.
In this article, we propose an adaptive routing algorithm for satellite networks, namely
Priority-based Adaptive Routing (PAR) algorithm, which distributedly sets the minimum-hop
path towards a destination, and is more suitable for dynamic traffic. PAR takes the past
utilization and queuing information of links into account and aims to achieve more uniform
load distribution. In addition, we make an enhancement on PAR for better utilization of the
ISLs and propose ePAR. Using simulation results we show that the proposed techniques not
only increase throughput but also decrease delay. This paper is an extension of Reference [7] and
introduces adaptation of proposed techniques to minimum-delay path routing by incorporating
with DVTR. Furthermore, we present a detailed analysis of ePAR. Since there is a number of
parameters that should be adjusted properly, our analysis provides an opinion on the setting of
these parameters.
The remainder of this paper is organized as follows: In Section 2, the proposed adaptive
routing algorithms are presented. In Section 3, the considered network topology is illustrated
and implementation details of different routing algorithms are described. In Section 4, the
simulation environment, traffic model, and simulation results together with their interpretations
are presented. In Section 5, the analysis of ePAR is given in detail. Finally, this paper is
concluded in Section 6.
2. PROPOSED ADAPTIVE ROUTING ALGORITHMS
In the context of satellite constellations, we can define ‚Äòshortest path‚Äô in two ways: ‚Äòminimum
hop path‚Äô and ‚Äòminimum delay path‚Äô. In the former one, we do not consider the dynamic length
changes in ISLs and assume that ISLs are of fixed length. The shortest path is the one that
passes minimum number of hops. In the latter, we consider that the distance measure is the total
propagation delay and the length changes in ISLs should be taken into account. In the
literature, some of the proposed algorithms consider that a route that traverses less satellite
nodes is shorter and try to minimize average hop-count per transmission, while some others aim
to minimize average end-to-end delay. In this work, we consider the former case, i.e. our
proposed adaptive routing algorithms aim to use shorter paths in terms of hop-count. This is a
reasonable assumption for most of the constellation topologies. However, we also note that our
proposed algorithms can easily be adapted to ‚Äòminimum-delay path‚Äô case. We will examine this
case in the last part of this section.
2.1. Priority-based adaptive routing
Satellite networks are usually modelled as mesh-like networks. In a mesh-like network,
there might be many shortest paths between a source‚Äìdestination (s‚Äìd) pair, in terms of
PAR IN NGEO SATELLITE NETWORKS 315
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
hop-count. At each satellite node, more than one outgoing link could be on one of the
minimum hop path. Decision on sending the data from which of those links has an important
effect on the distribution of the traffic and utilization of ISLs. In the proposed algorithm,
the link to be used is decided by a priority mechanism depending on the past
utilization information about the links. We call this technique Priority-based Adaptive
Routing (PAR). The priority metric used for this purpose can be determined in various
ways. One simple possibility is to set it to the number of packets arrive to the link.
However, the congestion in a link is not only related with the number of arrivals to it.
For example among the links with same number of arrivals, the link with shorter queue
length may be favourable. Among other possibilities, we introduce the following as the
priority metric:
m ¬º a  nt √æ b  lq √æ d  nd √∞1√û
where nt
is the successfully transmitted data per second in the corresponding link, lq is the
average queue length, and nd is the dropped data per second. Each link has its own m value, and
it is updated depending on the changes in the traffic. Using this metric, traffic tends to distribute
the links in a more balanced way. Note that a, b and d are design parameters that should be
adjusted properly due to the traffic requirements and network topology.
2.2. Enhanced priority-based adaptive routing
It is important to note that most of the contentions occur between packets with different s‚Äìd
pairs. Therefore it would be better to switch packets with same s‚Äìd pairs to the same outgoing
link. This suggests that the performance of PAR algorithm may be enhanced by using the
following metric:
msd ¬º a  √∞nt  n
sd
t
√û √æ b  lq √æ d  nd √∞2√û
where n
sd
t
is the amount of transmitted packets corresponding to the s‚Äìd route, and msd is the
priority metric for traffic traversing on the s‚Äìd route. At the expense of increased complexity on
satellite nodes, better ISL utilization may be achieved by this technique. This technique is called
enhanced PAR (ePAR). We will describe results obtained by simulation for a considered
constellation topology and how the adjustment of a, b and d parameters in ePAR could affect
the performance of the system, in the following sections.
2.3. Aging mechanism
Considering that the latest utilization and buffering information is more important than
the older ones, an aging mechanism is needed while computing the priority metric.
One possibility is to take the average of the last t seconds. However this mechanism
has some drawbacks. Firstly, the information belonging to earlier times are also important
and ignoring them completely is not reasonable. Moreover, storing the information about
the last t seconds involves increased memory complexity. Therefore, we propose an aging
mechanism as follows:
We define an aging period with length ta
. At the beginning of each period, we store the
current m value in a variable called m
o
. Then satellite starts to collect utilization and
buffering information in a new variable called m
n
. At t0th time unit of a given period, m is
O¬® 316 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
calculated as follows:
m ¬º m
o
 1
t0
2ta
  √æ m
n

t0
2ta
  √∞3√û
Equation (3) is for PAR. For ePAR, it can be rewritten as
msd ¬º m
o
sd  1
t0
2ta
  √æ m
n
sd 
t0
2ta
  √∞4√û
2.4. Priority-based adaptive minimum-delay path routing
In this work, we consider a priority-based adaptive routing for satellite networks, aiming to
minimize hop-count. However, for some constellations, it could be more appropriate to consider
the amount of propagation delay instead of the hop count. In fact, one can also argue that better
definition of the ‚Äòshortest path‚Äô concept involves the sum of the total propagation delay and the
expected queuing delay (which is also related to the number of hops) that a packet would
experience from source to destination [8]. Since actual lengths of ISLs are not identical and they
dynamically change depending on the movement of satellites, it is somewhat challenging to
design a routing algorithm that cares about propagation delay. In this subsection, we will
examine how PAR can be extended for this purpose, and define PAR for Minimum Delay Path
Routing (PAR-MD).
As it was mentioned before, dynamic changes in the ISL lengths are predictable and
periodic due to the strict orbital movements of satellites. Therefore, some techniques
are proposed in order to use this periodicity property of the dynamic topology. Virtual Node
(VN) [9] and DVTR protocols are the most common ones. In VN technique, a fixed virtual
topology consisting of virtual nodes is superimposed over the physical topology in order to hide
the mobility of satellites from routing protocols. Each satellite corresponds to a VN at any given
time. As a satellite disappears over the horizon, its corresponding VN becomes represented by
the next satellite passing overhead and the state information (such as routing table entries) is
transferred to it. VN is not appropriate to use with PAR, because PAR uses the utilization and
buffering information of the physical satellites, not their corresponding virtual nodes. Therefore,
we will not deal with this technique in the rest of our work. On the other hand DVTR technique,
as mentioned before, divides the system period into N time intervals. During an interval i, the
topology is modelled as constant graph Gi
. Time intervals are short enough to define length of
ISLs as fixed. Then the shortest paths and alternative paths for each time interval can be set by
using well-known algorithms like Dijkstra‚Äôs shortest path algorithm. Then PAR-MD can use
these routes in order to find the most appropriate outgoing link of a given intermediate satellite,
for a given s‚Äìd traffic. We said that there could be many minimum hop paths between a s‚Äìd pair
in a satellite network. Therefore, in an intermediate satellite node, PAR was selecting the
outgoing link which was over a minimum hop path, and had the best priority. However, this is
not the case for minimum delay paths because of the spherical shape of the earth. Therefore, we
may consider k-shortest paths, or the paths that are not longer than the shortest path with a
given degree, while selecting appropriate outgoing link. In other words, an intermediate node
selects the outgoing link which is over one of these paths and has the best priority. In this case,
priority metric of a link may also include the length of short paths that pass over it. However,
this would require an extra complexity and overhead in satellite nodes.
PAR IN NGEO SATELLITE NETWORKS 317
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
3. SATELLITE NETWORK ARCHITECTURE AND ROUTING DETAILS
3.1. Network topology
In this work, we consider a polar LEO constellation similar to Teledesic, with 12 planes
and 24 satellites per plane at a height of 700 km. It is a p-constellation, where there is a
seam between satellites moving in opposite direction. Figure 1 shows the considered network
topology.
We assume that there is no ISL passing the seam. As shown in Figure 1, seam divides the
network into two parts and the satellites over the eastern hemisphere and the satellites over the
western hemisphere move in opposite directions. Hence, a data that originates from a location at
one hemisphere could be sent to a location in the other hemisphere, only by passing a pole.
Although this is an important drawback of p-constellations; it is not a critical factor in
dramatically affecting the performance of the proposed and tested routing techniques. In our
topology, seam passes over the Pacific and Atlantic oceans as shown with bold lines in Figure 2.
Due to complexity of the system parameters and to simplify the analysis we also assume that
satellites have disjoint footprints and dividing the earth into 12  24 terrestrial zones, as in
Figure 2, and each satellite sees one of these zones. Another assumption is made on the
handover mechanism, i.e. as the satellites move with angular velocity of 3.68 per minute, they
switch their zones in a discrete manner. Each zone is represented by Zx,y, where x 2 (0,11) and y
2 (0,23). x is the plane number of satellites passing over that zone, and y is defined as follows.
For western hemisphere, zones that are nearest to the northern pole have a y-value of zero.
Going to the south, y is incremented by one. At the eastern hemisphere y is 12 for the zones
nearest to the southern pole and going to the north, it is incremented by one.
Although more realistic scenarios could have been selected in the simulations, the potential of
our algorithms should remain the same.
Figure 1. Polar constellation topology with 12  24 nodes.
O¬® 318 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
3.2. Routing details
In a mesh network topology, as shown in Figure 1, there is more than one shortest path between
each source-destination pair (except if they are in same latitude or longitude) in terms of
hop-count. In the case of static routing, only one of these routes is utilized. If the adaptive
route is only set in the source node, as in Reference [2], this also does not yield a good utilization
of ISLs. However, routing techniques which also employ intermediate nodes for route
computation give better performance results. When a satellite receives a packet, it looks for its
destination node. If it is in the same latitude or longitude, there is only one direction to send (for
the shortest path). Otherwise, there are two possibilities. In that case, determining which
direction to send depends on the routing algorithm. For this purpose, we define four different
adaptive shortest path routing algorithms: Fixed Adaptive Routing (FAR), Random Adaptive
Routing (RAR), Priority-based Adaptive Routing (PAR), and Enhanced Priority-based
Adaptive Routing (ePAR). In this section, we first explain how to find the outgoing direction,
and then clarify these routing techniques.
3.2.1. Direction estimation. We define two variables: dirx 2 {East, West}, and diry 2 {South,
North}. Let us consider that a satellite node nc
, receives a packet with destination nd. Assuming
that nc
is over the zone Zxc,yc, and nd is over the zone Zxd,yd, determination of dirx and diry on
node nc
is done according to the pseudocode given in Figure 3. Note that, given direction
estimation process is specific for the considered mesh-like topology given in Figure 1. For any
other constellation topology, a specific direction estimation process should be determined
depending on the minimum-hop paths between satellite nodes.
Following the determination of directions, the next task is to determine which route to select
first. In this context, we may have various routing techniques.
Figure 2. Earth zone division, and user intensity levels on each zone [10]. Boldest lines show the location of
the seam in the satellite network.
PAR IN NGEO SATELLITE NETWORKS 319
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
3.2.2. Routing algorithms. In what follows, we define one static and four new adaptive shortest
path algorithms considered in this study:
1. Static Shortest Path Routing (STA): When a satellite receives a packet, it sends it in
y direction (South or North) if the satellite is not in the same latitude with the destination.
Otherwise, it sends in x direction (East or West). The established route consists of two
straight paths that first goes in y direction, and then in x direction (of course if s and d are
in different longitudes and latitudes).
2. Fixed Adaptive Routing (FAR): A satellite that receives a packet, always selects diry as the
initial direction. If diry is empty or ISL on that direction is busy, it tries dirx.
3. Random Adaptive Routing (RAR): Satellite randomly selects one of the diry or dirx. If it is
empty or ISL on that direction is busy, it tries the other direction.
4. Priority-based Adaptive Routing (PAR): Satellite checks m values for ISLs on both
directions. It selects one with less m value as initial direction. If the lSL on that direction is
busy, it tries the other.
5. Enhanced PAR (ePAR): Satellite checks the msd values for ISLs on both directions, where s
is the source node and d is the destination node of the packet. It selects the direction of the
ISL with less msd value as initial direction. If that ISL is busy, it tries the other.
else
diry = North
}
if xc = xd
dirx = {}
else if xc < xd
dirx = East
else if xc > xd
dirx = West
if yc = yd
diry = {};
else if yc < 12 AND yd < 12 {
if yc < yd
diry = South
else
diry = North
}
else if yc 12 AND yd >= 12 {
if yc > yd
diry = South
else
diry = North
}
else if yc < 12 AND yd 12 {
if (yd-yc) < (24-yd+yc)
diry = South
else
diry = North
}
else if yc 12 AND yd < 12 {
if (yc-yd) < (24-yc+yd)
diry = South
Figure 3. Algorithm for determining directions towards a destination.
O¬® 320 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
In all cases, we assume that ‚Äòthe ISL is busy‚Äô means it is transmitting a packet and its buffer is
full at that moment. Depending on the network characteristics, one may prefer to set a threshold
value for the buffer size, and consider the ISL as busy if its queue length exceeds this threshold
value. This is desirable especially for ISLs with high buffer capacities.
3.2.3. Contention resolution technique. Some contention resolution schemes are already defined
in the literature for the situations that two packets arrive to an ISL at the same time [11].
Random Packet Win (RPW), Oldest Packet Win (OPW), and Shortest Hop Win (SHW) are the
most common contention resolution techniques. In this work, we assume that SHW is utilized.
SHW favours the packets with the shortest hop distance to its destination node.
4. SIMULATIONS
4.1. Simulation setup
To test the performances of the proposed algorithms, we use an extensive set of simulations.
Simulation scenarios and system parameters are chosen to highlight the algorithm‚Äôs capability.
We simulate the constellation shown in Figure 1. It is a polar constellation with 12 x 24 satellites,
where there exists a seam. Satellites that are in the border of seam have three ISLs, since we
assume that there is no ISL over seam. Every other satellite has four ISLs. All satellites rotate on
their plane with an angular velocity of 3.68 per minute. This means that their corresponding
terrestrial zone changes at each 250 s. They complete their rotation in 100 min. For simplicity, all
ISLs are assumed to be identical (in terms of length and capacity) and their capacity is assumed to
be 0.16 Gbps. Each ISL has a buffer of size 40Mbytes. A packet size is assumed to be 1 Kbytes.
Therefore, ISL capacity and buffer size are considered as 20 000 and 40 000 packets, respectively.
4.2. Traffic model
Our traffic model is similar to the model considered in Reference [12]. It depends on the 2005
statistics about the user density levels per zone (Figure 2), Internet host density levels per
continent (Table I), and user activity levels per hour in percentage of the total traffic (Figure 4).
Let uxy be the user density of zone Zxy. We set the host density level of zone Zxy, hxy, as the
portion of total host density of its continent (Ci
) that is proportional with its user density
hxy ¬º hCi
 P
uxy
Zab2Ci
uab
√∞5√û
Table I. Internet Host Distribution By Continent (January 2005) [13].
Continent Number of hosts (hC) (x103
) Percentage
North America 223545.1 70.45
Europe 52947.1 16.69
Asia 28511.4 8.98
South America 6026.2 1.9
Oceania 5621.6 1.77
Africa 671.3 0.21
PAR IN NGEO SATELLITE NETWORKS 321
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
Chang et al. [15] suggests a traffic generating method depending on these densities. Traffic
requirement from zone Zxy to zone Ztk, T(xy,tk), is proportional with the user density in Zxy,
uxy, host density in Ztk, htk, and distance between these two zones
T√∞xy;tk√û ¬º
uxyhtk  y
√∞ √û dist√∞xy;tk√û
c
√∞6√û
In the simulations, we set y = 0.5 and c = 1.5 (as in Reference [12]). Depending on this traffic
requirement matrix, we model the traffic. We assume that, at a given hour h, the arrival of a
packet with source = Zxy and destination = Ztk is a Poisson process with rate l(xy,tk,h)
packets/second
l√∞xy;tk; h√û ¬º T√∞xy;tk√û
P
8Zab
P
8Zcd
T√∞ab; cd√û

ah
100 
A
3600 √∞7√û
where h is the current local hour and ah is the activity percentage in the corresponding hour (h),
that is given in Figure 4. Moreover, A is the aggregate traffic that represents total traffic
generated worldwide (packets per day).
4.3. Simulation results
We implemented all routing techniques based on the described network topology and the traffic
model given above. We developed our own simulator in C++. We tested the performance of
routing algorithms in terms of drop ratio and average queue length per link. Drop ratio is
defined as the ratio of dropped packets to the sum of dropped and successfully transmitted
packets, and average queue length is the ratio of the sum of the average number of packets in all
buffers to the number of ISLs.
We set the system parameters to the values shown in Table II. Best selection of the a, b and d
values depends on the traffic, and network characteristics. In the simulations, in order to avoid
complication, we simply decide to set these parameters as given in Table II, so that a  nt ranges
0
2
4
6
8
10
12
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24
Figure 4. User activity percentage per hour [14].
O¬® 322 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
between zero and one, and b  lq ranges between 0 and 2. Nevertheless, for various network and
traffic scenarios, the analysis provided in the next section could be utilized for improving system
performance.
Figure 5 shows the drop ratio versus A (in terms of terabit per day). As expected, Static
Routing performs the worst. FAR never provides a balanced distribution of traffic, therefore its
performance is worse than other adaptive routing techniques. It can be seen that priority-based
algorithms are the best in case of drop ratio. An important observation is that there is no
valuable difference between the performances of PAR and ePAR. This could be because the fact
that there are too many nodes, and hence too many source-destination pairs. In this case the
significance of channeling packets with same s‚Äìd pairs to same links is not evident. Moreover, as
number of nodes increase, the complexity of ePAR increases. Therefore, for the networks with
large number of nodes, PAR seems to be more suitable technique than ePAR. This suggests that
ePAR should be further investigated for MEO satellites.
Figure 6 illustrates the difference between queue lengths for different routing schemes. Static
Routing has the least queue lengths since most of the packets are dropped without being
buffered. Because, there is no alternative route for Static Routing; hence packets should not
have to wait anymore, if the link on the static route is busy. As the number of successfully
transmitted packets increase, we expect that the lengths of queues also increase because of the
high utilization of links (obtained result that illustrates the difference between queue lengths
for RAR and FAR meets our expectation). However, Figure 6 suggests that this is not the case
Table II. System Parameters.
Total Simulation time 1 day
Warm-up period 60 s
Aging period (t) 25 s
a 0.00005
b 0.00005
d 0.00005
0
0.05
0.1
0.15
0.2
0.25
100
Aggregate Traffic (Tb per day)
200 300 400 500 600 700
Drop Ratio
STA
FAR
RAR
PAR
ePAR
Figure 5. Drop ratio versus aggregate traffic for five different routing techniques.
PAR IN NGEO SATELLITE NETWORKS 323
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
for PAR and ePAR, and they outperform all other adaptive routing techniques in terms of
queue length. This is because priority-based techniques provide balanced distribution of traffic
among links, and more packets are successfully transmitted with less waiting times in queues.
This means that proposed priority-based adaptive routing schemes decrease end-to-end delay,
while increasing throughput.
Furthermore, we examine the performance behaviour in hour base. Figure 7 illustrates
generated traffic per hour (MAX), and successfully transmitted data (in Terabits) for each
routing algorithm. Results are for A = 400 Tbps. The base time is Greenwich Mean Time
(GMT). Two peaks are observed in the number of generated data. The first peak corresponds to
the time when it is daytime and user activities are in peak levels in Europe, and other
corresponds to the time when activities speed up in Northern America. In the second peak time,
performance difference between routing algorithms are more evident, whereas in the first peak
0
200
400
600
800
1000
1200
1400
1600
100 200 300 400 500 600 700
Avg Queue Length (packets)
STA
FAR
RAR
PAR
ePAR
Aggregate Traffic (Tb per day)
Figure 6. Average queue length versus aggregate traffic.
10
12
14
16
18
20
22
0 5 10 15 20 25
Hour (GMT)
Data (Terabit)
MAX
STA
FAR
RAR
PAR
EPAR
Figure 7. Successfully transmitted data (Tb) versus hour (GMT).
O¬® 324 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
time, all adaptive routing algorithms perform similarly. The reason for this may be due to the
traffic model. That is, for packets originating from Europe, there exist some factors that cause
packet drops regardless of which routing algorithm is used. For example, we observe that most
of the packets drops occur in the first hop. In other words, most of the packets received from the
terrestrial transmitters could not be passed to neighbouring satellite, since links in both
directions are busy. This condition could not be resolved by any shortest path routing
algorithm. A deflection routing algorithm could be utilized to overcome those cases.
5. ANALYSIS
This section includes an analysis of the ePAR algorithm, utilizing the mentioned aging
mechanism. Consider that a, b and d in Equation (2) denote the design parameters that should
be adjusted properly depending on the network characteristics. By the optimal selection of these
parameters, not only better load distribution can be achieved, but also traffic flows can be made
more stable. By stability, we mean avoiding the needless fluctuations due to redirection of all the
flows in a congested link, simultaneously. In this section, we will investigate how to set these
parameters to achieve more stable systems.
In our analysis, for the sake of simplicity, we assume that buffers are sufficiently large, hence
we ignore nd and Equation (2) is reduced to
msd ¬º a  √∞nt  n
sd
t
√û √æ b  lq √∞8√û
Defining a new variable nsd ¬º nt  n
sd
t
; equation (8) can be further reduced to:
msd ¬º a  nsd √æ b  lq √∞9√û
Note that, considering the aging mechanism in equation (4), nsd and lq can be calculated in same
manner as msd
nsd ¬º n
o
sd  1
t0
2ta
  √æ n
n
sd 
t0
2ta
  √∞10√û
lq ¬º l
o
q
 1
t0
2ta
  √æ l
n
q

t0
2ta
  √∞11√û
Suppose a satellite network in which arrival rate of an s‚Äìd flow is Poisson distributed with mean
1/l bps. We represent a flow with source x, and destination y with fxy. We consider a scenario,
where a new flow is participated to a link that is already utilized just below its capacity, and the
data arrival rate exceeds its capacity by the participation of the new flow.
We assume that the existing aggregate flow (Fe
) in a particular link has a rate ofX=l bps. A new
flow (fmn) with rate rmn=l is participated to the corresponding link. Note that the s‚Äìd pair of the
new flow is {m,n}. After the aggregation of the existing flow Fe
, and the new flow fmn, the total
arriving flow becomes √∞ √û X √æ rmn =l: Supposing that this value is greater than the link bandwidth,
B=l; total amount of traffic to serve is B=l and total flow to be blocked per second is √∞X √æ rmn
B√û=l: Assuming that the blocking probability for each flow is same, blocked portion of Fe will be
bF ¬º √∞X √æ rmn  B√û  1
l

X
X √æ rmn   √∞12√û
PAR IN NGEO SATELLITE NETWORKS 325
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
And the transmitted portion of Fe will be
tF ¬º
B
l

X
X √æ rmn   √∞13√û
For an s‚Äìd flow (a new flow or an existing flow), let us represent initial value of the nsd
(before the participation of new flow) with c
o
sd; and the value that nsd will converge is
represented with csd:
Since tF is the total transmitted data per second, except the portion corresponding to fmn, it is
cmn; the new value that nmn will converge
cmn ¬º
B
l

X
X √æ rmn   √∞14√û
Before the participation to the corresponding link, nmn was equal to the total transmitted data
in the link, since n
mn
t was zero. We represent the old value of nmn with c
o
mn
c
o
mn ¬º
X
l
√∞15√û
For any other flow fij that uses the same link (and hence that is a part of Fe
)
cij ¬º
B
l

X √æ rmn  rij
X √æ rmn   √∞16√û
where cij is the new value that nij will converge. The initial value for nij is determined by the
difference between total initial flow and the flow with source i and destination j
c
o
ij ¬º
X  rij
l
√∞17√û
Amount of blocked data continuously increases as time passes, and t seconds after the
participation of the new flow, length of queue becomes t  X √æ rmn  B=l; assuming that
the buffer is initially empty. Since we assume increment in queue length is linear, average queue
length between time t1 and t2
is
t1 √æ t2
2

X √æ rmn  B
l
For clear illustration, we represent increment in the queue length (per second) with a new
variable x
x ¬º
X √æ rmn  B
l
√∞18√û
Table III shows how nsd value and the queue length information changes after the
participation of new flow, fmn to the existing flow Fe
in a particular link. The effect of aging
mechanism is also considered. Let t15ta where ta denotes the length of aging period. Without
loss of generality, we consider that the participation of new flow occurred at the beginning of an
aging period. Note that, the equations given in Table III are valid for both the new flow and the
existing flows in the system.
We can find the sum of series that is included in Equation (20) in Table III
Xm
i¬º1
2i  1
2
mi
¬º
6
2
m
√æ 4m  6
O¬® 326 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
Therefore, Equation (20) is reduced to
lq ¬º
ta
4

6
2
m
√æ 4m  6
     1
t1
2ta
  √æ
2mta √æ t1
2
  
t1
2ta
   x √∞21√û
Figure 8 illustrates, how the nsd value changes, as time passes. A is the initial value for nsd,
namely c
o
sd; and B is the value that nsd converges, namely csd. nsd (ta) stands for nsd value at
time ta
.
Figure 9 illustrates the increment in the lq value with time. lq (ta) stands for the lq value at
time ta
. Even though the increment in the queue length is linear, the increment of lq is not linear
because of the effect of aging mechanism.
Table III. Changes in Utilization and Buffering Information with the Time.
Initially nsd ¬º c
o
sd
lq ¬º 0
After t1 s n
o
sd ¬º c
o
sd;n
n
sd ¬º csd; hence nsd ¬º c
o
sd  1
t1
2ta
  √æ csd 
t1
2ta

l
o
q ¬º 0;l
n
q ¬º
t1
2
 x; hence lq ¬º
t1
2
 x 
t1
2ta

After ta s nsd ¬º c
o
sd 
1
2
√æ csd 
1
2
lq ¬º
ta
2
2
 x
After ta+t1 s n
o
sd ¬º c
o
sd 
1
2
√æ csd 
1
2
;n
n
sd ¬º csd; hence nsd ¬º c
o
sd 
1
2
 1
t1
2ta
  √æ csd 
1
2
√æ
1
2

t1
2ta

l
o
q ¬º
ta
4
 x; l
n
q ¬º
2ta √æ t0
2
 x; hence lq ¬º
ta
4
 1
t0
2ta
  √æ
2ta √æ t0
2
  
t0
2ta
   x
After 2ta s nsd ¬º c
o
sd 
1
2
2
√æ csd  1
1
2
2

lq ¬º ta 
1
2
3
√æ 3ta 
1
2
2
   x
After mta s nsd ¬º c
o
sd 
1
2
m
√æ csd  1
1
2
m

lq ¬º ta 
1
2
m√æ1
√æ 3ta 
1
2
m
√æ 5ta 
1
2
m1
√æ√æ √∞ √û 2m  1  ta 
1
2
2
   x ¬º
ta
4

Xm
i¬º1
2i  1
2
mi
 !  x
After mta+t1 s nsd ¬º c
o
sd 
1
2
m
 1
t1
2ta
  √æ csd  1
1
2
m
√æ
1
2
m

t1
2ta
  √∞19√û
lq ¬º
ta
4

Xm
i¬º1
2i  1
2
mi
 !  1
t1
2ta
  √æ
2mta √æ t1
2
  
t1
2ta
 !  x √∞20√û
PAR IN NGEO SATELLITE NETWORKS 327
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
Figures 8 and 9 illustrate the case that no other new flow is participated and none of the flows
is redirected to another link. At some point, the corresponding link will become unfavoured for
the flows over that link, and redirections will occur. However, if all of the flows are redirected
continuously, it can lead to congestion in alternative link too. In that case, all of them will again
be redirected to this link, and this will lead to needless fluctuations and disruption of stability,
which will decrease the performance of the system. To avoid this scenario, we can redirect the
flows with smaller data rates first, by adjusting the ePAR parameters. If lq is too dominant for
determining priority metric, we cannot achieve this. Difference between priority metrics for two
flows fij and fkl on the corresponding link is determined by
jmij  mklj ¬º a  jnij  nklj √∞22√û
Figure 8. Illustration of Equation (19).
Figure 9. Illustration of Equation (21).
O¬® 328 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
The difference between nij and nkl values is
nij  nkl



 ¬º c
o
ij  c
o
kl





 
1
2
m
 1
t1
2ta
  √æ cij  ckl




 1
1
2
m
√æ
1
2
m

t1
2ta
  √∞23√û
Considering that {m,n} is the s‚Äìd pair of the newly participating flow fmn, for {i,j }={m,n} and
{k,l }={m,n} case, Equation (23) is reduced to
nij  nkl



 ¬º
rij  rkl
l





 
1
2
m
 1
t1
2ta
  √æ
B
l

rij  rkl
X √æ rmn








 1
1
2
m
√æ
1
2
m

t1
2ta

and it is equal to
nij  nkl



 ¬º
rij  rkl
l






1
2
m
 1
t1
2ta
  √æ
B
X √æ rmn
 1
1
2
m
√æ
1
2
m

t1
2ta
    √∞24√û
For sufficiently long aging periods, we can assume that redirections occur in first aging period,
hence m is equal to zero. Then Equation (24) is reduced to
nij  nkl



 ¬º
rij  rkl
l






1
t1
2ta
  √æ
B
X √æ rmn

t1
2ta
  √∞25√û
For the case that {k,l }={m,n}, Equation (23) reduces to following:
nij  nmn



 ¬º
rij
l





 
1
2
m
 1
t1
2ta
  √æ
B
l

rij  rmn
X √æ rmn








 1
1
2
m
√æ
1
2
m

t1
2ta

For m ¬º 0 case it is
nij  nmn



 ¬º
rij
l





  1
t1
2ta
  √æ
B
l

rij  rmn
X √æ rmn









t1
2ta
  √∞26√û
As it was mentioned before, lq should not be too dominant in determining priority
metric. This suggests that difference occur between priority metrics for two flows, with
reasonably distinct data rates, should be near to the change occur in b  lq value in a given
reasonable time td.
Again assuming that m ¬º 0; and initial lq value is zero, difference occured in the lq value in
time td
is the following
lq√∞td √û  lq√∞0√û ¬º t
2
d
4ta

X √æ rmn  B
l
√∞27√û
Now, we can set
a  nij√∞td √û  nkl√∞td √û



 ¬º b  lq√∞td √û  lq√∞0√û
  √∞28√û
where fij and fkl has reasonably distinct data rates, and td is chosen appropriately. If td is too
small, then system suffers from concurrent redirections. In the other case, if it is too large, then
the effect of queue length will be decreased in determination of the priority metric, and this can
decrease the performance of the system. If the data rate of Fe
is much higher than the data rate
of fmn, we can ignore the case that {k,l }={m,n}, and thus Equation (28) can be rewritten as
a
b
¬º
t
2
d
4ta

X √æ rmn  B
l
rij  rkl
l






1
td
2ta
  √æ
B
X √æ rmn

td
2ta
  √∞29√û
PAR IN NGEO SATELLITE NETWORKS 329
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
which reduces to
a
b
¬º
1
2

t
2
d
 √∞ √û X √æ rmn  B
rij  rkl




 √∞ √û 2ta  td √æ
B
X √æ rmn   √∞30√û
If we set the reasonable rate difference rij  rkl




to 0.5, Equation (30) reduces to:
a
b
¬º
t
2
d
 √∞ √û X √æ rmn  B
√∞ √û 2ta  td √æ
B
X √æ rmn   √∞31√û
Figure 10 illustrates the reasonable a=b values for different X values. Note that the y axis is
equal to zero in the case that the total flow does not exceed the link capacity after the
participation of new flow, and thus queue length does not increase (X ¬º B  rmn). In the case
that X ¬º B; the link was already fully utilized before the participation of new flow. At that
point, corresponding a=b is equal to R. From Equation (31), the value of R is found to be:
R ¬º
t
2
d
 rmn
√∞ √û 2ta  td √æ
B
B √æ rmn   √∞32√û
If the flow fmn is not partitioned to various links, the expected value for rmn is 1, and hence we
may reduce Equation (32) to the following:
R ¬º
t
2
d
√∞ √û 2ta  td √æ
B
B √æ 1
  √∞33√û
X ¬º B  rmn and X ¬º B are two extreme points for X, and a reasonable X value should be
chosen between these two values. For example, setting it to the mean value between B  rmn and
Figure 10. Illustration of Equation (31).
O¬® 330 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
B, that is B  √∞rmn=2√û (or B  0:5 if we set rmn ¬º 1), makes sense. The corresponding a=b value
will indicate possible selection of ePAR parameters for optimal performance. However, for
more accurate decision, actual traffic dynamics of particular networking scenario should be
taken into account.
Although the analysis given above may seem to be restricted with large buffer size and long
aging duration, it can be easily enhanced and adapted for a wider domain. Therefore, tailoring
this analysis for actual satellite constellations may be a worthy experiment for demonstrating its
great benefits.
6. CONCLUSIONS
In this paper, we propose two traffic-sensitive shortest path routing algorithms for
NGEO satellite networks, namely Priority-based Adaptive Routing (PAR) and enhanced
PAR (ePAR). In the first algorithm (PAR), rather than setting the route in the terrestrial nodes
or in a single satellite node, the route is set-up by making the decision of sending packet from
which outgoing link at each hop. The decision criterion is based on a priority mechanism, which
favours links that are relatively less utilized. The second algorithm (ePAR) is proposed to
further enhance the routing algorithm for providing channelling of packets with same source‚Äì
destination pairs to same links. The rationale behind this enhancement is that less contention
may occur between packets over same routes.
As part of the proposed algorithms, we introduce a new priority metric that includes some
design parameters. To achieve a higher system performance, we present a detailed analysis of
ePAR for adjusting the design parameters. Relying on the analysis and extensive sets of
simulation results, we show that the proposed algorithms not only increase the throughput and
link utilization, but also decrease the delay.
Although the proposed algorithms aim to set distributedly the minimum-hop path towards
the destination, they may as well be extended to handle the dynamics of ISL lengths and to
further minimize end-to-end delay, instead of minimizing number of hops. For this purpose, we
are currently working on combining ePAR with DVTR [1] to account for the periodicity feature
of the topology changes.
REFERENCES
1. Werner M. A dynamic routing concept for ATM based satellite personal communication networks. IEEE Journal on
Selected Areas in Communications 1997; 15(8):1636‚Äì1648.
2. Korc¬∏ ak O¬®
, Kaya I, C¬∏ alikli HG, Alago¬®z F. Performance evaluation of adaptive and static routing algorithms and
contention resolution techniques in LEO satellite constellations. IEEE Recent Advances in Space Technologies
RAST, Istanbul, Turkey, June 2005.
3. Ekici E, Akyildiz IF, Bender MD. A distributed routing algorithm for datagram traffic in LEO satellite networks.
IEEE/ACM Transactions on Networking 2001; 9(2):137‚Äì147.
4. Taleb T, Jamalipour A, Kato N, Nemoto Y. IP traffic load distribution in NGEO broadband satellite networks.
Lecture Notes i¬¥n Computer Science 2006; 3733:113‚Äì123.
5. Kucukates R, Ersoy C. High performance routing in a LEO satellite network. Proceedings of the IEEE ISCC,
Antalya, Turkey, 2003; 1403‚Äì1408.
6. Papapetrou E, Pavlidou F-N. A proposal of optimal routing techniques for non-GEO satellite systems. International
Journal of Wireless Information Networks 2001; 8(2):75‚Äì83.
7. Korc¬∏ ak O¬®
, Alago¬®z F. Priority-based adaptive shortest path routing in IP over LEO satellite networks. 23rd AIAA
International Communications Satelllite Systems Conference (ICSSC‚Äô05), Rome, Italy, September 2005.
PAR IN NGEO SATELLITE NETWORKS 331
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
8. Jianjun B, Xicheng L, Zexin L, Wei P. Compact explicit multi-path routing for low earth orbit satellite networks. In
Proceedings of IEEE Workshop on High Performance Switching and Routing, Hong Kong, People‚Äôs Republic of
China, May 2005.
9. Mauger R, Rosenberg C. QoS guarantees for multimedia services on a TDMA-based satellite network. IEEE
Communications Magazine 1997; 35(7):56‚Äì65.
10. Voilet MD. The development and application of a cost per minute metric of the evaluation of mobile satellite
systems in a limited-growth voice communications market. Master‚Äôs Thesis, MIT, 1995.
11. Sun J, Modiano E. Routing strategies for maximizing throughput in LEO satellite networks. IEEE Journal on
Selected Areas in Communications 2004; 22:273‚Äì286.
12. Chen C, Ekici E. A routing protocol for hierarchical LEO/MEO satellite IP networks. Wireless Networks 2005;
11(4):507‚Äì523.
13. Distribution of top-level domain names by host count Jan 2005. Internet System Consortium, http://www.isc.org
[cited: May 2005].
14. Perdigues J, Werner M, Karafolas K. Methodology for traffic analysis and ISL capacity dimensioning in broadband
satellite constellations using optical WDM networking. Proceedings of 19th AIAA International Communication
Satellite Systems Conference (ICSSC‚Äô01), Toulouse, France, April 2001.
15. Chang HS, Kim BW, Lee CG, Choi Y, Yang HS, Kim DN, Kim CS. Performance comparison of optimal routing
and dynamic routing in low-earth-orbit satellite networks. In Proceedings of IEEE Vehicular Technology Conference
(VTC), Atlanta, GA, 1996; 1240‚Äì1243.
AUTHORS‚Äô BIOGRAPHIES
O¬®mer Korc¬∏ ak is a researcher, working toward PhD degree in the Department of
Computer Engineering, BogÀáazic¬∏ i University, Turkey. He received his BSc and MSc
degrees in Computer Engineering from BogÀáazic¬∏ i university, in 2002 and 2004,
respectively. From 2002 to 2005, he worked as a teaching assistant in the same
department. He receives PhD scholarship from The Scientific and Technological
Research Council of Turkey. His main research interests include networking in
non-geostationary satellite systems with focus on routing and traffic engineering
issues and all-optical networking with focus on wavelength assignment in optical
burst switching networks.
Fatih Alago¬®z is an Associate Professor in the Department of Computer Engineering,
Bogazici University, Turkey. He is also affiliated with the Department of Electrical
Engineering, Harran University, Sanliurfa, Turkey. From 2001 to 2003, he was with
the Department of Electrical Engineering, United Arab Emirates University, AlAin,
UAE. In 1993, he was a Research Engineer in a missile manufacturing company,
Muhimmatsan AS, Turkey. He received the BSc degree in electrical engineering from
the METU, Turkey, in 1992, and MSc and DSc degrees in electrical engineering from
George Washington University, USA, in 1995 and 2000, respectively. His current
research interests are in the areas of satellite networks and wireless/mobile networks,
UWB communications. He has contributed/managed to seven research projects for
various agencies/organizations including US Army of Intelligence Center, Naval
Research Laboratory, TUBITAK, BAP, etc. He has edited five books and published more than 60
scholarly papers in selected journals and conferences. Dr Alagoz is the Satellite Systems Advisor to the
Kandilli Earthquake Research Institute, Istanbul, Turkey. He has served on several major conferences
technical committees, and organized and chaired many technical sessions in many international
conferences. He is a member of the IEEE Satellite and Space Communications Technical Committee.
He has numerous professional awards.
O¬® 332 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
Abbas Jamalipour is on the faculty of the School of Electrical and Information
Engineering at the University of Sydney, Australia, where he is responsible for
teaching and research in wireless data communication networks, wireless IP
networks, network security, and satellite systems. He holds a PhD in Electrical
Engineering from Nagoya University, Japan. He is the author for the first technical
book on networking aspects of wireless IP, The Wireless Mobile Internet}Architectures, Protocols and Services, John Wiley & Sons 2003. In addition, he has
authored another book on satellite communication networks with Artech House in
1998, coauthored five technical books, authored over 140 papers in major journals
and international conferences, and given short courses and tutorials in major
international conferences, all in the field of wireless telecommunications. Professor
Jamalipour is an IEEE Distinguished Lecturer; a Fellow Member of IEAust; a Senior Member of IEEE;
Chair of the Satellite and Space Communications Technical Committee; Vice Chair of the Communications Switching and Routing Technical Committee; and Vice Chair of the Asia Pacific Board, Coordinating
Committee Chapter, all IEEE Communications Society. He is the Editor-in-Chief of the IEEE Wireless
Communications Magazine, a technical editor of the IEEE Communications Magazine, and the Wiley
International Journal of Communication Systems. Currently he is the chair of the IEEE GLOBECOM2005
Wireless Communications Symposium, and a Co-Chair of symposiums at IEEE ICC2005, ICC2006,
ICC2007, and GLOBECOM2006, as well as a Vice-Chair of the IEEE WCNC2006.
PAR IN NGEO SATELLITE NETWORKS 333
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dacINTERNATIONAL JOURNAL OF COMMUNICATION SYSTEMS
Int. J. Commun. Syst. 2007; 20:313‚Äì333
Published online 30 June 2006 in Wiley InterScience (www.interscience.wiley.com). DOI: 10.1002/dac.823
Priority-based adaptive routing in NGEO satellite networks
O¬®mer Korc¬∏ ak1,*
,y
, Fatih Alago¬®z
1,z
and Abbas Jamalipour2,}
1Computer Networks Research Laboratory (NETLAB), BogÀáazic-i University, Istanbul, Turkey
2
School of Electrical and Information Engineering, University of Sydney, Sydney, NSW 2006, Australia
SUMMARY
In a non-geostationary satellite constellation with inter satellite links (ISLs), there could be many shortest
paths between two satellites in terms of hop count. An efficient routing algorithm should effectively use
these paths in order to distribute traffic to ISLs in a balanced way and to improve the performance of the
system. This paper presents and evaluates a novel priority-based adaptive shortest path routing (PAR)
scheme in order to achieve this goal. PAR sets the path towards the destination in a distributed manner,
using a priority mechanism depending on the past utilization and buffering information of the ISLs.
Moreover, to avoid unnecessary splitting of a flow and to achieve better utilization of ISLs, enhanced PAR
(ePAR) scheme is proposed. This paper evaluates performance of the proposed techniques by employing
an extensive set of simulations. Furthermore, since there are a number of ePAR parameters that should be
adjusted depending on the network and traffic characteristics, a detailed analysis of ePAR scheme is
provided to form a framework for setting the parameters. This paper also includes a method for adaptation
of the proposed algorithms to minimum-delay path routing. Copyright # 2006 John Wiley & Sons, Ltd.
Received 5 January 2006; Revised 3 May 2006; Accepted 12 May 2006
KEY WORDS: non-geostationary satellite networks; routing; adaptive routing; load balancing; priority
mechanism
1. INTRODUCTION
With the rapid globalization of telecommunications industry, satellites are expected to widely
appear in future telecommunication systems, due to their capabilities such as extensive geographic
coverage, inherent multicast capabilities and support for mission-critical applications. Communications over satellites began with the use of individual satellites rotating on the Geostationary
Earth Orbit (GEO). However, high altitude of GEO satellites leads to high propagation delay and
this is not suitable for most applications (especially for real-time applications). Therefore, focus has
*Correspondence to: O¬®
. Korc¬∏ ak, Computer Networks Research Laboratory (NETLAB), BogÀáazic-i University,
Department of Computer Engineering, P.K. 2 TR-34342, Bebek, Istanbul, Turkey.
yE-mail: korcakom@cmpe.boun.edu.tr
zE-mail: alagoz@boun.edu.tr
}E-mail: a.jamalipour@ieee.org
Copyright # 2006 John Wiley & Sons, Ltd.
been directed towards development of non-geostationary (NGEO) systems consisting of Low
Earth Orbit (LEO) satellites and Medium Earth Orbit (MEO) satellites. For better utilization of
satellites and increasing the performance of the system, new NGEO systems usually support intersatellite links (ISLs) between satellites. The use of ISLs raises the issue of routing in the satellite
network. Employing an efficient routing protocol is a critical issue, since satellite network resources
are costly and must be managed in an optimal way. Unfortunately, mobility of satellites
complicates the routing issue in an NGEO satellite system; hence terrestrial routing algorithms are
not directly applicable in satellite networks. Satellite movements cause both the dynamicity of
network topology (variation in ISL lengths, etc.) and dynamicity of traffic passing over satellites. A
good routing algorithm should be adaptive to these dynamics.
It is important to note that changes in the network topology are periodic and predictable
because of the strict orbital movements of satellites. Therefore, it is reasonable to use this
periodicity feature while calculating routes. Dynamic Virtual Topology Routing (DVTR) [1] is
one of the most common routing methods that use the periodicity of the topology changes.
DVTR divides the system period into a set of time intervals, so that topology remains constant
over each interval. Time intervals are chosen to be short enough to assume that costs of ISLs are
fixed. Therefore optimal paths and alternate paths can be established using well-known methods
like Dijkstra‚Äôs shortest path algorithm. DVTR approach decreases the online computational
complexity with the expense of large storage requirements.
In a satellite network, routing decisions can be made offline or on-board. In the former case,
the routing algorithm could use information about predictable topology changes (such as
changes in the ISL lengths and connectivities), but it would not be adaptive to traffic load
changes. However, on-board routing algorithms yield better efficiency for dynamic traffic cases
with the expense of increased complexity. Several adaptive routing protocols that take the traffic
characteristics into account have been proposed for NGEO constellations. In Reference [2],
satellite constellation is modelled as a regular mesh and ISLs are assumed to have fixed length.
The work deals with adaptive routing with a limited set of alternative routes. However, there
may be many shortest paths (in terms of hop-count) in a mesh-like network which can be fully
utilized. Ekici et al. [3] propose the Datagram Routing Protocol, where ISLs are considered to
have variable length and each satellite decides on the neighbouring satellite to find the shortest
delay path. In this approach, a satellite may change its decision in case of excessive queue length;
however, it is desired to avoid congestion before it happens.
Since satellites cover smaller areas in low orbit systems, the traffic requirements are
unbalanced due to high population in cities, low at rural areas and almost no population over
the oceans which form 75 per cent of the earth‚Äôs surface. This may lead to congestion in some
resources, while others are under-utilized. To overcome this problem, the routing algorithm
should distribute the flows in balanced way over appropriate ISLs between the communicating
nodes. Considering this issue, Explicit Load Balancing (ELB) is proposed in Reference [4]. ELB
scheme is based on traffic load information at the next hop satellite on the remainder of the path
to destination. A congested satellite sends signals to its neighbouring satellites to decrease their
sending rates and its neighbours search for alternative paths in order to pass the extra burden to
less congested satellites. However, ELB does not give any solution for the case where alternative
paths are also congested. Moreover, it does not take any action for load balancing until some
nodes experience a level of congestion. There are also some flow-based routing algorithms that
aim balanced distribution of traffic flow to the network resources. Maximum-Flow MinimumResidual (MFMR) algorithm proposed in Reference [5] is a good example for the flow-based
O¬® 314 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
routing algorithms. MFMR tries to minimize maximum flow over a given set of shortest paths
and hence avoid congestion by achieving balanced distribution of traffic. The main drawback of
MFMR algorithm is that it implies knowledge of the flows over these paths and it does not
consider fast dynamic changes in the traffic flow over the given paths. Papapetrou et al. [6]
propose an Adaptive Flow Deviation algorithm which aims to balance the traffic load via a flow
deviation algorithm. This algorithm has also similar drawbacks as MFMR, and it implies high
signalling overhead and high complexity with no guarantee of performing better than the
simpler shortest path routing algorithms.
In this article, we propose an adaptive routing algorithm for satellite networks, namely
Priority-based Adaptive Routing (PAR) algorithm, which distributedly sets the minimum-hop
path towards a destination, and is more suitable for dynamic traffic. PAR takes the past
utilization and queuing information of links into account and aims to achieve more uniform
load distribution. In addition, we make an enhancement on PAR for better utilization of the
ISLs and propose ePAR. Using simulation results we show that the proposed techniques not
only increase throughput but also decrease delay. This paper is an extension of Reference [7] and
introduces adaptation of proposed techniques to minimum-delay path routing by incorporating
with DVTR. Furthermore, we present a detailed analysis of ePAR. Since there is a number of
parameters that should be adjusted properly, our analysis provides an opinion on the setting of
these parameters.
The remainder of this paper is organized as follows: In Section 2, the proposed adaptive
routing algorithms are presented. In Section 3, the considered network topology is illustrated
and implementation details of different routing algorithms are described. In Section 4, the
simulation environment, traffic model, and simulation results together with their interpretations
are presented. In Section 5, the analysis of ePAR is given in detail. Finally, this paper is
concluded in Section 6.
2. PROPOSED ADAPTIVE ROUTING ALGORITHMS
In the context of satellite constellations, we can define ‚Äòshortest path‚Äô in two ways: ‚Äòminimum
hop path‚Äô and ‚Äòminimum delay path‚Äô. In the former one, we do not consider the dynamic length
changes in ISLs and assume that ISLs are of fixed length. The shortest path is the one that
passes minimum number of hops. In the latter, we consider that the distance measure is the total
propagation delay and the length changes in ISLs should be taken into account. In the
literature, some of the proposed algorithms consider that a route that traverses less satellite
nodes is shorter and try to minimize average hop-count per transmission, while some others aim
to minimize average end-to-end delay. In this work, we consider the former case, i.e. our
proposed adaptive routing algorithms aim to use shorter paths in terms of hop-count. This is a
reasonable assumption for most of the constellation topologies. However, we also note that our
proposed algorithms can easily be adapted to ‚Äòminimum-delay path‚Äô case. We will examine this
case in the last part of this section.
2.1. Priority-based adaptive routing
Satellite networks are usually modelled as mesh-like networks. In a mesh-like network,
there might be many shortest paths between a source‚Äìdestination (s‚Äìd) pair, in terms of
PAR IN NGEO SATELLITE NETWORKS 315
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
hop-count. At each satellite node, more than one outgoing link could be on one of the
minimum hop path. Decision on sending the data from which of those links has an important
effect on the distribution of the traffic and utilization of ISLs. In the proposed algorithm,
the link to be used is decided by a priority mechanism depending on the past
utilization information about the links. We call this technique Priority-based Adaptive
Routing (PAR). The priority metric used for this purpose can be determined in various
ways. One simple possibility is to set it to the number of packets arrive to the link.
However, the congestion in a link is not only related with the number of arrivals to it.
For example among the links with same number of arrivals, the link with shorter queue
length may be favourable. Among other possibilities, we introduce the following as the
priority metric:
m ¬º a  nt √æ b  lq √æ d  nd √∞1√û
where nt
is the successfully transmitted data per second in the corresponding link, lq is the
average queue length, and nd is the dropped data per second. Each link has its own m value, and
it is updated depending on the changes in the traffic. Using this metric, traffic tends to distribute
the links in a more balanced way. Note that a, b and d are design parameters that should be
adjusted properly due to the traffic requirements and network topology.
2.2. Enhanced priority-based adaptive routing
It is important to note that most of the contentions occur between packets with different s‚Äìd
pairs. Therefore it would be better to switch packets with same s‚Äìd pairs to the same outgoing
link. This suggests that the performance of PAR algorithm may be enhanced by using the
following metric:
msd ¬º a  √∞nt  n
sd
t
√û √æ b  lq √æ d  nd √∞2√û
where n
sd
t
is the amount of transmitted packets corresponding to the s‚Äìd route, and msd is the
priority metric for traffic traversing on the s‚Äìd route. At the expense of increased complexity on
satellite nodes, better ISL utilization may be achieved by this technique. This technique is called
enhanced PAR (ePAR). We will describe results obtained by simulation for a considered
constellation topology and how the adjustment of a, b and d parameters in ePAR could affect
the performance of the system, in the following sections.
2.3. Aging mechanism
Considering that the latest utilization and buffering information is more important than
the older ones, an aging mechanism is needed while computing the priority metric.
One possibility is to take the average of the last t seconds. However this mechanism
has some drawbacks. Firstly, the information belonging to earlier times are also important
and ignoring them completely is not reasonable. Moreover, storing the information about
the last t seconds involves increased memory complexity. Therefore, we propose an aging
mechanism as follows:
We define an aging period with length ta
. At the beginning of each period, we store the
current m value in a variable called m
o
. Then satellite starts to collect utilization and
buffering information in a new variable called m
n
. At t0th time unit of a given period, m is
O¬® 316 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
calculated as follows:
m ¬º m
o
 1
t0
2ta
  √æ m
n

t0
2ta
  √∞3√û
Equation (3) is for PAR. For ePAR, it can be rewritten as
msd ¬º m
o
sd  1
t0
2ta
  √æ m
n
sd 
t0
2ta
  √∞4√û
2.4. Priority-based adaptive minimum-delay path routing
In this work, we consider a priority-based adaptive routing for satellite networks, aiming to
minimize hop-count. However, for some constellations, it could be more appropriate to consider
the amount of propagation delay instead of the hop count. In fact, one can also argue that better
definition of the ‚Äòshortest path‚Äô concept involves the sum of the total propagation delay and the
expected queuing delay (which is also related to the number of hops) that a packet would
experience from source to destination [8]. Since actual lengths of ISLs are not identical and they
dynamically change depending on the movement of satellites, it is somewhat challenging to
design a routing algorithm that cares about propagation delay. In this subsection, we will
examine how PAR can be extended for this purpose, and define PAR for Minimum Delay Path
Routing (PAR-MD).
As it was mentioned before, dynamic changes in the ISL lengths are predictable and
periodic due to the strict orbital movements of satellites. Therefore, some techniques
are proposed in order to use this periodicity property of the dynamic topology. Virtual Node
(VN) [9] and DVTR protocols are the most common ones. In VN technique, a fixed virtual
topology consisting of virtual nodes is superimposed over the physical topology in order to hide
the mobility of satellites from routing protocols. Each satellite corresponds to a VN at any given
time. As a satellite disappears over the horizon, its corresponding VN becomes represented by
the next satellite passing overhead and the state information (such as routing table entries) is
transferred to it. VN is not appropriate to use with PAR, because PAR uses the utilization and
buffering information of the physical satellites, not their corresponding virtual nodes. Therefore,
we will not deal with this technique in the rest of our work. On the other hand DVTR technique,
as mentioned before, divides the system period into N time intervals. During an interval i, the
topology is modelled as constant graph Gi
. Time intervals are short enough to define length of
ISLs as fixed. Then the shortest paths and alternative paths for each time interval can be set by
using well-known algorithms like Dijkstra‚Äôs shortest path algorithm. Then PAR-MD can use
these routes in order to find the most appropriate outgoing link of a given intermediate satellite,
for a given s‚Äìd traffic. We said that there could be many minimum hop paths between a s‚Äìd pair
in a satellite network. Therefore, in an intermediate satellite node, PAR was selecting the
outgoing link which was over a minimum hop path, and had the best priority. However, this is
not the case for minimum delay paths because of the spherical shape of the earth. Therefore, we
may consider k-shortest paths, or the paths that are not longer than the shortest path with a
given degree, while selecting appropriate outgoing link. In other words, an intermediate node
selects the outgoing link which is over one of these paths and has the best priority. In this case,
priority metric of a link may also include the length of short paths that pass over it. However,
this would require an extra complexity and overhead in satellite nodes.
PAR IN NGEO SATELLITE NETWORKS 317
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
3. SATELLITE NETWORK ARCHITECTURE AND ROUTING DETAILS
3.1. Network topology
In this work, we consider a polar LEO constellation similar to Teledesic, with 12 planes
and 24 satellites per plane at a height of 700 km. It is a p-constellation, where there is a
seam between satellites moving in opposite direction. Figure 1 shows the considered network
topology.
We assume that there is no ISL passing the seam. As shown in Figure 1, seam divides the
network into two parts and the satellites over the eastern hemisphere and the satellites over the
western hemisphere move in opposite directions. Hence, a data that originates from a location at
one hemisphere could be sent to a location in the other hemisphere, only by passing a pole.
Although this is an important drawback of p-constellations; it is not a critical factor in
dramatically affecting the performance of the proposed and tested routing techniques. In our
topology, seam passes over the Pacific and Atlantic oceans as shown with bold lines in Figure 2.
Due to complexity of the system parameters and to simplify the analysis we also assume that
satellites have disjoint footprints and dividing the earth into 12  24 terrestrial zones, as in
Figure 2, and each satellite sees one of these zones. Another assumption is made on the
handover mechanism, i.e. as the satellites move with angular velocity of 3.68 per minute, they
switch their zones in a discrete manner. Each zone is represented by Zx,y, where x 2 (0,11) and y
2 (0,23). x is the plane number of satellites passing over that zone, and y is defined as follows.
For western hemisphere, zones that are nearest to the northern pole have a y-value of zero.
Going to the south, y is incremented by one. At the eastern hemisphere y is 12 for the zones
nearest to the southern pole and going to the north, it is incremented by one.
Although more realistic scenarios could have been selected in the simulations, the potential of
our algorithms should remain the same.
Figure 1. Polar constellation topology with 12  24 nodes.
O¬® 318 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
3.2. Routing details
In a mesh network topology, as shown in Figure 1, there is more than one shortest path between
each source-destination pair (except if they are in same latitude or longitude) in terms of
hop-count. In the case of static routing, only one of these routes is utilized. If the adaptive
route is only set in the source node, as in Reference [2], this also does not yield a good utilization
of ISLs. However, routing techniques which also employ intermediate nodes for route
computation give better performance results. When a satellite receives a packet, it looks for its
destination node. If it is in the same latitude or longitude, there is only one direction to send (for
the shortest path). Otherwise, there are two possibilities. In that case, determining which
direction to send depends on the routing algorithm. For this purpose, we define four different
adaptive shortest path routing algorithms: Fixed Adaptive Routing (FAR), Random Adaptive
Routing (RAR), Priority-based Adaptive Routing (PAR), and Enhanced Priority-based
Adaptive Routing (ePAR). In this section, we first explain how to find the outgoing direction,
and then clarify these routing techniques.
3.2.1. Direction estimation. We define two variables: dirx 2 {East, West}, and diry 2 {South,
North}. Let us consider that a satellite node nc
, receives a packet with destination nd. Assuming
that nc
is over the zone Zxc,yc, and nd is over the zone Zxd,yd, determination of dirx and diry on
node nc
is done according to the pseudocode given in Figure 3. Note that, given direction
estimation process is specific for the considered mesh-like topology given in Figure 1. For any
other constellation topology, a specific direction estimation process should be determined
depending on the minimum-hop paths between satellite nodes.
Following the determination of directions, the next task is to determine which route to select
first. In this context, we may have various routing techniques.
Figure 2. Earth zone division, and user intensity levels on each zone [10]. Boldest lines show the location of
the seam in the satellite network.
PAR IN NGEO SATELLITE NETWORKS 319
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
3.2.2. Routing algorithms. In what follows, we define one static and four new adaptive shortest
path algorithms considered in this study:
1. Static Shortest Path Routing (STA): When a satellite receives a packet, it sends it in
y direction (South or North) if the satellite is not in the same latitude with the destination.
Otherwise, it sends in x direction (East or West). The established route consists of two
straight paths that first goes in y direction, and then in x direction (of course if s and d are
in different longitudes and latitudes).
2. Fixed Adaptive Routing (FAR): A satellite that receives a packet, always selects diry as the
initial direction. If diry is empty or ISL on that direction is busy, it tries dirx.
3. Random Adaptive Routing (RAR): Satellite randomly selects one of the diry or dirx. If it is
empty or ISL on that direction is busy, it tries the other direction.
4. Priority-based Adaptive Routing (PAR): Satellite checks m values for ISLs on both
directions. It selects one with less m value as initial direction. If the lSL on that direction is
busy, it tries the other.
5. Enhanced PAR (ePAR): Satellite checks the msd values for ISLs on both directions, where s
is the source node and d is the destination node of the packet. It selects the direction of the
ISL with less msd value as initial direction. If that ISL is busy, it tries the other.
else
diry = North
}
if xc = xd
dirx = {}
else if xc < xd
dirx = East
else if xc > xd
dirx = West
if yc = yd
diry = {};
else if yc < 12 AND yd < 12 {
if yc < yd
diry = South
else
diry = North
}
else if yc 12 AND yd >= 12 {
if yc > yd
diry = South
else
diry = North
}
else if yc < 12 AND yd 12 {
if (yd-yc) < (24-yd+yc)
diry = South
else
diry = North
}
else if yc 12 AND yd < 12 {
if (yc-yd) < (24-yc+yd)
diry = South
Figure 3. Algorithm for determining directions towards a destination.
O¬® 320 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
In all cases, we assume that ‚Äòthe ISL is busy‚Äô means it is transmitting a packet and its buffer is
full at that moment. Depending on the network characteristics, one may prefer to set a threshold
value for the buffer size, and consider the ISL as busy if its queue length exceeds this threshold
value. This is desirable especially for ISLs with high buffer capacities.
3.2.3. Contention resolution technique. Some contention resolution schemes are already defined
in the literature for the situations that two packets arrive to an ISL at the same time [11].
Random Packet Win (RPW), Oldest Packet Win (OPW), and Shortest Hop Win (SHW) are the
most common contention resolution techniques. In this work, we assume that SHW is utilized.
SHW favours the packets with the shortest hop distance to its destination node.
4. SIMULATIONS
4.1. Simulation setup
To test the performances of the proposed algorithms, we use an extensive set of simulations.
Simulation scenarios and system parameters are chosen to highlight the algorithm‚Äôs capability.
We simulate the constellation shown in Figure 1. It is a polar constellation with 12 x 24 satellites,
where there exists a seam. Satellites that are in the border of seam have three ISLs, since we
assume that there is no ISL over seam. Every other satellite has four ISLs. All satellites rotate on
their plane with an angular velocity of 3.68 per minute. This means that their corresponding
terrestrial zone changes at each 250 s. They complete their rotation in 100 min. For simplicity, all
ISLs are assumed to be identical (in terms of length and capacity) and their capacity is assumed to
be 0.16 Gbps. Each ISL has a buffer of size 40Mbytes. A packet size is assumed to be 1 Kbytes.
Therefore, ISL capacity and buffer size are considered as 20 000 and 40 000 packets, respectively.
4.2. Traffic model
Our traffic model is similar to the model considered in Reference [12]. It depends on the 2005
statistics about the user density levels per zone (Figure 2), Internet host density levels per
continent (Table I), and user activity levels per hour in percentage of the total traffic (Figure 4).
Let uxy be the user density of zone Zxy. We set the host density level of zone Zxy, hxy, as the
portion of total host density of its continent (Ci
) that is proportional with its user density
hxy ¬º hCi
 P
uxy
Zab2Ci
uab
√∞5√û
Table I. Internet Host Distribution By Continent (January 2005) [13].
Continent Number of hosts (hC) (x103
) Percentage
North America 223545.1 70.45
Europe 52947.1 16.69
Asia 28511.4 8.98
South America 6026.2 1.9
Oceania 5621.6 1.77
Africa 671.3 0.21
PAR IN NGEO SATELLITE NETWORKS 321
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
Chang et al. [15] suggests a traffic generating method depending on these densities. Traffic
requirement from zone Zxy to zone Ztk, T(xy,tk), is proportional with the user density in Zxy,
uxy, host density in Ztk, htk, and distance between these two zones
T√∞xy;tk√û ¬º
uxyhtk  y
√∞ √û dist√∞xy;tk√û
c
√∞6√û
In the simulations, we set y = 0.5 and c = 1.5 (as in Reference [12]). Depending on this traffic
requirement matrix, we model the traffic. We assume that, at a given hour h, the arrival of a
packet with source = Zxy and destination = Ztk is a Poisson process with rate l(xy,tk,h)
packets/second
l√∞xy;tk; h√û ¬º T√∞xy;tk√û
P
8Zab
P
8Zcd
T√∞ab; cd√û

ah
100 
A
3600 √∞7√û
where h is the current local hour and ah is the activity percentage in the corresponding hour (h),
that is given in Figure 4. Moreover, A is the aggregate traffic that represents total traffic
generated worldwide (packets per day).
4.3. Simulation results
We implemented all routing techniques based on the described network topology and the traffic
model given above. We developed our own simulator in C++. We tested the performance of
routing algorithms in terms of drop ratio and average queue length per link. Drop ratio is
defined as the ratio of dropped packets to the sum of dropped and successfully transmitted
packets, and average queue length is the ratio of the sum of the average number of packets in all
buffers to the number of ISLs.
We set the system parameters to the values shown in Table II. Best selection of the a, b and d
values depends on the traffic, and network characteristics. In the simulations, in order to avoid
complication, we simply decide to set these parameters as given in Table II, so that a  nt ranges
0
2
4
6
8
10
12
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24
Figure 4. User activity percentage per hour [14].
O¬® 322 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
between zero and one, and b  lq ranges between 0 and 2. Nevertheless, for various network and
traffic scenarios, the analysis provided in the next section could be utilized for improving system
performance.
Figure 5 shows the drop ratio versus A (in terms of terabit per day). As expected, Static
Routing performs the worst. FAR never provides a balanced distribution of traffic, therefore its
performance is worse than other adaptive routing techniques. It can be seen that priority-based
algorithms are the best in case of drop ratio. An important observation is that there is no
valuable difference between the performances of PAR and ePAR. This could be because the fact
that there are too many nodes, and hence too many source-destination pairs. In this case the
significance of channeling packets with same s‚Äìd pairs to same links is not evident. Moreover, as
number of nodes increase, the complexity of ePAR increases. Therefore, for the networks with
large number of nodes, PAR seems to be more suitable technique than ePAR. This suggests that
ePAR should be further investigated for MEO satellites.
Figure 6 illustrates the difference between queue lengths for different routing schemes. Static
Routing has the least queue lengths since most of the packets are dropped without being
buffered. Because, there is no alternative route for Static Routing; hence packets should not
have to wait anymore, if the link on the static route is busy. As the number of successfully
transmitted packets increase, we expect that the lengths of queues also increase because of the
high utilization of links (obtained result that illustrates the difference between queue lengths
for RAR and FAR meets our expectation). However, Figure 6 suggests that this is not the case
Table II. System Parameters.
Total Simulation time 1 day
Warm-up period 60 s
Aging period (t) 25 s
a 0.00005
b 0.00005
d 0.00005
0
0.05
0.1
0.15
0.2
0.25
100
Aggregate Traffic (Tb per day)
200 300 400 500 600 700
Drop Ratio
STA
FAR
RAR
PAR
ePAR
Figure 5. Drop ratio versus aggregate traffic for five different routing techniques.
PAR IN NGEO SATELLITE NETWORKS 323
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
for PAR and ePAR, and they outperform all other adaptive routing techniques in terms of
queue length. This is because priority-based techniques provide balanced distribution of traffic
among links, and more packets are successfully transmitted with less waiting times in queues.
This means that proposed priority-based adaptive routing schemes decrease end-to-end delay,
while increasing throughput.
Furthermore, we examine the performance behaviour in hour base. Figure 7 illustrates
generated traffic per hour (MAX), and successfully transmitted data (in Terabits) for each
routing algorithm. Results are for A = 400 Tbps. The base time is Greenwich Mean Time
(GMT). Two peaks are observed in the number of generated data. The first peak corresponds to
the time when it is daytime and user activities are in peak levels in Europe, and other
corresponds to the time when activities speed up in Northern America. In the second peak time,
performance difference between routing algorithms are more evident, whereas in the first peak
0
200
400
600
800
1000
1200
1400
1600
100 200 300 400 500 600 700
Avg Queue Length (packets)
STA
FAR
RAR
PAR
ePAR
Aggregate Traffic (Tb per day)
Figure 6. Average queue length versus aggregate traffic.
10
12
14
16
18
20
22
0 5 10 15 20 25
Hour (GMT)
Data (Terabit)
MAX
STA
FAR
RAR
PAR
EPAR
Figure 7. Successfully transmitted data (Tb) versus hour (GMT).
O¬® 324 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
time, all adaptive routing algorithms perform similarly. The reason for this may be due to the
traffic model. That is, for packets originating from Europe, there exist some factors that cause
packet drops regardless of which routing algorithm is used. For example, we observe that most
of the packets drops occur in the first hop. In other words, most of the packets received from the
terrestrial transmitters could not be passed to neighbouring satellite, since links in both
directions are busy. This condition could not be resolved by any shortest path routing
algorithm. A deflection routing algorithm could be utilized to overcome those cases.
5. ANALYSIS
This section includes an analysis of the ePAR algorithm, utilizing the mentioned aging
mechanism. Consider that a, b and d in Equation (2) denote the design parameters that should
be adjusted properly depending on the network characteristics. By the optimal selection of these
parameters, not only better load distribution can be achieved, but also traffic flows can be made
more stable. By stability, we mean avoiding the needless fluctuations due to redirection of all the
flows in a congested link, simultaneously. In this section, we will investigate how to set these
parameters to achieve more stable systems.
In our analysis, for the sake of simplicity, we assume that buffers are sufficiently large, hence
we ignore nd and Equation (2) is reduced to
msd ¬º a  √∞nt  n
sd
t
√û √æ b  lq √∞8√û
Defining a new variable nsd ¬º nt  n
sd
t
; equation (8) can be further reduced to:
msd ¬º a  nsd √æ b  lq √∞9√û
Note that, considering the aging mechanism in equation (4), nsd and lq can be calculated in same
manner as msd
nsd ¬º n
o
sd  1
t0
2ta
  √æ n
n
sd 
t0
2ta
  √∞10√û
lq ¬º l
o
q
 1
t0
2ta
  √æ l
n
q

t0
2ta
  √∞11√û
Suppose a satellite network in which arrival rate of an s‚Äìd flow is Poisson distributed with mean
1/l bps. We represent a flow with source x, and destination y with fxy. We consider a scenario,
where a new flow is participated to a link that is already utilized just below its capacity, and the
data arrival rate exceeds its capacity by the participation of the new flow.
We assume that the existing aggregate flow (Fe
) in a particular link has a rate ofX=l bps. A new
flow (fmn) with rate rmn=l is participated to the corresponding link. Note that the s‚Äìd pair of the
new flow is {m,n}. After the aggregation of the existing flow Fe
, and the new flow fmn, the total
arriving flow becomes √∞ √û X √æ rmn =l: Supposing that this value is greater than the link bandwidth,
B=l; total amount of traffic to serve is B=l and total flow to be blocked per second is √∞X √æ rmn
B√û=l: Assuming that the blocking probability for each flow is same, blocked portion of Fe will be
bF ¬º √∞X √æ rmn  B√û  1
l

X
X √æ rmn   √∞12√û
PAR IN NGEO SATELLITE NETWORKS 325
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
And the transmitted portion of Fe will be
tF ¬º
B
l

X
X √æ rmn   √∞13√û
For an s‚Äìd flow (a new flow or an existing flow), let us represent initial value of the nsd
(before the participation of new flow) with c
o
sd; and the value that nsd will converge is
represented with csd:
Since tF is the total transmitted data per second, except the portion corresponding to fmn, it is
cmn; the new value that nmn will converge
cmn ¬º
B
l

X
X √æ rmn   √∞14√û
Before the participation to the corresponding link, nmn was equal to the total transmitted data
in the link, since n
mn
t was zero. We represent the old value of nmn with c
o
mn
c
o
mn ¬º
X
l
√∞15√û
For any other flow fij that uses the same link (and hence that is a part of Fe
)
cij ¬º
B
l

X √æ rmn  rij
X √æ rmn   √∞16√û
where cij is the new value that nij will converge. The initial value for nij is determined by the
difference between total initial flow and the flow with source i and destination j
c
o
ij ¬º
X  rij
l
√∞17√û
Amount of blocked data continuously increases as time passes, and t seconds after the
participation of the new flow, length of queue becomes t  X √æ rmn  B=l; assuming that
the buffer is initially empty. Since we assume increment in queue length is linear, average queue
length between time t1 and t2
is
t1 √æ t2
2

X √æ rmn  B
l
For clear illustration, we represent increment in the queue length (per second) with a new
variable x
x ¬º
X √æ rmn  B
l
√∞18√û
Table III shows how nsd value and the queue length information changes after the
participation of new flow, fmn to the existing flow Fe
in a particular link. The effect of aging
mechanism is also considered. Let t15ta where ta denotes the length of aging period. Without
loss of generality, we consider that the participation of new flow occurred at the beginning of an
aging period. Note that, the equations given in Table III are valid for both the new flow and the
existing flows in the system.
We can find the sum of series that is included in Equation (20) in Table III
Xm
i¬º1
2i  1
2
mi
¬º
6
2
m
√æ 4m  6
O¬® 326 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
Therefore, Equation (20) is reduced to
lq ¬º
ta
4

6
2
m
√æ 4m  6
     1
t1
2ta
  √æ
2mta √æ t1
2
  
t1
2ta
   x √∞21√û
Figure 8 illustrates, how the nsd value changes, as time passes. A is the initial value for nsd,
namely c
o
sd; and B is the value that nsd converges, namely csd. nsd (ta) stands for nsd value at
time ta
.
Figure 9 illustrates the increment in the lq value with time. lq (ta) stands for the lq value at
time ta
. Even though the increment in the queue length is linear, the increment of lq is not linear
because of the effect of aging mechanism.
Table III. Changes in Utilization and Buffering Information with the Time.
Initially nsd ¬º c
o
sd
lq ¬º 0
After t1 s n
o
sd ¬º c
o
sd;n
n
sd ¬º csd; hence nsd ¬º c
o
sd  1
t1
2ta
  √æ csd 
t1
2ta

l
o
q ¬º 0;l
n
q ¬º
t1
2
 x; hence lq ¬º
t1
2
 x 
t1
2ta

After ta s nsd ¬º c
o
sd 
1
2
√æ csd 
1
2
lq ¬º
ta
2
2
 x
After ta+t1 s n
o
sd ¬º c
o
sd 
1
2
√æ csd 
1
2
;n
n
sd ¬º csd; hence nsd ¬º c
o
sd 
1
2
 1
t1
2ta
  √æ csd 
1
2
√æ
1
2

t1
2ta

l
o
q ¬º
ta
4
 x; l
n
q ¬º
2ta √æ t0
2
 x; hence lq ¬º
ta
4
 1
t0
2ta
  √æ
2ta √æ t0
2
  
t0
2ta
   x
After 2ta s nsd ¬º c
o
sd 
1
2
2
√æ csd  1
1
2
2

lq ¬º ta 
1
2
3
√æ 3ta 
1
2
2
   x
After mta s nsd ¬º c
o
sd 
1
2
m
√æ csd  1
1
2
m

lq ¬º ta 
1
2
m√æ1
√æ 3ta 
1
2
m
√æ 5ta 
1
2
m1
√æ√æ √∞ √û 2m  1  ta 
1
2
2
   x ¬º
ta
4

Xm
i¬º1
2i  1
2
mi
 !  x
After mta+t1 s nsd ¬º c
o
sd 
1
2
m
 1
t1
2ta
  √æ csd  1
1
2
m
√æ
1
2
m

t1
2ta
  √∞19√û
lq ¬º
ta
4

Xm
i¬º1
2i  1
2
mi
 !  1
t1
2ta
  √æ
2mta √æ t1
2
  
t1
2ta
 !  x √∞20√û
PAR IN NGEO SATELLITE NETWORKS 327
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
Figures 8 and 9 illustrate the case that no other new flow is participated and none of the flows
is redirected to another link. At some point, the corresponding link will become unfavoured for
the flows over that link, and redirections will occur. However, if all of the flows are redirected
continuously, it can lead to congestion in alternative link too. In that case, all of them will again
be redirected to this link, and this will lead to needless fluctuations and disruption of stability,
which will decrease the performance of the system. To avoid this scenario, we can redirect the
flows with smaller data rates first, by adjusting the ePAR parameters. If lq is too dominant for
determining priority metric, we cannot achieve this. Difference between priority metrics for two
flows fij and fkl on the corresponding link is determined by
jmij  mklj ¬º a  jnij  nklj √∞22√û
Figure 8. Illustration of Equation (19).
Figure 9. Illustration of Equation (21).
O¬® 328 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
The difference between nij and nkl values is
nij  nkl



 ¬º c
o
ij  c
o
kl





 
1
2
m
 1
t1
2ta
  √æ cij  ckl




 1
1
2
m
√æ
1
2
m

t1
2ta
  √∞23√û
Considering that {m,n} is the s‚Äìd pair of the newly participating flow fmn, for {i,j }={m,n} and
{k,l }={m,n} case, Equation (23) is reduced to
nij  nkl



 ¬º
rij  rkl
l





 
1
2
m
 1
t1
2ta
  √æ
B
l

rij  rkl
X √æ rmn








 1
1
2
m
√æ
1
2
m

t1
2ta

and it is equal to
nij  nkl



 ¬º
rij  rkl
l






1
2
m
 1
t1
2ta
  √æ
B
X √æ rmn
 1
1
2
m
√æ
1
2
m

t1
2ta
    √∞24√û
For sufficiently long aging periods, we can assume that redirections occur in first aging period,
hence m is equal to zero. Then Equation (24) is reduced to
nij  nkl



 ¬º
rij  rkl
l






1
t1
2ta
  √æ
B
X √æ rmn

t1
2ta
  √∞25√û
For the case that {k,l }={m,n}, Equation (23) reduces to following:
nij  nmn



 ¬º
rij
l





 
1
2
m
 1
t1
2ta
  √æ
B
l

rij  rmn
X √æ rmn








 1
1
2
m
√æ
1
2
m

t1
2ta

For m ¬º 0 case it is
nij  nmn



 ¬º
rij
l





  1
t1
2ta
  √æ
B
l

rij  rmn
X √æ rmn









t1
2ta
  √∞26√û
As it was mentioned before, lq should not be too dominant in determining priority
metric. This suggests that difference occur between priority metrics for two flows, with
reasonably distinct data rates, should be near to the change occur in b  lq value in a given
reasonable time td.
Again assuming that m ¬º 0; and initial lq value is zero, difference occured in the lq value in
time td
is the following
lq√∞td √û  lq√∞0√û ¬º t
2
d
4ta

X √æ rmn  B
l
√∞27√û
Now, we can set
a  nij√∞td √û  nkl√∞td √û



 ¬º b  lq√∞td √û  lq√∞0√û
  √∞28√û
where fij and fkl has reasonably distinct data rates, and td is chosen appropriately. If td is too
small, then system suffers from concurrent redirections. In the other case, if it is too large, then
the effect of queue length will be decreased in determination of the priority metric, and this can
decrease the performance of the system. If the data rate of Fe
is much higher than the data rate
of fmn, we can ignore the case that {k,l }={m,n}, and thus Equation (28) can be rewritten as
a
b
¬º
t
2
d
4ta

X √æ rmn  B
l
rij  rkl
l






1
td
2ta
  √æ
B
X √æ rmn

td
2ta
  √∞29√û
PAR IN NGEO SATELLITE NETWORKS 329
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
which reduces to
a
b
¬º
1
2

t
2
d
 √∞ √û X √æ rmn  B
rij  rkl




 √∞ √û 2ta  td √æ
B
X √æ rmn   √∞30√û
If we set the reasonable rate difference rij  rkl




to 0.5, Equation (30) reduces to:
a
b
¬º
t
2
d
 √∞ √û X √æ rmn  B
√∞ √û 2ta  td √æ
B
X √æ rmn   √∞31√û
Figure 10 illustrates the reasonable a=b values for different X values. Note that the y axis is
equal to zero in the case that the total flow does not exceed the link capacity after the
participation of new flow, and thus queue length does not increase (X ¬º B  rmn). In the case
that X ¬º B; the link was already fully utilized before the participation of new flow. At that
point, corresponding a=b is equal to R. From Equation (31), the value of R is found to be:
R ¬º
t
2
d
 rmn
√∞ √û 2ta  td √æ
B
B √æ rmn   √∞32√û
If the flow fmn is not partitioned to various links, the expected value for rmn is 1, and hence we
may reduce Equation (32) to the following:
R ¬º
t
2
d
√∞ √û 2ta  td √æ
B
B √æ 1
  √∞33√û
X ¬º B  rmn and X ¬º B are two extreme points for X, and a reasonable X value should be
chosen between these two values. For example, setting it to the mean value between B  rmn and
Figure 10. Illustration of Equation (31).
O¬® 330 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
B, that is B  √∞rmn=2√û (or B  0:5 if we set rmn ¬º 1), makes sense. The corresponding a=b value
will indicate possible selection of ePAR parameters for optimal performance. However, for
more accurate decision, actual traffic dynamics of particular networking scenario should be
taken into account.
Although the analysis given above may seem to be restricted with large buffer size and long
aging duration, it can be easily enhanced and adapted for a wider domain. Therefore, tailoring
this analysis for actual satellite constellations may be a worthy experiment for demonstrating its
great benefits.
6. CONCLUSIONS
In this paper, we propose two traffic-sensitive shortest path routing algorithms for
NGEO satellite networks, namely Priority-based Adaptive Routing (PAR) and enhanced
PAR (ePAR). In the first algorithm (PAR), rather than setting the route in the terrestrial nodes
or in a single satellite node, the route is set-up by making the decision of sending packet from
which outgoing link at each hop. The decision criterion is based on a priority mechanism, which
favours links that are relatively less utilized. The second algorithm (ePAR) is proposed to
further enhance the routing algorithm for providing channelling of packets with same source‚Äì
destination pairs to same links. The rationale behind this enhancement is that less contention
may occur between packets over same routes.
As part of the proposed algorithms, we introduce a new priority metric that includes some
design parameters. To achieve a higher system performance, we present a detailed analysis of
ePAR for adjusting the design parameters. Relying on the analysis and extensive sets of
simulation results, we show that the proposed algorithms not only increase the throughput and
link utilization, but also decrease the delay.
Although the proposed algorithms aim to set distributedly the minimum-hop path towards
the destination, they may as well be extended to handle the dynamics of ISL lengths and to
further minimize end-to-end delay, instead of minimizing number of hops. For this purpose, we
are currently working on combining ePAR with DVTR [1] to account for the periodicity feature
of the topology changes.
REFERENCES
1. Werner M. A dynamic routing concept for ATM based satellite personal communication networks. IEEE Journal on
Selected Areas in Communications 1997; 15(8):1636‚Äì1648.
2. Korc¬∏ ak O¬®
, Kaya I, C¬∏ alikli HG, Alago¬®z F. Performance evaluation of adaptive and static routing algorithms and
contention resolution techniques in LEO satellite constellations. IEEE Recent Advances in Space Technologies
RAST, Istanbul, Turkey, June 2005.
3. Ekici E, Akyildiz IF, Bender MD. A distributed routing algorithm for datagram traffic in LEO satellite networks.
IEEE/ACM Transactions on Networking 2001; 9(2):137‚Äì147.
4. Taleb T, Jamalipour A, Kato N, Nemoto Y. IP traffic load distribution in NGEO broadband satellite networks.
Lecture Notes i¬¥n Computer Science 2006; 3733:113‚Äì123.
5. Kucukates R, Ersoy C. High performance routing in a LEO satellite network. Proceedings of the IEEE ISCC,
Antalya, Turkey, 2003; 1403‚Äì1408.
6. Papapetrou E, Pavlidou F-N. A proposal of optimal routing techniques for non-GEO satellite systems. International
Journal of Wireless Information Networks 2001; 8(2):75‚Äì83.
7. Korc¬∏ ak O¬®
, Alago¬®z F. Priority-based adaptive shortest path routing in IP over LEO satellite networks. 23rd AIAA
International Communications Satelllite Systems Conference (ICSSC‚Äô05), Rome, Italy, September 2005.
PAR IN NGEO SATELLITE NETWORKS 331
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
8. Jianjun B, Xicheng L, Zexin L, Wei P. Compact explicit multi-path routing for low earth orbit satellite networks. In
Proceedings of IEEE Workshop on High Performance Switching and Routing, Hong Kong, People‚Äôs Republic of
China, May 2005.
9. Mauger R, Rosenberg C. QoS guarantees for multimedia services on a TDMA-based satellite network. IEEE
Communications Magazine 1997; 35(7):56‚Äì65.
10. Voilet MD. The development and application of a cost per minute metric of the evaluation of mobile satellite
systems in a limited-growth voice communications market. Master‚Äôs Thesis, MIT, 1995.
11. Sun J, Modiano E. Routing strategies for maximizing throughput in LEO satellite networks. IEEE Journal on
Selected Areas in Communications 2004; 22:273‚Äì286.
12. Chen C, Ekici E. A routing protocol for hierarchical LEO/MEO satellite IP networks. Wireless Networks 2005;
11(4):507‚Äì523.
13. Distribution of top-level domain names by host count Jan 2005. Internet System Consortium, http://www.isc.org
[cited: May 2005].
14. Perdigues J, Werner M, Karafolas K. Methodology for traffic analysis and ISL capacity dimensioning in broadband
satellite constellations using optical WDM networking. Proceedings of 19th AIAA International Communication
Satellite Systems Conference (ICSSC‚Äô01), Toulouse, France, April 2001.
15. Chang HS, Kim BW, Lee CG, Choi Y, Yang HS, Kim DN, Kim CS. Performance comparison of optimal routing
and dynamic routing in low-earth-orbit satellite networks. In Proceedings of IEEE Vehicular Technology Conference
(VTC), Atlanta, GA, 1996; 1240‚Äì1243.
AUTHORS‚Äô BIOGRAPHIES
O¬®mer Korc¬∏ ak is a researcher, working toward PhD degree in the Department of
Computer Engineering, BogÀáazic¬∏ i University, Turkey. He received his BSc and MSc
degrees in Computer Engineering from BogÀáazic¬∏ i university, in 2002 and 2004,
respectively. From 2002 to 2005, he worked as a teaching assistant in the same
department. He receives PhD scholarship from The Scientific and Technological
Research Council of Turkey. His main research interests include networking in
non-geostationary satellite systems with focus on routing and traffic engineering
issues and all-optical networking with focus on wavelength assignment in optical
burst switching networks.
Fatih Alago¬®z is an Associate Professor in the Department of Computer Engineering,
Bogazici University, Turkey. He is also affiliated with the Department of Electrical
Engineering, Harran University, Sanliurfa, Turkey. From 2001 to 2003, he was with
the Department of Electrical Engineering, United Arab Emirates University, AlAin,
UAE. In 1993, he was a Research Engineer in a missile manufacturing company,
Muhimmatsan AS, Turkey. He received the BSc degree in electrical engineering from
the METU, Turkey, in 1992, and MSc and DSc degrees in electrical engineering from
George Washington University, USA, in 1995 and 2000, respectively. His current
research interests are in the areas of satellite networks and wireless/mobile networks,
UWB communications. He has contributed/managed to seven research projects for
various agencies/organizations including US Army of Intelligence Center, Naval
Research Laboratory, TUBITAK, BAP, etc. He has edited five books and published more than 60
scholarly papers in selected journals and conferences. Dr Alagoz is the Satellite Systems Advisor to the
Kandilli Earthquake Research Institute, Istanbul, Turkey. He has served on several major conferences
technical committees, and organized and chaired many technical sessions in many international
conferences. He is a member of the IEEE Satellite and Space Communications Technical Committee.
He has numerous professional awards.
O¬® 332 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
Abbas Jamalipour is on the faculty of the School of Electrical and Information
Engineering at the University of Sydney, Australia, where he is responsible for
teaching and research in wireless data communication networks, wireless IP
networks, network security, and satellite systems. He holds a PhD in Electrical
Engineering from Nagoya University, Japan. He is the author for the first technical
book on networking aspects of wireless IP, The Wireless Mobile Internet}Architectures, Protocols and Services, John Wiley & Sons 2003. In addition, he has
authored another book on satellite communication networks with Artech House in
1998, coauthored five technical books, authored over 140 papers in major journals
and international conferences, and given short courses and tutorials in major
international conferences, all in the field of wireless telecommunications. Professor
Jamalipour is an IEEE Distinguished Lecturer; a Fellow Member of IEAust; a Senior Member of IEEE;
Chair of the Satellite and Space Communications Technical Committee; Vice Chair of the Communications Switching and Routing Technical Committee; and Vice Chair of the Asia Pacific Board, Coordinating
Committee Chapter, all IEEE Communications Society. He is the Editor-in-Chief of the IEEE Wireless
Communications Magazine, a technical editor of the IEEE Communications Magazine, and the Wiley
International Journal of Communication Systems. Currently he is the chair of the IEEE GLOBECOM2005
Wireless Communications Symposium, and a Co-Chair of symposiums at IEEE ICC2005, ICC2006,
ICC2007, and GLOBECOM2006, as well as a Vice-Chair of the IEEE WCNC2006.
PAR IN NGEO SATELLITE NETWORKS 333
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dacINTERNATIONAL JOURNAL OF COMMUNICATION SYSTEMS
Int. J. Commun. Syst. 2007; 20:313‚Äì333
Published online 30 June 2006 in Wiley InterScience (www.interscience.wiley.com). DOI: 10.1002/dac.823
Priority-based adaptive routing in NGEO satellite networks
O¬®mer Korc¬∏ ak1,*
,y
, Fatih Alago¬®z
1,z
and Abbas Jamalipour2,}
1Computer Networks Research Laboratory (NETLAB), BogÀáazic-i University, Istanbul, Turkey
2
School of Electrical and Information Engineering, University of Sydney, Sydney, NSW 2006, Australia
SUMMARY
In a non-geostationary satellite constellation with inter satellite links (ISLs), there could be many shortest
paths between two satellites in terms of hop count. An efficient routing algorithm should effectively use
these paths in order to distribute traffic to ISLs in a balanced way and to improve the performance of the
system. This paper presents and evaluates a novel priority-based adaptive shortest path routing (PAR)
scheme in order to achieve this goal. PAR sets the path towards the destination in a distributed manner,
using a priority mechanism depending on the past utilization and buffering information of the ISLs.
Moreover, to avoid unnecessary splitting of a flow and to achieve better utilization of ISLs, enhanced PAR
(ePAR) scheme is proposed. This paper evaluates performance of the proposed techniques by employing
an extensive set of simulations. Furthermore, since there are a number of ePAR parameters that should be
adjusted depending on the network and traffic characteristics, a detailed analysis of ePAR scheme is
provided to form a framework for setting the parameters. This paper also includes a method for adaptation
of the proposed algorithms to minimum-delay path routing. Copyright # 2006 John Wiley & Sons, Ltd.
Received 5 January 2006; Revised 3 May 2006; Accepted 12 May 2006
KEY WORDS: non-geostationary satellite networks; routing; adaptive routing; load balancing; priority
mechanism
1. INTRODUCTION
With the rapid globalization of telecommunications industry, satellites are expected to widely
appear in future telecommunication systems, due to their capabilities such as extensive geographic
coverage, inherent multicast capabilities and support for mission-critical applications. Communications over satellites began with the use of individual satellites rotating on the Geostationary
Earth Orbit (GEO). However, high altitude of GEO satellites leads to high propagation delay and
this is not suitable for most applications (especially for real-time applications). Therefore, focus has
*Correspondence to: O¬®
. Korc¬∏ ak, Computer Networks Research Laboratory (NETLAB), BogÀáazic-i University,
Department of Computer Engineering, P.K. 2 TR-34342, Bebek, Istanbul, Turkey.
yE-mail: korcakom@cmpe.boun.edu.tr
zE-mail: alagoz@boun.edu.tr
}E-mail: a.jamalipour@ieee.org
Copyright # 2006 John Wiley & Sons, Ltd.
been directed towards development of non-geostationary (NGEO) systems consisting of Low
Earth Orbit (LEO) satellites and Medium Earth Orbit (MEO) satellites. For better utilization of
satellites and increasing the performance of the system, new NGEO systems usually support intersatellite links (ISLs) between satellites. The use of ISLs raises the issue of routing in the satellite
network. Employing an efficient routing protocol is a critical issue, since satellite network resources
are costly and must be managed in an optimal way. Unfortunately, mobility of satellites
complicates the routing issue in an NGEO satellite system; hence terrestrial routing algorithms are
not directly applicable in satellite networks. Satellite movements cause both the dynamicity of
network topology (variation in ISL lengths, etc.) and dynamicity of traffic passing over satellites. A
good routing algorithm should be adaptive to these dynamics.
It is important to note that changes in the network topology are periodic and predictable
because of the strict orbital movements of satellites. Therefore, it is reasonable to use this
periodicity feature while calculating routes. Dynamic Virtual Topology Routing (DVTR) [1] is
one of the most common routing methods that use the periodicity of the topology changes.
DVTR divides the system period into a set of time intervals, so that topology remains constant
over each interval. Time intervals are chosen to be short enough to assume that costs of ISLs are
fixed. Therefore optimal paths and alternate paths can be established using well-known methods
like Dijkstra‚Äôs shortest path algorithm. DVTR approach decreases the online computational
complexity with the expense of large storage requirements.
In a satellite network, routing decisions can be made offline or on-board. In the former case,
the routing algorithm could use information about predictable topology changes (such as
changes in the ISL lengths and connectivities), but it would not be adaptive to traffic load
changes. However, on-board routing algorithms yield better efficiency for dynamic traffic cases
with the expense of increased complexity. Several adaptive routing protocols that take the traffic
characteristics into account have been proposed for NGEO constellations. In Reference [2],
satellite constellation is modelled as a regular mesh and ISLs are assumed to have fixed length.
The work deals with adaptive routing with a limited set of alternative routes. However, there
may be many shortest paths (in terms of hop-count) in a mesh-like network which can be fully
utilized. Ekici et al. [3] propose the Datagram Routing Protocol, where ISLs are considered to
have variable length and each satellite decides on the neighbouring satellite to find the shortest
delay path. In this approach, a satellite may change its decision in case of excessive queue length;
however, it is desired to avoid congestion before it happens.
Since satellites cover smaller areas in low orbit systems, the traffic requirements are
unbalanced due to high population in cities, low at rural areas and almost no population over
the oceans which form 75 per cent of the earth‚Äôs surface. This may lead to congestion in some
resources, while others are under-utilized. To overcome this problem, the routing algorithm
should distribute the flows in balanced way over appropriate ISLs between the communicating
nodes. Considering this issue, Explicit Load Balancing (ELB) is proposed in Reference [4]. ELB
scheme is based on traffic load information at the next hop satellite on the remainder of the path
to destination. A congested satellite sends signals to its neighbouring satellites to decrease their
sending rates and its neighbours search for alternative paths in order to pass the extra burden to
less congested satellites. However, ELB does not give any solution for the case where alternative
paths are also congested. Moreover, it does not take any action for load balancing until some
nodes experience a level of congestion. There are also some flow-based routing algorithms that
aim balanced distribution of traffic flow to the network resources. Maximum-Flow MinimumResidual (MFMR) algorithm proposed in Reference [5] is a good example for the flow-based
O¬® 314 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
routing algorithms. MFMR tries to minimize maximum flow over a given set of shortest paths
and hence avoid congestion by achieving balanced distribution of traffic. The main drawback of
MFMR algorithm is that it implies knowledge of the flows over these paths and it does not
consider fast dynamic changes in the traffic flow over the given paths. Papapetrou et al. [6]
propose an Adaptive Flow Deviation algorithm which aims to balance the traffic load via a flow
deviation algorithm. This algorithm has also similar drawbacks as MFMR, and it implies high
signalling overhead and high complexity with no guarantee of performing better than the
simpler shortest path routing algorithms.
In this article, we propose an adaptive routing algorithm for satellite networks, namely
Priority-based Adaptive Routing (PAR) algorithm, which distributedly sets the minimum-hop
path towards a destination, and is more suitable for dynamic traffic. PAR takes the past
utilization and queuing information of links into account and aims to achieve more uniform
load distribution. In addition, we make an enhancement on PAR for better utilization of the
ISLs and propose ePAR. Using simulation results we show that the proposed techniques not
only increase throughput but also decrease delay. This paper is an extension of Reference [7] and
introduces adaptation of proposed techniques to minimum-delay path routing by incorporating
with DVTR. Furthermore, we present a detailed analysis of ePAR. Since there is a number of
parameters that should be adjusted properly, our analysis provides an opinion on the setting of
these parameters.
The remainder of this paper is organized as follows: In Section 2, the proposed adaptive
routing algorithms are presented. In Section 3, the considered network topology is illustrated
and implementation details of different routing algorithms are described. In Section 4, the
simulation environment, traffic model, and simulation results together with their interpretations
are presented. In Section 5, the analysis of ePAR is given in detail. Finally, this paper is
concluded in Section 6.
2. PROPOSED ADAPTIVE ROUTING ALGORITHMS
In the context of satellite constellations, we can define ‚Äòshortest path‚Äô in two ways: ‚Äòminimum
hop path‚Äô and ‚Äòminimum delay path‚Äô. In the former one, we do not consider the dynamic length
changes in ISLs and assume that ISLs are of fixed length. The shortest path is the one that
passes minimum number of hops. In the latter, we consider that the distance measure is the total
propagation delay and the length changes in ISLs should be taken into account. In the
literature, some of the proposed algorithms consider that a route that traverses less satellite
nodes is shorter and try to minimize average hop-count per transmission, while some others aim
to minimize average end-to-end delay. In this work, we consider the former case, i.e. our
proposed adaptive routing algorithms aim to use shorter paths in terms of hop-count. This is a
reasonable assumption for most of the constellation topologies. However, we also note that our
proposed algorithms can easily be adapted to ‚Äòminimum-delay path‚Äô case. We will examine this
case in the last part of this section.
2.1. Priority-based adaptive routing
Satellite networks are usually modelled as mesh-like networks. In a mesh-like network,
there might be many shortest paths between a source‚Äìdestination (s‚Äìd) pair, in terms of
PAR IN NGEO SATELLITE NETWORKS 315
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
hop-count. At each satellite node, more than one outgoing link could be on one of the
minimum hop path. Decision on sending the data from which of those links has an important
effect on the distribution of the traffic and utilization of ISLs. In the proposed algorithm,
the link to be used is decided by a priority mechanism depending on the past
utilization information about the links. We call this technique Priority-based Adaptive
Routing (PAR). The priority metric used for this purpose can be determined in various
ways. One simple possibility is to set it to the number of packets arrive to the link.
However, the congestion in a link is not only related with the number of arrivals to it.
For example among the links with same number of arrivals, the link with shorter queue
length may be favourable. Among other possibilities, we introduce the following as the
priority metric:
m ¬º a  nt √æ b  lq √æ d  nd √∞1√û
where nt
is the successfully transmitted data per second in the corresponding link, lq is the
average queue length, and nd is the dropped data per second. Each link has its own m value, and
it is updated depending on the changes in the traffic. Using this metric, traffic tends to distribute
the links in a more balanced way. Note that a, b and d are design parameters that should be
adjusted properly due to the traffic requirements and network topology.
2.2. Enhanced priority-based adaptive routing
It is important to note that most of the contentions occur between packets with different s‚Äìd
pairs. Therefore it would be better to switch packets with same s‚Äìd pairs to the same outgoing
link. This suggests that the performance of PAR algorithm may be enhanced by using the
following metric:
msd ¬º a  √∞nt  n
sd
t
√û √æ b  lq √æ d  nd √∞2√û
where n
sd
t
is the amount of transmitted packets corresponding to the s‚Äìd route, and msd is the
priority metric for traffic traversing on the s‚Äìd route. At the expense of increased complexity on
satellite nodes, better ISL utilization may be achieved by this technique. This technique is called
enhanced PAR (ePAR). We will describe results obtained by simulation for a considered
constellation topology and how the adjustment of a, b and d parameters in ePAR could affect
the performance of the system, in the following sections.
2.3. Aging mechanism
Considering that the latest utilization and buffering information is more important than
the older ones, an aging mechanism is needed while computing the priority metric.
One possibility is to take the average of the last t seconds. However this mechanism
has some drawbacks. Firstly, the information belonging to earlier times are also important
and ignoring them completely is not reasonable. Moreover, storing the information about
the last t seconds involves increased memory complexity. Therefore, we propose an aging
mechanism as follows:
We define an aging period with length ta
. At the beginning of each period, we store the
current m value in a variable called m
o
. Then satellite starts to collect utilization and
buffering information in a new variable called m
n
. At t0th time unit of a given period, m is
O¬® 316 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
calculated as follows:
m ¬º m
o
 1
t0
2ta
  √æ m
n

t0
2ta
  √∞3√û
Equation (3) is for PAR. For ePAR, it can be rewritten as
msd ¬º m
o
sd  1
t0
2ta
  √æ m
n
sd 
t0
2ta
  √∞4√û
2.4. Priority-based adaptive minimum-delay path routing
In this work, we consider a priority-based adaptive routing for satellite networks, aiming to
minimize hop-count. However, for some constellations, it could be more appropriate to consider
the amount of propagation delay instead of the hop count. In fact, one can also argue that better
definition of the ‚Äòshortest path‚Äô concept involves the sum of the total propagation delay and the
expected queuing delay (which is also related to the number of hops) that a packet would
experience from source to destination [8]. Since actual lengths of ISLs are not identical and they
dynamically change depending on the movement of satellites, it is somewhat challenging to
design a routing algorithm that cares about propagation delay. In this subsection, we will
examine how PAR can be extended for this purpose, and define PAR for Minimum Delay Path
Routing (PAR-MD).
As it was mentioned before, dynamic changes in the ISL lengths are predictable and
periodic due to the strict orbital movements of satellites. Therefore, some techniques
are proposed in order to use this periodicity property of the dynamic topology. Virtual Node
(VN) [9] and DVTR protocols are the most common ones. In VN technique, a fixed virtual
topology consisting of virtual nodes is superimposed over the physical topology in order to hide
the mobility of satellites from routing protocols. Each satellite corresponds to a VN at any given
time. As a satellite disappears over the horizon, its corresponding VN becomes represented by
the next satellite passing overhead and the state information (such as routing table entries) is
transferred to it. VN is not appropriate to use with PAR, because PAR uses the utilization and
buffering information of the physical satellites, not their corresponding virtual nodes. Therefore,
we will not deal with this technique in the rest of our work. On the other hand DVTR technique,
as mentioned before, divides the system period into N time intervals. During an interval i, the
topology is modelled as constant graph Gi
. Time intervals are short enough to define length of
ISLs as fixed. Then the shortest paths and alternative paths for each time interval can be set by
using well-known algorithms like Dijkstra‚Äôs shortest path algorithm. Then PAR-MD can use
these routes in order to find the most appropriate outgoing link of a given intermediate satellite,
for a given s‚Äìd traffic. We said that there could be many minimum hop paths between a s‚Äìd pair
in a satellite network. Therefore, in an intermediate satellite node, PAR was selecting the
outgoing link which was over a minimum hop path, and had the best priority. However, this is
not the case for minimum delay paths because of the spherical shape of the earth. Therefore, we
may consider k-shortest paths, or the paths that are not longer than the shortest path with a
given degree, while selecting appropriate outgoing link. In other words, an intermediate node
selects the outgoing link which is over one of these paths and has the best priority. In this case,
priority metric of a link may also include the length of short paths that pass over it. However,
this would require an extra complexity and overhead in satellite nodes.
PAR IN NGEO SATELLITE NETWORKS 317
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
3. SATELLITE NETWORK ARCHITECTURE AND ROUTING DETAILS
3.1. Network topology
In this work, we consider a polar LEO constellation similar to Teledesic, with 12 planes
and 24 satellites per plane at a height of 700 km. It is a p-constellation, where there is a
seam between satellites moving in opposite direction. Figure 1 shows the considered network
topology.
We assume that there is no ISL passing the seam. As shown in Figure 1, seam divides the
network into two parts and the satellites over the eastern hemisphere and the satellites over the
western hemisphere move in opposite directions. Hence, a data that originates from a location at
one hemisphere could be sent to a location in the other hemisphere, only by passing a pole.
Although this is an important drawback of p-constellations; it is not a critical factor in
dramatically affecting the performance of the proposed and tested routing techniques. In our
topology, seam passes over the Pacific and Atlantic oceans as shown with bold lines in Figure 2.
Due to complexity of the system parameters and to simplify the analysis we also assume that
satellites have disjoint footprints and dividing the earth into 12  24 terrestrial zones, as in
Figure 2, and each satellite sees one of these zones. Another assumption is made on the
handover mechanism, i.e. as the satellites move with angular velocity of 3.68 per minute, they
switch their zones in a discrete manner. Each zone is represented by Zx,y, where x 2 (0,11) and y
2 (0,23). x is the plane number of satellites passing over that zone, and y is defined as follows.
For western hemisphere, zones that are nearest to the northern pole have a y-value of zero.
Going to the south, y is incremented by one. At the eastern hemisphere y is 12 for the zones
nearest to the southern pole and going to the north, it is incremented by one.
Although more realistic scenarios could have been selected in the simulations, the potential of
our algorithms should remain the same.
Figure 1. Polar constellation topology with 12  24 nodes.
O¬® 318 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
3.2. Routing details
In a mesh network topology, as shown in Figure 1, there is more than one shortest path between
each source-destination pair (except if they are in same latitude or longitude) in terms of
hop-count. In the case of static routing, only one of these routes is utilized. If the adaptive
route is only set in the source node, as in Reference [2], this also does not yield a good utilization
of ISLs. However, routing techniques which also employ intermediate nodes for route
computation give better performance results. When a satellite receives a packet, it looks for its
destination node. If it is in the same latitude or longitude, there is only one direction to send (for
the shortest path). Otherwise, there are two possibilities. In that case, determining which
direction to send depends on the routing algorithm. For this purpose, we define four different
adaptive shortest path routing algorithms: Fixed Adaptive Routing (FAR), Random Adaptive
Routing (RAR), Priority-based Adaptive Routing (PAR), and Enhanced Priority-based
Adaptive Routing (ePAR). In this section, we first explain how to find the outgoing direction,
and then clarify these routing techniques.
3.2.1. Direction estimation. We define two variables: dirx 2 {East, West}, and diry 2 {South,
North}. Let us consider that a satellite node nc
, receives a packet with destination nd. Assuming
that nc
is over the zone Zxc,yc, and nd is over the zone Zxd,yd, determination of dirx and diry on
node nc
is done according to the pseudocode given in Figure 3. Note that, given direction
estimation process is specific for the considered mesh-like topology given in Figure 1. For any
other constellation topology, a specific direction estimation process should be determined
depending on the minimum-hop paths between satellite nodes.
Following the determination of directions, the next task is to determine which route to select
first. In this context, we may have various routing techniques.
Figure 2. Earth zone division, and user intensity levels on each zone [10]. Boldest lines show the location of
the seam in the satellite network.
PAR IN NGEO SATELLITE NETWORKS 319
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
3.2.2. Routing algorithms. In what follows, we define one static and four new adaptive shortest
path algorithms considered in this study:
1. Static Shortest Path Routing (STA): When a satellite receives a packet, it sends it in
y direction (South or North) if the satellite is not in the same latitude with the destination.
Otherwise, it sends in x direction (East or West). The established route consists of two
straight paths that first goes in y direction, and then in x direction (of course if s and d are
in different longitudes and latitudes).
2. Fixed Adaptive Routing (FAR): A satellite that receives a packet, always selects diry as the
initial direction. If diry is empty or ISL on that direction is busy, it tries dirx.
3. Random Adaptive Routing (RAR): Satellite randomly selects one of the diry or dirx. If it is
empty or ISL on that direction is busy, it tries the other direction.
4. Priority-based Adaptive Routing (PAR): Satellite checks m values for ISLs on both
directions. It selects one with less m value as initial direction. If the lSL on that direction is
busy, it tries the other.
5. Enhanced PAR (ePAR): Satellite checks the msd values for ISLs on both directions, where s
is the source node and d is the destination node of the packet. It selects the direction of the
ISL with less msd value as initial direction. If that ISL is busy, it tries the other.
else
diry = North
}
if xc = xd
dirx = {}
else if xc < xd
dirx = East
else if xc > xd
dirx = West
if yc = yd
diry = {};
else if yc < 12 AND yd < 12 {
if yc < yd
diry = South
else
diry = North
}
else if yc 12 AND yd >= 12 {
if yc > yd
diry = South
else
diry = North
}
else if yc < 12 AND yd 12 {
if (yd-yc) < (24-yd+yc)
diry = South
else
diry = North
}
else if yc 12 AND yd < 12 {
if (yc-yd) < (24-yc+yd)
diry = South
Figure 3. Algorithm for determining directions towards a destination.
O¬® 320 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
In all cases, we assume that ‚Äòthe ISL is busy‚Äô means it is transmitting a packet and its buffer is
full at that moment. Depending on the network characteristics, one may prefer to set a threshold
value for the buffer size, and consider the ISL as busy if its queue length exceeds this threshold
value. This is desirable especially for ISLs with high buffer capacities.
3.2.3. Contention resolution technique. Some contention resolution schemes are already defined
in the literature for the situations that two packets arrive to an ISL at the same time [11].
Random Packet Win (RPW), Oldest Packet Win (OPW), and Shortest Hop Win (SHW) are the
most common contention resolution techniques. In this work, we assume that SHW is utilized.
SHW favours the packets with the shortest hop distance to its destination node.
4. SIMULATIONS
4.1. Simulation setup
To test the performances of the proposed algorithms, we use an extensive set of simulations.
Simulation scenarios and system parameters are chosen to highlight the algorithm‚Äôs capability.
We simulate the constellation shown in Figure 1. It is a polar constellation with 12 x 24 satellites,
where there exists a seam. Satellites that are in the border of seam have three ISLs, since we
assume that there is no ISL over seam. Every other satellite has four ISLs. All satellites rotate on
their plane with an angular velocity of 3.68 per minute. This means that their corresponding
terrestrial zone changes at each 250 s. They complete their rotation in 100 min. For simplicity, all
ISLs are assumed to be identical (in terms of length and capacity) and their capacity is assumed to
be 0.16 Gbps. Each ISL has a buffer of size 40Mbytes. A packet size is assumed to be 1 Kbytes.
Therefore, ISL capacity and buffer size are considered as 20 000 and 40 000 packets, respectively.
4.2. Traffic model
Our traffic model is similar to the model considered in Reference [12]. It depends on the 2005
statistics about the user density levels per zone (Figure 2), Internet host density levels per
continent (Table I), and user activity levels per hour in percentage of the total traffic (Figure 4).
Let uxy be the user density of zone Zxy. We set the host density level of zone Zxy, hxy, as the
portion of total host density of its continent (Ci
) that is proportional with its user density
hxy ¬º hCi
 P
uxy
Zab2Ci
uab
√∞5√û
Table I. Internet Host Distribution By Continent (January 2005) [13].
Continent Number of hosts (hC) (x103
) Percentage
North America 223545.1 70.45
Europe 52947.1 16.69
Asia 28511.4 8.98
South America 6026.2 1.9
Oceania 5621.6 1.77
Africa 671.3 0.21
PAR IN NGEO SATELLITE NETWORKS 321
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
Chang et al. [15] suggests a traffic generating method depending on these densities. Traffic
requirement from zone Zxy to zone Ztk, T(xy,tk), is proportional with the user density in Zxy,
uxy, host density in Ztk, htk, and distance between these two zones
T√∞xy;tk√û ¬º
uxyhtk  y
√∞ √û dist√∞xy;tk√û
c
√∞6√û
In the simulations, we set y = 0.5 and c = 1.5 (as in Reference [12]). Depending on this traffic
requirement matrix, we model the traffic. We assume that, at a given hour h, the arrival of a
packet with source = Zxy and destination = Ztk is a Poisson process with rate l(xy,tk,h)
packets/second
l√∞xy;tk; h√û ¬º T√∞xy;tk√û
P
8Zab
P
8Zcd
T√∞ab; cd√û

ah
100 
A
3600 √∞7√û
where h is the current local hour and ah is the activity percentage in the corresponding hour (h),
that is given in Figure 4. Moreover, A is the aggregate traffic that represents total traffic
generated worldwide (packets per day).
4.3. Simulation results
We implemented all routing techniques based on the described network topology and the traffic
model given above. We developed our own simulator in C++. We tested the performance of
routing algorithms in terms of drop ratio and average queue length per link. Drop ratio is
defined as the ratio of dropped packets to the sum of dropped and successfully transmitted
packets, and average queue length is the ratio of the sum of the average number of packets in all
buffers to the number of ISLs.
We set the system parameters to the values shown in Table II. Best selection of the a, b and d
values depends on the traffic, and network characteristics. In the simulations, in order to avoid
complication, we simply decide to set these parameters as given in Table II, so that a  nt ranges
0
2
4
6
8
10
12
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24
Figure 4. User activity percentage per hour [14].
O¬® 322 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
between zero and one, and b  lq ranges between 0 and 2. Nevertheless, for various network and
traffic scenarios, the analysis provided in the next section could be utilized for improving system
performance.
Figure 5 shows the drop ratio versus A (in terms of terabit per day). As expected, Static
Routing performs the worst. FAR never provides a balanced distribution of traffic, therefore its
performance is worse than other adaptive routing techniques. It can be seen that priority-based
algorithms are the best in case of drop ratio. An important observation is that there is no
valuable difference between the performances of PAR and ePAR. This could be because the fact
that there are too many nodes, and hence too many source-destination pairs. In this case the
significance of channeling packets with same s‚Äìd pairs to same links is not evident. Moreover, as
number of nodes increase, the complexity of ePAR increases. Therefore, for the networks with
large number of nodes, PAR seems to be more suitable technique than ePAR. This suggests that
ePAR should be further investigated for MEO satellites.
Figure 6 illustrates the difference between queue lengths for different routing schemes. Static
Routing has the least queue lengths since most of the packets are dropped without being
buffered. Because, there is no alternative route for Static Routing; hence packets should not
have to wait anymore, if the link on the static route is busy. As the number of successfully
transmitted packets increase, we expect that the lengths of queues also increase because of the
high utilization of links (obtained result that illustrates the difference between queue lengths
for RAR and FAR meets our expectation). However, Figure 6 suggests that this is not the case
Table II. System Parameters.
Total Simulation time 1 day
Warm-up period 60 s
Aging period (t) 25 s
a 0.00005
b 0.00005
d 0.00005
0
0.05
0.1
0.15
0.2
0.25
100
Aggregate Traffic (Tb per day)
200 300 400 500 600 700
Drop Ratio
STA
FAR
RAR
PAR
ePAR
Figure 5. Drop ratio versus aggregate traffic for five different routing techniques.
PAR IN NGEO SATELLITE NETWORKS 323
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
for PAR and ePAR, and they outperform all other adaptive routing techniques in terms of
queue length. This is because priority-based techniques provide balanced distribution of traffic
among links, and more packets are successfully transmitted with less waiting times in queues.
This means that proposed priority-based adaptive routing schemes decrease end-to-end delay,
while increasing throughput.
Furthermore, we examine the performance behaviour in hour base. Figure 7 illustrates
generated traffic per hour (MAX), and successfully transmitted data (in Terabits) for each
routing algorithm. Results are for A = 400 Tbps. The base time is Greenwich Mean Time
(GMT). Two peaks are observed in the number of generated data. The first peak corresponds to
the time when it is daytime and user activities are in peak levels in Europe, and other
corresponds to the time when activities speed up in Northern America. In the second peak time,
performance difference between routing algorithms are more evident, whereas in the first peak
0
200
400
600
800
1000
1200
1400
1600
100 200 300 400 500 600 700
Avg Queue Length (packets)
STA
FAR
RAR
PAR
ePAR
Aggregate Traffic (Tb per day)
Figure 6. Average queue length versus aggregate traffic.
10
12
14
16
18
20
22
0 5 10 15 20 25
Hour (GMT)
Data (Terabit)
MAX
STA
FAR
RAR
PAR
EPAR
Figure 7. Successfully transmitted data (Tb) versus hour (GMT).
O¬® 324 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
time, all adaptive routing algorithms perform similarly. The reason for this may be due to the
traffic model. That is, for packets originating from Europe, there exist some factors that cause
packet drops regardless of which routing algorithm is used. For example, we observe that most
of the packets drops occur in the first hop. In other words, most of the packets received from the
terrestrial transmitters could not be passed to neighbouring satellite, since links in both
directions are busy. This condition could not be resolved by any shortest path routing
algorithm. A deflection routing algorithm could be utilized to overcome those cases.
5. ANALYSIS
This section includes an analysis of the ePAR algorithm, utilizing the mentioned aging
mechanism. Consider that a, b and d in Equation (2) denote the design parameters that should
be adjusted properly depending on the network characteristics. By the optimal selection of these
parameters, not only better load distribution can be achieved, but also traffic flows can be made
more stable. By stability, we mean avoiding the needless fluctuations due to redirection of all the
flows in a congested link, simultaneously. In this section, we will investigate how to set these
parameters to achieve more stable systems.
In our analysis, for the sake of simplicity, we assume that buffers are sufficiently large, hence
we ignore nd and Equation (2) is reduced to
msd ¬º a  √∞nt  n
sd
t
√û √æ b  lq √∞8√û
Defining a new variable nsd ¬º nt  n
sd
t
; equation (8) can be further reduced to:
msd ¬º a  nsd √æ b  lq √∞9√û
Note that, considering the aging mechanism in equation (4), nsd and lq can be calculated in same
manner as msd
nsd ¬º n
o
sd  1
t0
2ta
  √æ n
n
sd 
t0
2ta
  √∞10√û
lq ¬º l
o
q
 1
t0
2ta
  √æ l
n
q

t0
2ta
  √∞11√û
Suppose a satellite network in which arrival rate of an s‚Äìd flow is Poisson distributed with mean
1/l bps. We represent a flow with source x, and destination y with fxy. We consider a scenario,
where a new flow is participated to a link that is already utilized just below its capacity, and the
data arrival rate exceeds its capacity by the participation of the new flow.
We assume that the existing aggregate flow (Fe
) in a particular link has a rate ofX=l bps. A new
flow (fmn) with rate rmn=l is participated to the corresponding link. Note that the s‚Äìd pair of the
new flow is {m,n}. After the aggregation of the existing flow Fe
, and the new flow fmn, the total
arriving flow becomes √∞ √û X √æ rmn =l: Supposing that this value is greater than the link bandwidth,
B=l; total amount of traffic to serve is B=l and total flow to be blocked per second is √∞X √æ rmn
B√û=l: Assuming that the blocking probability for each flow is same, blocked portion of Fe will be
bF ¬º √∞X √æ rmn  B√û  1
l

X
X √æ rmn   √∞12√û
PAR IN NGEO SATELLITE NETWORKS 325
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
And the transmitted portion of Fe will be
tF ¬º
B
l

X
X √æ rmn   √∞13√û
For an s‚Äìd flow (a new flow or an existing flow), let us represent initial value of the nsd
(before the participation of new flow) with c
o
sd; and the value that nsd will converge is
represented with csd:
Since tF is the total transmitted data per second, except the portion corresponding to fmn, it is
cmn; the new value that nmn will converge
cmn ¬º
B
l

X
X √æ rmn   √∞14√û
Before the participation to the corresponding link, nmn was equal to the total transmitted data
in the link, since n
mn
t was zero. We represent the old value of nmn with c
o
mn
c
o
mn ¬º
X
l
√∞15√û
For any other flow fij that uses the same link (and hence that is a part of Fe
)
cij ¬º
B
l

X √æ rmn  rij
X √æ rmn   √∞16√û
where cij is the new value that nij will converge. The initial value for nij is determined by the
difference between total initial flow and the flow with source i and destination j
c
o
ij ¬º
X  rij
l
√∞17√û
Amount of blocked data continuously increases as time passes, and t seconds after the
participation of the new flow, length of queue becomes t  X √æ rmn  B=l; assuming that
the buffer is initially empty. Since we assume increment in queue length is linear, average queue
length between time t1 and t2
is
t1 √æ t2
2

X √æ rmn  B
l
For clear illustration, we represent increment in the queue length (per second) with a new
variable x
x ¬º
X √æ rmn  B
l
√∞18√û
Table III shows how nsd value and the queue length information changes after the
participation of new flow, fmn to the existing flow Fe
in a particular link. The effect of aging
mechanism is also considered. Let t15ta where ta denotes the length of aging period. Without
loss of generality, we consider that the participation of new flow occurred at the beginning of an
aging period. Note that, the equations given in Table III are valid for both the new flow and the
existing flows in the system.
We can find the sum of series that is included in Equation (20) in Table III
Xm
i¬º1
2i  1
2
mi
¬º
6
2
m
√æ 4m  6
O¬® 326 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
Therefore, Equation (20) is reduced to
lq ¬º
ta
4

6
2
m
√æ 4m  6
     1
t1
2ta
  √æ
2mta √æ t1
2
  
t1
2ta
   x √∞21√û
Figure 8 illustrates, how the nsd value changes, as time passes. A is the initial value for nsd,
namely c
o
sd; and B is the value that nsd converges, namely csd. nsd (ta) stands for nsd value at
time ta
.
Figure 9 illustrates the increment in the lq value with time. lq (ta) stands for the lq value at
time ta
. Even though the increment in the queue length is linear, the increment of lq is not linear
because of the effect of aging mechanism.
Table III. Changes in Utilization and Buffering Information with the Time.
Initially nsd ¬º c
o
sd
lq ¬º 0
After t1 s n
o
sd ¬º c
o
sd;n
n
sd ¬º csd; hence nsd ¬º c
o
sd  1
t1
2ta
  √æ csd 
t1
2ta

l
o
q ¬º 0;l
n
q ¬º
t1
2
 x; hence lq ¬º
t1
2
 x 
t1
2ta

After ta s nsd ¬º c
o
sd 
1
2
√æ csd 
1
2
lq ¬º
ta
2
2
 x
After ta+t1 s n
o
sd ¬º c
o
sd 
1
2
√æ csd 
1
2
;n
n
sd ¬º csd; hence nsd ¬º c
o
sd 
1
2
 1
t1
2ta
  √æ csd 
1
2
√æ
1
2

t1
2ta

l
o
q ¬º
ta
4
 x; l
n
q ¬º
2ta √æ t0
2
 x; hence lq ¬º
ta
4
 1
t0
2ta
  √æ
2ta √æ t0
2
  
t0
2ta
   x
After 2ta s nsd ¬º c
o
sd 
1
2
2
√æ csd  1
1
2
2

lq ¬º ta 
1
2
3
√æ 3ta 
1
2
2
   x
After mta s nsd ¬º c
o
sd 
1
2
m
√æ csd  1
1
2
m

lq ¬º ta 
1
2
m√æ1
√æ 3ta 
1
2
m
√æ 5ta 
1
2
m1
√æ√æ √∞ √û 2m  1  ta 
1
2
2
   x ¬º
ta
4

Xm
i¬º1
2i  1
2
mi
 !  x
After mta+t1 s nsd ¬º c
o
sd 
1
2
m
 1
t1
2ta
  √æ csd  1
1
2
m
√æ
1
2
m

t1
2ta
  √∞19√û
lq ¬º
ta
4

Xm
i¬º1
2i  1
2
mi
 !  1
t1
2ta
  √æ
2mta √æ t1
2
  
t1
2ta
 !  x √∞20√û
PAR IN NGEO SATELLITE NETWORKS 327
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
Figures 8 and 9 illustrate the case that no other new flow is participated and none of the flows
is redirected to another link. At some point, the corresponding link will become unfavoured for
the flows over that link, and redirections will occur. However, if all of the flows are redirected
continuously, it can lead to congestion in alternative link too. In that case, all of them will again
be redirected to this link, and this will lead to needless fluctuations and disruption of stability,
which will decrease the performance of the system. To avoid this scenario, we can redirect the
flows with smaller data rates first, by adjusting the ePAR parameters. If lq is too dominant for
determining priority metric, we cannot achieve this. Difference between priority metrics for two
flows fij and fkl on the corresponding link is determined by
jmij  mklj ¬º a  jnij  nklj √∞22√û
Figure 8. Illustration of Equation (19).
Figure 9. Illustration of Equation (21).
O¬® 328 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
The difference between nij and nkl values is
nij  nkl



 ¬º c
o
ij  c
o
kl





 
1
2
m
 1
t1
2ta
  √æ cij  ckl




 1
1
2
m
√æ
1
2
m

t1
2ta
  √∞23√û
Considering that {m,n} is the s‚Äìd pair of the newly participating flow fmn, for {i,j }={m,n} and
{k,l }={m,n} case, Equation (23) is reduced to
nij  nkl



 ¬º
rij  rkl
l





 
1
2
m
 1
t1
2ta
  √æ
B
l

rij  rkl
X √æ rmn








 1
1
2
m
√æ
1
2
m

t1
2ta

and it is equal to
nij  nkl



 ¬º
rij  rkl
l






1
2
m
 1
t1
2ta
  √æ
B
X √æ rmn
 1
1
2
m
√æ
1
2
m

t1
2ta
    √∞24√û
For sufficiently long aging periods, we can assume that redirections occur in first aging period,
hence m is equal to zero. Then Equation (24) is reduced to
nij  nkl



 ¬º
rij  rkl
l






1
t1
2ta
  √æ
B
X √æ rmn

t1
2ta
  √∞25√û
For the case that {k,l }={m,n}, Equation (23) reduces to following:
nij  nmn



 ¬º
rij
l





 
1
2
m
 1
t1
2ta
  √æ
B
l

rij  rmn
X √æ rmn








 1
1
2
m
√æ
1
2
m

t1
2ta

For m ¬º 0 case it is
nij  nmn



 ¬º
rij
l





  1
t1
2ta
  √æ
B
l

rij  rmn
X √æ rmn









t1
2ta
  √∞26√û
As it was mentioned before, lq should not be too dominant in determining priority
metric. This suggests that difference occur between priority metrics for two flows, with
reasonably distinct data rates, should be near to the change occur in b  lq value in a given
reasonable time td.
Again assuming that m ¬º 0; and initial lq value is zero, difference occured in the lq value in
time td
is the following
lq√∞td √û  lq√∞0√û ¬º t
2
d
4ta

X √æ rmn  B
l
√∞27√û
Now, we can set
a  nij√∞td √û  nkl√∞td √û



 ¬º b  lq√∞td √û  lq√∞0√û
  √∞28√û
where fij and fkl has reasonably distinct data rates, and td is chosen appropriately. If td is too
small, then system suffers from concurrent redirections. In the other case, if it is too large, then
the effect of queue length will be decreased in determination of the priority metric, and this can
decrease the performance of the system. If the data rate of Fe
is much higher than the data rate
of fmn, we can ignore the case that {k,l }={m,n}, and thus Equation (28) can be rewritten as
a
b
¬º
t
2
d
4ta

X √æ rmn  B
l
rij  rkl
l






1
td
2ta
  √æ
B
X √æ rmn

td
2ta
  √∞29√û
PAR IN NGEO SATELLITE NETWORKS 329
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
which reduces to
a
b
¬º
1
2

t
2
d
 √∞ √û X √æ rmn  B
rij  rkl




 √∞ √û 2ta  td √æ
B
X √æ rmn   √∞30√û
If we set the reasonable rate difference rij  rkl




to 0.5, Equation (30) reduces to:
a
b
¬º
t
2
d
 √∞ √û X √æ rmn  B
√∞ √û 2ta  td √æ
B
X √æ rmn   √∞31√û
Figure 10 illustrates the reasonable a=b values for different X values. Note that the y axis is
equal to zero in the case that the total flow does not exceed the link capacity after the
participation of new flow, and thus queue length does not increase (X ¬º B  rmn). In the case
that X ¬º B; the link was already fully utilized before the participation of new flow. At that
point, corresponding a=b is equal to R. From Equation (31), the value of R is found to be:
R ¬º
t
2
d
 rmn
√∞ √û 2ta  td √æ
B
B √æ rmn   √∞32√û
If the flow fmn is not partitioned to various links, the expected value for rmn is 1, and hence we
may reduce Equation (32) to the following:
R ¬º
t
2
d
√∞ √û 2ta  td √æ
B
B √æ 1
  √∞33√û
X ¬º B  rmn and X ¬º B are two extreme points for X, and a reasonable X value should be
chosen between these two values. For example, setting it to the mean value between B  rmn and
Figure 10. Illustration of Equation (31).
O¬® 330 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
B, that is B  √∞rmn=2√û (or B  0:5 if we set rmn ¬º 1), makes sense. The corresponding a=b value
will indicate possible selection of ePAR parameters for optimal performance. However, for
more accurate decision, actual traffic dynamics of particular networking scenario should be
taken into account.
Although the analysis given above may seem to be restricted with large buffer size and long
aging duration, it can be easily enhanced and adapted for a wider domain. Therefore, tailoring
this analysis for actual satellite constellations may be a worthy experiment for demonstrating its
great benefits.
6. CONCLUSIONS
In this paper, we propose two traffic-sensitive shortest path routing algorithms for
NGEO satellite networks, namely Priority-based Adaptive Routing (PAR) and enhanced
PAR (ePAR). In the first algorithm (PAR), rather than setting the route in the terrestrial nodes
or in a single satellite node, the route is set-up by making the decision of sending packet from
which outgoing link at each hop. The decision criterion is based on a priority mechanism, which
favours links that are relatively less utilized. The second algorithm (ePAR) is proposed to
further enhance the routing algorithm for providing channelling of packets with same source‚Äì
destination pairs to same links. The rationale behind this enhancement is that less contention
may occur between packets over same routes.
As part of the proposed algorithms, we introduce a new priority metric that includes some
design parameters. To achieve a higher system performance, we present a detailed analysis of
ePAR for adjusting the design parameters. Relying on the analysis and extensive sets of
simulation results, we show that the proposed algorithms not only increase the throughput and
link utilization, but also decrease the delay.
Although the proposed algorithms aim to set distributedly the minimum-hop path towards
the destination, they may as well be extended to handle the dynamics of ISL lengths and to
further minimize end-to-end delay, instead of minimizing number of hops. For this purpose, we
are currently working on combining ePAR with DVTR [1] to account for the periodicity feature
of the topology changes.
REFERENCES
1. Werner M. A dynamic routing concept for ATM based satellite personal communication networks. IEEE Journal on
Selected Areas in Communications 1997; 15(8):1636‚Äì1648.
2. Korc¬∏ ak O¬®
, Kaya I, C¬∏ alikli HG, Alago¬®z F. Performance evaluation of adaptive and static routing algorithms and
contention resolution techniques in LEO satellite constellations. IEEE Recent Advances in Space Technologies
RAST, Istanbul, Turkey, June 2005.
3. Ekici E, Akyildiz IF, Bender MD. A distributed routing algorithm for datagram traffic in LEO satellite networks.
IEEE/ACM Transactions on Networking 2001; 9(2):137‚Äì147.
4. Taleb T, Jamalipour A, Kato N, Nemoto Y. IP traffic load distribution in NGEO broadband satellite networks.
Lecture Notes i¬¥n Computer Science 2006; 3733:113‚Äì123.
5. Kucukates R, Ersoy C. High performance routing in a LEO satellite network. Proceedings of the IEEE ISCC,
Antalya, Turkey, 2003; 1403‚Äì1408.
6. Papapetrou E, Pavlidou F-N. A proposal of optimal routing techniques for non-GEO satellite systems. International
Journal of Wireless Information Networks 2001; 8(2):75‚Äì83.
7. Korc¬∏ ak O¬®
, Alago¬®z F. Priority-based adaptive shortest path routing in IP over LEO satellite networks. 23rd AIAA
International Communications Satelllite Systems Conference (ICSSC‚Äô05), Rome, Italy, September 2005.
PAR IN NGEO SATELLITE NETWORKS 331
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
8. Jianjun B, Xicheng L, Zexin L, Wei P. Compact explicit multi-path routing for low earth orbit satellite networks. In
Proceedings of IEEE Workshop on High Performance Switching and Routing, Hong Kong, People‚Äôs Republic of
China, May 2005.
9. Mauger R, Rosenberg C. QoS guarantees for multimedia services on a TDMA-based satellite network. IEEE
Communications Magazine 1997; 35(7):56‚Äì65.
10. Voilet MD. The development and application of a cost per minute metric of the evaluation of mobile satellite
systems in a limited-growth voice communications market. Master‚Äôs Thesis, MIT, 1995.
11. Sun J, Modiano E. Routing strategies for maximizing throughput in LEO satellite networks. IEEE Journal on
Selected Areas in Communications 2004; 22:273‚Äì286.
12. Chen C, Ekici E. A routing protocol for hierarchical LEO/MEO satellite IP networks. Wireless Networks 2005;
11(4):507‚Äì523.
13. Distribution of top-level domain names by host count Jan 2005. Internet System Consortium, http://www.isc.org
[cited: May 2005].
14. Perdigues J, Werner M, Karafolas K. Methodology for traffic analysis and ISL capacity dimensioning in broadband
satellite constellations using optical WDM networking. Proceedings of 19th AIAA International Communication
Satellite Systems Conference (ICSSC‚Äô01), Toulouse, France, April 2001.
15. Chang HS, Kim BW, Lee CG, Choi Y, Yang HS, Kim DN, Kim CS. Performance comparison of optimal routing
and dynamic routing in low-earth-orbit satellite networks. In Proceedings of IEEE Vehicular Technology Conference
(VTC), Atlanta, GA, 1996; 1240‚Äì1243.
AUTHORS‚Äô BIOGRAPHIES
O¬®mer Korc¬∏ ak is a researcher, working toward PhD degree in the Department of
Computer Engineering, BogÀáazic¬∏ i University, Turkey. He received his BSc and MSc
degrees in Computer Engineering from BogÀáazic¬∏ i university, in 2002 and 2004,
respectively. From 2002 to 2005, he worked as a teaching assistant in the same
department. He receives PhD scholarship from The Scientific and Technological
Research Council of Turkey. His main research interests include networking in
non-geostationary satellite systems with focus on routing and traffic engineering
issues and all-optical networking with focus on wavelength assignment in optical
burst switching networks.
Fatih Alago¬®z is an Associate Professor in the Department of Computer Engineering,
Bogazici University, Turkey. He is also affiliated with the Department of Electrical
Engineering, Harran University, Sanliurfa, Turkey. From 2001 to 2003, he was with
the Department of Electrical Engineering, United Arab Emirates University, AlAin,
UAE. In 1993, he was a Research Engineer in a missile manufacturing company,
Muhimmatsan AS, Turkey. He received the BSc degree in electrical engineering from
the METU, Turkey, in 1992, and MSc and DSc degrees in electrical engineering from
George Washington University, USA, in 1995 and 2000, respectively. His current
research interests are in the areas of satellite networks and wireless/mobile networks,
UWB communications. He has contributed/managed to seven research projects for
various agencies/organizations including US Army of Intelligence Center, Naval
Research Laboratory, TUBITAK, BAP, etc. He has edited five books and published more than 60
scholarly papers in selected journals and conferences. Dr Alagoz is the Satellite Systems Advisor to the
Kandilli Earthquake Research Institute, Istanbul, Turkey. He has served on several major conferences
technical committees, and organized and chaired many technical sessions in many international
conferences. He is a member of the IEEE Satellite and Space Communications Technical Committee.
He has numerous professional awards.
O¬® 332 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
Abbas Jamalipour is on the faculty of the School of Electrical and Information
Engineering at the University of Sydney, Australia, where he is responsible for
teaching and research in wireless data communication networks, wireless IP
networks, network security, and satellite systems. He holds a PhD in Electrical
Engineering from Nagoya University, Japan. He is the author for the first technical
book on networking aspects of wireless IP, The Wireless Mobile Internet}Architectures, Protocols and Services, John Wiley & Sons 2003. In addition, he has
authored another book on satellite communication networks with Artech House in
1998, coauthored five technical books, authored over 140 papers in major journals
and international conferences, and given short courses and tutorials in major
international conferences, all in the field of wireless telecommunications. Professor
Jamalipour is an IEEE Distinguished Lecturer; a Fellow Member of IEAust; a Senior Member of IEEE;
Chair of the Satellite and Space Communications Technical Committee; Vice Chair of the Communications Switching and Routing Technical Committee; and Vice Chair of the Asia Pacific Board, Coordinating
Committee Chapter, all IEEE Communications Society. He is the Editor-in-Chief of the IEEE Wireless
Communications Magazine, a technical editor of the IEEE Communications Magazine, and the Wiley
International Journal of Communication Systems. Currently he is the chair of the IEEE GLOBECOM2005
Wireless Communications Symposium, and a Co-Chair of symposiums at IEEE ICC2005, ICC2006,
ICC2007, and GLOBECOM2006, as well as a Vice-Chair of the IEEE WCNC2006.
PAR IN NGEO SATELLITE NETWORKS 333
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dacINTERNATIONAL JOURNAL OF COMMUNICATION SYSTEMS
Int. J. Commun. Syst. 2007; 20:313‚Äì333
Published online 30 June 2006 in Wiley InterScience (www.interscience.wiley.com). DOI: 10.1002/dac.823
Priority-based adaptive routing in NGEO satellite networks
O¬®mer Korc¬∏ ak1,*
,y
, Fatih Alago¬®z
1,z
and Abbas Jamalipour2,}
1Computer Networks Research Laboratory (NETLAB), BogÀáazic-i University, Istanbul, Turkey
2
School of Electrical and Information Engineering, University of Sydney, Sydney, NSW 2006, Australia
SUMMARY
In a non-geostationary satellite constellation with inter satellite links (ISLs), there could be many shortest
paths between two satellites in terms of hop count. An efficient routing algorithm should effectively use
these paths in order to distribute traffic to ISLs in a balanced way and to improve the performance of the
system. This paper presents and evaluates a novel priority-based adaptive shortest path routing (PAR)
scheme in order to achieve this goal. PAR sets the path towards the destination in a distributed manner,
using a priority mechanism depending on the past utilization and buffering information of the ISLs.
Moreover, to avoid unnecessary splitting of a flow and to achieve better utilization of ISLs, enhanced PAR
(ePAR) scheme is proposed. This paper evaluates performance of the proposed techniques by employing
an extensive set of simulations. Furthermore, since there are a number of ePAR parameters that should be
adjusted depending on the network and traffic characteristics, a detailed analysis of ePAR scheme is
provided to form a framework for setting the parameters. This paper also includes a method for adaptation
of the proposed algorithms to minimum-delay path routing. Copyright # 2006 John Wiley & Sons, Ltd.
Received 5 January 2006; Revised 3 May 2006; Accepted 12 May 2006
KEY WORDS: non-geostationary satellite networks; routing; adaptive routing; load balancing; priority
mechanism
1. INTRODUCTION
With the rapid globalization of telecommunications industry, satellites are expected to widely
appear in future telecommunication systems, due to their capabilities such as extensive geographic
coverage, inherent multicast capabilities and support for mission-critical applications. Communications over satellites began with the use of individual satellites rotating on the Geostationary
Earth Orbit (GEO). However, high altitude of GEO satellites leads to high propagation delay and
this is not suitable for most applications (especially for real-time applications). Therefore, focus has
*Correspondence to: O¬®
. Korc¬∏ ak, Computer Networks Research Laboratory (NETLAB), BogÀáazic-i University,
Department of Computer Engineering, P.K. 2 TR-34342, Bebek, Istanbul, Turkey.
yE-mail: korcakom@cmpe.boun.edu.tr
zE-mail: alagoz@boun.edu.tr
}E-mail: a.jamalipour@ieee.org
Copyright # 2006 John Wiley & Sons, Ltd.
been directed towards development of non-geostationary (NGEO) systems consisting of Low
Earth Orbit (LEO) satellites and Medium Earth Orbit (MEO) satellites. For better utilization of
satellites and increasing the performance of the system, new NGEO systems usually support intersatellite links (ISLs) between satellites. The use of ISLs raises the issue of routing in the satellite
network. Employing an efficient routing protocol is a critical issue, since satellite network resources
are costly and must be managed in an optimal way. Unfortunately, mobility of satellites
complicates the routing issue in an NGEO satellite system; hence terrestrial routing algorithms are
not directly applicable in satellite networks. Satellite movements cause both the dynamicity of
network topology (variation in ISL lengths, etc.) and dynamicity of traffic passing over satellites. A
good routing algorithm should be adaptive to these dynamics.
It is important to note that changes in the network topology are periodic and predictable
because of the strict orbital movements of satellites. Therefore, it is reasonable to use this
periodicity feature while calculating routes. Dynamic Virtual Topology Routing (DVTR) [1] is
one of the most common routing methods that use the periodicity of the topology changes.
DVTR divides the system period into a set of time intervals, so that topology remains constant
over each interval. Time intervals are chosen to be short enough to assume that costs of ISLs are
fixed. Therefore optimal paths and alternate paths can be established using well-known methods
like Dijkstra‚Äôs shortest path algorithm. DVTR approach decreases the online computational
complexity with the expense of large storage requirements.
In a satellite network, routing decisions can be made offline or on-board. In the former case,
the routing algorithm could use information about predictable topology changes (such as
changes in the ISL lengths and connectivities), but it would not be adaptive to traffic load
changes. However, on-board routing algorithms yield better efficiency for dynamic traffic cases
with the expense of increased complexity. Several adaptive routing protocols that take the traffic
characteristics into account have been proposed for NGEO constellations. In Reference [2],
satellite constellation is modelled as a regular mesh and ISLs are assumed to have fixed length.
The work deals with adaptive routing with a limited set of alternative routes. However, there
may be many shortest paths (in terms of hop-count) in a mesh-like network which can be fully
utilized. Ekici et al. [3] propose the Datagram Routing Protocol, where ISLs are considered to
have variable length and each satellite decides on the neighbouring satellite to find the shortest
delay path. In this approach, a satellite may change its decision in case of excessive queue length;
however, it is desired to avoid congestion before it happens.
Since satellites cover smaller areas in low orbit systems, the traffic requirements are
unbalanced due to high population in cities, low at rural areas and almost no population over
the oceans which form 75 per cent of the earth‚Äôs surface. This may lead to congestion in some
resources, while others are under-utilized. To overcome this problem, the routing algorithm
should distribute the flows in balanced way over appropriate ISLs between the communicating
nodes. Considering this issue, Explicit Load Balancing (ELB) is proposed in Reference [4]. ELB
scheme is based on traffic load information at the next hop satellite on the remainder of the path
to destination. A congested satellite sends signals to its neighbouring satellites to decrease their
sending rates and its neighbours search for alternative paths in order to pass the extra burden to
less congested satellites. However, ELB does not give any solution for the case where alternative
paths are also congested. Moreover, it does not take any action for load balancing until some
nodes experience a level of congestion. There are also some flow-based routing algorithms that
aim balanced distribution of traffic flow to the network resources. Maximum-Flow MinimumResidual (MFMR) algorithm proposed in Reference [5] is a good example for the flow-based
O¬® 314 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
routing algorithms. MFMR tries to minimize maximum flow over a given set of shortest paths
and hence avoid congestion by achieving balanced distribution of traffic. The main drawback of
MFMR algorithm is that it implies knowledge of the flows over these paths and it does not
consider fast dynamic changes in the traffic flow over the given paths. Papapetrou et al. [6]
propose an Adaptive Flow Deviation algorithm which aims to balance the traffic load via a flow
deviation algorithm. This algorithm has also similar drawbacks as MFMR, and it implies high
signalling overhead and high complexity with no guarantee of performing better than the
simpler shortest path routing algorithms.
In this article, we propose an adaptive routing algorithm for satellite networks, namely
Priority-based Adaptive Routing (PAR) algorithm, which distributedly sets the minimum-hop
path towards a destination, and is more suitable for dynamic traffic. PAR takes the past
utilization and queuing information of links into account and aims to achieve more uniform
load distribution. In addition, we make an enhancement on PAR for better utilization of the
ISLs and propose ePAR. Using simulation results we show that the proposed techniques not
only increase throughput but also decrease delay. This paper is an extension of Reference [7] and
introduces adaptation of proposed techniques to minimum-delay path routing by incorporating
with DVTR. Furthermore, we present a detailed analysis of ePAR. Since there is a number of
parameters that should be adjusted properly, our analysis provides an opinion on the setting of
these parameters.
The remainder of this paper is organized as follows: In Section 2, the proposed adaptive
routing algorithms are presented. In Section 3, the considered network topology is illustrated
and implementation details of different routing algorithms are described. In Section 4, the
simulation environment, traffic model, and simulation results together with their interpretations
are presented. In Section 5, the analysis of ePAR is given in detail. Finally, this paper is
concluded in Section 6.
2. PROPOSED ADAPTIVE ROUTING ALGORITHMS
In the context of satellite constellations, we can define ‚Äòshortest path‚Äô in two ways: ‚Äòminimum
hop path‚Äô and ‚Äòminimum delay path‚Äô. In the former one, we do not consider the dynamic length
changes in ISLs and assume that ISLs are of fixed length. The shortest path is the one that
passes minimum number of hops. In the latter, we consider that the distance measure is the total
propagation delay and the length changes in ISLs should be taken into account. In the
literature, some of the proposed algorithms consider that a route that traverses less satellite
nodes is shorter and try to minimize average hop-count per transmission, while some others aim
to minimize average end-to-end delay. In this work, we consider the former case, i.e. our
proposed adaptive routing algorithms aim to use shorter paths in terms of hop-count. This is a
reasonable assumption for most of the constellation topologies. However, we also note that our
proposed algorithms can easily be adapted to ‚Äòminimum-delay path‚Äô case. We will examine this
case in the last part of this section.
2.1. Priority-based adaptive routing
Satellite networks are usually modelled as mesh-like networks. In a mesh-like network,
there might be many shortest paths between a source‚Äìdestination (s‚Äìd) pair, in terms of
PAR IN NGEO SATELLITE NETWORKS 315
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
hop-count. At each satellite node, more than one outgoing link could be on one of the
minimum hop path. Decision on sending the data from which of those links has an important
effect on the distribution of the traffic and utilization of ISLs. In the proposed algorithm,
the link to be used is decided by a priority mechanism depending on the past
utilization information about the links. We call this technique Priority-based Adaptive
Routing (PAR). The priority metric used for this purpose can be determined in various
ways. One simple possibility is to set it to the number of packets arrive to the link.
However, the congestion in a link is not only related with the number of arrivals to it.
For example among the links with same number of arrivals, the link with shorter queue
length may be favourable. Among other possibilities, we introduce the following as the
priority metric:
m ¬º a  nt √æ b  lq √æ d  nd √∞1√û
where nt
is the successfully transmitted data per second in the corresponding link, lq is the
average queue length, and nd is the dropped data per second. Each link has its own m value, and
it is updated depending on the changes in the traffic. Using this metric, traffic tends to distribute
the links in a more balanced way. Note that a, b and d are design parameters that should be
adjusted properly due to the traffic requirements and network topology.
2.2. Enhanced priority-based adaptive routing
It is important to note that most of the contentions occur between packets with different s‚Äìd
pairs. Therefore it would be better to switch packets with same s‚Äìd pairs to the same outgoing
link. This suggests that the performance of PAR algorithm may be enhanced by using the
following metric:
msd ¬º a  √∞nt  n
sd
t
√û √æ b  lq √æ d  nd √∞2√û
where n
sd
t
is the amount of transmitted packets corresponding to the s‚Äìd route, and msd is the
priority metric for traffic traversing on the s‚Äìd route. At the expense of increased complexity on
satellite nodes, better ISL utilization may be achieved by this technique. This technique is called
enhanced PAR (ePAR). We will describe results obtained by simulation for a considered
constellation topology and how the adjustment of a, b and d parameters in ePAR could affect
the performance of the system, in the following sections.
2.3. Aging mechanism
Considering that the latest utilization and buffering information is more important than
the older ones, an aging mechanism is needed while computing the priority metric.
One possibility is to take the average of the last t seconds. However this mechanism
has some drawbacks. Firstly, the information belonging to earlier times are also important
and ignoring them completely is not reasonable. Moreover, storing the information about
the last t seconds involves increased memory complexity. Therefore, we propose an aging
mechanism as follows:
We define an aging period with length ta
. At the beginning of each period, we store the
current m value in a variable called m
o
. Then satellite starts to collect utilization and
buffering information in a new variable called m
n
. At t0th time unit of a given period, m is
O¬® 316 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
calculated as follows:
m ¬º m
o
 1
t0
2ta
  √æ m
n

t0
2ta
  √∞3√û
Equation (3) is for PAR. For ePAR, it can be rewritten as
msd ¬º m
o
sd  1
t0
2ta
  √æ m
n
sd 
t0
2ta
  √∞4√û
2.4. Priority-based adaptive minimum-delay path routing
In this work, we consider a priority-based adaptive routing for satellite networks, aiming to
minimize hop-count. However, for some constellations, it could be more appropriate to consider
the amount of propagation delay instead of the hop count. In fact, one can also argue that better
definition of the ‚Äòshortest path‚Äô concept involves the sum of the total propagation delay and the
expected queuing delay (which is also related to the number of hops) that a packet would
experience from source to destination [8]. Since actual lengths of ISLs are not identical and they
dynamically change depending on the movement of satellites, it is somewhat challenging to
design a routing algorithm that cares about propagation delay. In this subsection, we will
examine how PAR can be extended for this purpose, and define PAR for Minimum Delay Path
Routing (PAR-MD).
As it was mentioned before, dynamic changes in the ISL lengths are predictable and
periodic due to the strict orbital movements of satellites. Therefore, some techniques
are proposed in order to use this periodicity property of the dynamic topology. Virtual Node
(VN) [9] and DVTR protocols are the most common ones. In VN technique, a fixed virtual
topology consisting of virtual nodes is superimposed over the physical topology in order to hide
the mobility of satellites from routing protocols. Each satellite corresponds to a VN at any given
time. As a satellite disappears over the horizon, its corresponding VN becomes represented by
the next satellite passing overhead and the state information (such as routing table entries) is
transferred to it. VN is not appropriate to use with PAR, because PAR uses the utilization and
buffering information of the physical satellites, not their corresponding virtual nodes. Therefore,
we will not deal with this technique in the rest of our work. On the other hand DVTR technique,
as mentioned before, divides the system period into N time intervals. During an interval i, the
topology is modelled as constant graph Gi
. Time intervals are short enough to define length of
ISLs as fixed. Then the shortest paths and alternative paths for each time interval can be set by
using well-known algorithms like Dijkstra‚Äôs shortest path algorithm. Then PAR-MD can use
these routes in order to find the most appropriate outgoing link of a given intermediate satellite,
for a given s‚Äìd traffic. We said that there could be many minimum hop paths between a s‚Äìd pair
in a satellite network. Therefore, in an intermediate satellite node, PAR was selecting the
outgoing link which was over a minimum hop path, and had the best priority. However, this is
not the case for minimum delay paths because of the spherical shape of the earth. Therefore, we
may consider k-shortest paths, or the paths that are not longer than the shortest path with a
given degree, while selecting appropriate outgoing link. In other words, an intermediate node
selects the outgoing link which is over one of these paths and has the best priority. In this case,
priority metric of a link may also include the length of short paths that pass over it. However,
this would require an extra complexity and overhead in satellite nodes.
PAR IN NGEO SATELLITE NETWORKS 317
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
3. SATELLITE NETWORK ARCHITECTURE AND ROUTING DETAILS
3.1. Network topology
In this work, we consider a polar LEO constellation similar to Teledesic, with 12 planes
and 24 satellites per plane at a height of 700 km. It is a p-constellation, where there is a
seam between satellites moving in opposite direction. Figure 1 shows the considered network
topology.
We assume that there is no ISL passing the seam. As shown in Figure 1, seam divides the
network into two parts and the satellites over the eastern hemisphere and the satellites over the
western hemisphere move in opposite directions. Hence, a data that originates from a location at
one hemisphere could be sent to a location in the other hemisphere, only by passing a pole.
Although this is an important drawback of p-constellations; it is not a critical factor in
dramatically affecting the performance of the proposed and tested routing techniques. In our
topology, seam passes over the Pacific and Atlantic oceans as shown with bold lines in Figure 2.
Due to complexity of the system parameters and to simplify the analysis we also assume that
satellites have disjoint footprints and dividing the earth into 12  24 terrestrial zones, as in
Figure 2, and each satellite sees one of these zones. Another assumption is made on the
handover mechanism, i.e. as the satellites move with angular velocity of 3.68 per minute, they
switch their zones in a discrete manner. Each zone is represented by Zx,y, where x 2 (0,11) and y
2 (0,23). x is the plane number of satellites passing over that zone, and y is defined as follows.
For western hemisphere, zones that are nearest to the northern pole have a y-value of zero.
Going to the south, y is incremented by one. At the eastern hemisphere y is 12 for the zones
nearest to the southern pole and going to the north, it is incremented by one.
Although more realistic scenarios could have been selected in the simulations, the potential of
our algorithms should remain the same.
Figure 1. Polar constellation topology with 12  24 nodes.
O¬® 318 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
3.2. Routing details
In a mesh network topology, as shown in Figure 1, there is more than one shortest path between
each source-destination pair (except if they are in same latitude or longitude) in terms of
hop-count. In the case of static routing, only one of these routes is utilized. If the adaptive
route is only set in the source node, as in Reference [2], this also does not yield a good utilization
of ISLs. However, routing techniques which also employ intermediate nodes for route
computation give better performance results. When a satellite receives a packet, it looks for its
destination node. If it is in the same latitude or longitude, there is only one direction to send (for
the shortest path). Otherwise, there are two possibilities. In that case, determining which
direction to send depends on the routing algorithm. For this purpose, we define four different
adaptive shortest path routing algorithms: Fixed Adaptive Routing (FAR), Random Adaptive
Routing (RAR), Priority-based Adaptive Routing (PAR), and Enhanced Priority-based
Adaptive Routing (ePAR). In this section, we first explain how to find the outgoing direction,
and then clarify these routing techniques.
3.2.1. Direction estimation. We define two variables: dirx 2 {East, West}, and diry 2 {South,
North}. Let us consider that a satellite node nc
, receives a packet with destination nd. Assuming
that nc
is over the zone Zxc,yc, and nd is over the zone Zxd,yd, determination of dirx and diry on
node nc
is done according to the pseudocode given in Figure 3. Note that, given direction
estimation process is specific for the considered mesh-like topology given in Figure 1. For any
other constellation topology, a specific direction estimation process should be determined
depending on the minimum-hop paths between satellite nodes.
Following the determination of directions, the next task is to determine which route to select
first. In this context, we may have various routing techniques.
Figure 2. Earth zone division, and user intensity levels on each zone [10]. Boldest lines show the location of
the seam in the satellite network.
PAR IN NGEO SATELLITE NETWORKS 319
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
3.2.2. Routing algorithms. In what follows, we define one static and four new adaptive shortest
path algorithms considered in this study:
1. Static Shortest Path Routing (STA): When a satellite receives a packet, it sends it in
y direction (South or North) if the satellite is not in the same latitude with the destination.
Otherwise, it sends in x direction (East or West). The established route consists of two
straight paths that first goes in y direction, and then in x direction (of course if s and d are
in different longitudes and latitudes).
2. Fixed Adaptive Routing (FAR): A satellite that receives a packet, always selects diry as the
initial direction. If diry is empty or ISL on that direction is busy, it tries dirx.
3. Random Adaptive Routing (RAR): Satellite randomly selects one of the diry or dirx. If it is
empty or ISL on that direction is busy, it tries the other direction.
4. Priority-based Adaptive Routing (PAR): Satellite checks m values for ISLs on both
directions. It selects one with less m value as initial direction. If the lSL on that direction is
busy, it tries the other.
5. Enhanced PAR (ePAR): Satellite checks the msd values for ISLs on both directions, where s
is the source node and d is the destination node of the packet. It selects the direction of the
ISL with less msd value as initial direction. If that ISL is busy, it tries the other.
else
diry = North
}
if xc = xd
dirx = {}
else if xc < xd
dirx = East
else if xc > xd
dirx = West
if yc = yd
diry = {};
else if yc < 12 AND yd < 12 {
if yc < yd
diry = South
else
diry = North
}
else if yc 12 AND yd >= 12 {
if yc > yd
diry = South
else
diry = North
}
else if yc < 12 AND yd 12 {
if (yd-yc) < (24-yd+yc)
diry = South
else
diry = North
}
else if yc 12 AND yd < 12 {
if (yc-yd) < (24-yc+yd)
diry = South
Figure 3. Algorithm for determining directions towards a destination.
O¬® 320 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
In all cases, we assume that ‚Äòthe ISL is busy‚Äô means it is transmitting a packet and its buffer is
full at that moment. Depending on the network characteristics, one may prefer to set a threshold
value for the buffer size, and consider the ISL as busy if its queue length exceeds this threshold
value. This is desirable especially for ISLs with high buffer capacities.
3.2.3. Contention resolution technique. Some contention resolution schemes are already defined
in the literature for the situations that two packets arrive to an ISL at the same time [11].
Random Packet Win (RPW), Oldest Packet Win (OPW), and Shortest Hop Win (SHW) are the
most common contention resolution techniques. In this work, we assume that SHW is utilized.
SHW favours the packets with the shortest hop distance to its destination node.
4. SIMULATIONS
4.1. Simulation setup
To test the performances of the proposed algorithms, we use an extensive set of simulations.
Simulation scenarios and system parameters are chosen to highlight the algorithm‚Äôs capability.
We simulate the constellation shown in Figure 1. It is a polar constellation with 12 x 24 satellites,
where there exists a seam. Satellites that are in the border of seam have three ISLs, since we
assume that there is no ISL over seam. Every other satellite has four ISLs. All satellites rotate on
their plane with an angular velocity of 3.68 per minute. This means that their corresponding
terrestrial zone changes at each 250 s. They complete their rotation in 100 min. For simplicity, all
ISLs are assumed to be identical (in terms of length and capacity) and their capacity is assumed to
be 0.16 Gbps. Each ISL has a buffer of size 40Mbytes. A packet size is assumed to be 1 Kbytes.
Therefore, ISL capacity and buffer size are considered as 20 000 and 40 000 packets, respectively.
4.2. Traffic model
Our traffic model is similar to the model considered in Reference [12]. It depends on the 2005
statistics about the user density levels per zone (Figure 2), Internet host density levels per
continent (Table I), and user activity levels per hour in percentage of the total traffic (Figure 4).
Let uxy be the user density of zone Zxy. We set the host density level of zone Zxy, hxy, as the
portion of total host density of its continent (Ci
) that is proportional with its user density
hxy ¬º hCi
 P
uxy
Zab2Ci
uab
√∞5√û
Table I. Internet Host Distribution By Continent (January 2005) [13].
Continent Number of hosts (hC) (x103
) Percentage
North America 223545.1 70.45
Europe 52947.1 16.69
Asia 28511.4 8.98
South America 6026.2 1.9
Oceania 5621.6 1.77
Africa 671.3 0.21
PAR IN NGEO SATELLITE NETWORKS 321
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
Chang et al. [15] suggests a traffic generating method depending on these densities. Traffic
requirement from zone Zxy to zone Ztk, T(xy,tk), is proportional with the user density in Zxy,
uxy, host density in Ztk, htk, and distance between these two zones
T√∞xy;tk√û ¬º
uxyhtk  y
√∞ √û dist√∞xy;tk√û
c
√∞6√û
In the simulations, we set y = 0.5 and c = 1.5 (as in Reference [12]). Depending on this traffic
requirement matrix, we model the traffic. We assume that, at a given hour h, the arrival of a
packet with source = Zxy and destination = Ztk is a Poisson process with rate l(xy,tk,h)
packets/second
l√∞xy;tk; h√û ¬º T√∞xy;tk√û
P
8Zab
P
8Zcd
T√∞ab; cd√û

ah
100 
A
3600 √∞7√û
where h is the current local hour and ah is the activity percentage in the corresponding hour (h),
that is given in Figure 4. Moreover, A is the aggregate traffic that represents total traffic
generated worldwide (packets per day).
4.3. Simulation results
We implemented all routing techniques based on the described network topology and the traffic
model given above. We developed our own simulator in C++. We tested the performance of
routing algorithms in terms of drop ratio and average queue length per link. Drop ratio is
defined as the ratio of dropped packets to the sum of dropped and successfully transmitted
packets, and average queue length is the ratio of the sum of the average number of packets in all
buffers to the number of ISLs.
We set the system parameters to the values shown in Table II. Best selection of the a, b and d
values depends on the traffic, and network characteristics. In the simulations, in order to avoid
complication, we simply decide to set these parameters as given in Table II, so that a  nt ranges
0
2
4
6
8
10
12
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24
Figure 4. User activity percentage per hour [14].
O¬® 322 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
between zero and one, and b  lq ranges between 0 and 2. Nevertheless, for various network and
traffic scenarios, the analysis provided in the next section could be utilized for improving system
performance.
Figure 5 shows the drop ratio versus A (in terms of terabit per day). As expected, Static
Routing performs the worst. FAR never provides a balanced distribution of traffic, therefore its
performance is worse than other adaptive routing techniques. It can be seen that priority-based
algorithms are the best in case of drop ratio. An important observation is that there is no
valuable difference between the performances of PAR and ePAR. This could be because the fact
that there are too many nodes, and hence too many source-destination pairs. In this case the
significance of channeling packets with same s‚Äìd pairs to same links is not evident. Moreover, as
number of nodes increase, the complexity of ePAR increases. Therefore, for the networks with
large number of nodes, PAR seems to be more suitable technique than ePAR. This suggests that
ePAR should be further investigated for MEO satellites.
Figure 6 illustrates the difference between queue lengths for different routing schemes. Static
Routing has the least queue lengths since most of the packets are dropped without being
buffered. Because, there is no alternative route for Static Routing; hence packets should not
have to wait anymore, if the link on the static route is busy. As the number of successfully
transmitted packets increase, we expect that the lengths of queues also increase because of the
high utilization of links (obtained result that illustrates the difference between queue lengths
for RAR and FAR meets our expectation). However, Figure 6 suggests that this is not the case
Table II. System Parameters.
Total Simulation time 1 day
Warm-up period 60 s
Aging period (t) 25 s
a 0.00005
b 0.00005
d 0.00005
0
0.05
0.1
0.15
0.2
0.25
100
Aggregate Traffic (Tb per day)
200 300 400 500 600 700
Drop Ratio
STA
FAR
RAR
PAR
ePAR
Figure 5. Drop ratio versus aggregate traffic for five different routing techniques.
PAR IN NGEO SATELLITE NETWORKS 323
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
for PAR and ePAR, and they outperform all other adaptive routing techniques in terms of
queue length. This is because priority-based techniques provide balanced distribution of traffic
among links, and more packets are successfully transmitted with less waiting times in queues.
This means that proposed priority-based adaptive routing schemes decrease end-to-end delay,
while increasing throughput.
Furthermore, we examine the performance behaviour in hour base. Figure 7 illustrates
generated traffic per hour (MAX), and successfully transmitted data (in Terabits) for each
routing algorithm. Results are for A = 400 Tbps. The base time is Greenwich Mean Time
(GMT). Two peaks are observed in the number of generated data. The first peak corresponds to
the time when it is daytime and user activities are in peak levels in Europe, and other
corresponds to the time when activities speed up in Northern America. In the second peak time,
performance difference between routing algorithms are more evident, whereas in the first peak
0
200
400
600
800
1000
1200
1400
1600
100 200 300 400 500 600 700
Avg Queue Length (packets)
STA
FAR
RAR
PAR
ePAR
Aggregate Traffic (Tb per day)
Figure 6. Average queue length versus aggregate traffic.
10
12
14
16
18
20
22
0 5 10 15 20 25
Hour (GMT)
Data (Terabit)
MAX
STA
FAR
RAR
PAR
EPAR
Figure 7. Successfully transmitted data (Tb) versus hour (GMT).
O¬® 324 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
time, all adaptive routing algorithms perform similarly. The reason for this may be due to the
traffic model. That is, for packets originating from Europe, there exist some factors that cause
packet drops regardless of which routing algorithm is used. For example, we observe that most
of the packets drops occur in the first hop. In other words, most of the packets received from the
terrestrial transmitters could not be passed to neighbouring satellite, since links in both
directions are busy. This condition could not be resolved by any shortest path routing
algorithm. A deflection routing algorithm could be utilized to overcome those cases.
5. ANALYSIS
This section includes an analysis of the ePAR algorithm, utilizing the mentioned aging
mechanism. Consider that a, b and d in Equation (2) denote the design parameters that should
be adjusted properly depending on the network characteristics. By the optimal selection of these
parameters, not only better load distribution can be achieved, but also traffic flows can be made
more stable. By stability, we mean avoiding the needless fluctuations due to redirection of all the
flows in a congested link, simultaneously. In this section, we will investigate how to set these
parameters to achieve more stable systems.
In our analysis, for the sake of simplicity, we assume that buffers are sufficiently large, hence
we ignore nd and Equation (2) is reduced to
msd ¬º a  √∞nt  n
sd
t
√û √æ b  lq √∞8√û
Defining a new variable nsd ¬º nt  n
sd
t
; equation (8) can be further reduced to:
msd ¬º a  nsd √æ b  lq √∞9√û
Note that, considering the aging mechanism in equation (4), nsd and lq can be calculated in same
manner as msd
nsd ¬º n
o
sd  1
t0
2ta
  √æ n
n
sd 
t0
2ta
  √∞10√û
lq ¬º l
o
q
 1
t0
2ta
  √æ l
n
q

t0
2ta
  √∞11√û
Suppose a satellite network in which arrival rate of an s‚Äìd flow is Poisson distributed with mean
1/l bps. We represent a flow with source x, and destination y with fxy. We consider a scenario,
where a new flow is participated to a link that is already utilized just below its capacity, and the
data arrival rate exceeds its capacity by the participation of the new flow.
We assume that the existing aggregate flow (Fe
) in a particular link has a rate ofX=l bps. A new
flow (fmn) with rate rmn=l is participated to the corresponding link. Note that the s‚Äìd pair of the
new flow is {m,n}. After the aggregation of the existing flow Fe
, and the new flow fmn, the total
arriving flow becomes √∞ √û X √æ rmn =l: Supposing that this value is greater than the link bandwidth,
B=l; total amount of traffic to serve is B=l and total flow to be blocked per second is √∞X √æ rmn
B√û=l: Assuming that the blocking probability for each flow is same, blocked portion of Fe will be
bF ¬º √∞X √æ rmn  B√û  1
l

X
X √æ rmn   √∞12√û
PAR IN NGEO SATELLITE NETWORKS 325
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
And the transmitted portion of Fe will be
tF ¬º
B
l

X
X √æ rmn   √∞13√û
For an s‚Äìd flow (a new flow or an existing flow), let us represent initial value of the nsd
(before the participation of new flow) with c
o
sd; and the value that nsd will converge is
represented with csd:
Since tF is the total transmitted data per second, except the portion corresponding to fmn, it is
cmn; the new value that nmn will converge
cmn ¬º
B
l

X
X √æ rmn   √∞14√û
Before the participation to the corresponding link, nmn was equal to the total transmitted data
in the link, since n
mn
t was zero. We represent the old value of nmn with c
o
mn
c
o
mn ¬º
X
l
√∞15√û
For any other flow fij that uses the same link (and hence that is a part of Fe
)
cij ¬º
B
l

X √æ rmn  rij
X √æ rmn   √∞16√û
where cij is the new value that nij will converge. The initial value for nij is determined by the
difference between total initial flow and the flow with source i and destination j
c
o
ij ¬º
X  rij
l
√∞17√û
Amount of blocked data continuously increases as time passes, and t seconds after the
participation of the new flow, length of queue becomes t  X √æ rmn  B=l; assuming that
the buffer is initially empty. Since we assume increment in queue length is linear, average queue
length between time t1 and t2
is
t1 √æ t2
2

X √æ rmn  B
l
For clear illustration, we represent increment in the queue length (per second) with a new
variable x
x ¬º
X √æ rmn  B
l
√∞18√û
Table III shows how nsd value and the queue length information changes after the
participation of new flow, fmn to the existing flow Fe
in a particular link. The effect of aging
mechanism is also considered. Let t15ta where ta denotes the length of aging period. Without
loss of generality, we consider that the participation of new flow occurred at the beginning of an
aging period. Note that, the equations given in Table III are valid for both the new flow and the
existing flows in the system.
We can find the sum of series that is included in Equation (20) in Table III
Xm
i¬º1
2i  1
2
mi
¬º
6
2
m
√æ 4m  6
O¬® 326 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
Therefore, Equation (20) is reduced to
lq ¬º
ta
4

6
2
m
√æ 4m  6
     1
t1
2ta
  √æ
2mta √æ t1
2
  
t1
2ta
   x √∞21√û
Figure 8 illustrates, how the nsd value changes, as time passes. A is the initial value for nsd,
namely c
o
sd; and B is the value that nsd converges, namely csd. nsd (ta) stands for nsd value at
time ta
.
Figure 9 illustrates the increment in the lq value with time. lq (ta) stands for the lq value at
time ta
. Even though the increment in the queue length is linear, the increment of lq is not linear
because of the effect of aging mechanism.
Table III. Changes in Utilization and Buffering Information with the Time.
Initially nsd ¬º c
o
sd
lq ¬º 0
After t1 s n
o
sd ¬º c
o
sd;n
n
sd ¬º csd; hence nsd ¬º c
o
sd  1
t1
2ta
  √æ csd 
t1
2ta

l
o
q ¬º 0;l
n
q ¬º
t1
2
 x; hence lq ¬º
t1
2
 x 
t1
2ta

After ta s nsd ¬º c
o
sd 
1
2
√æ csd 
1
2
lq ¬º
ta
2
2
 x
After ta+t1 s n
o
sd ¬º c
o
sd 
1
2
√æ csd 
1
2
;n
n
sd ¬º csd; hence nsd ¬º c
o
sd 
1
2
 1
t1
2ta
  √æ csd 
1
2
√æ
1
2

t1
2ta

l
o
q ¬º
ta
4
 x; l
n
q ¬º
2ta √æ t0
2
 x; hence lq ¬º
ta
4
 1
t0
2ta
  √æ
2ta √æ t0
2
  
t0
2ta
   x
After 2ta s nsd ¬º c
o
sd 
1
2
2
√æ csd  1
1
2
2

lq ¬º ta 
1
2
3
√æ 3ta 
1
2
2
   x
After mta s nsd ¬º c
o
sd 
1
2
m
√æ csd  1
1
2
m

lq ¬º ta 
1
2
m√æ1
√æ 3ta 
1
2
m
√æ 5ta 
1
2
m1
√æ√æ √∞ √û 2m  1  ta 
1
2
2
   x ¬º
ta
4

Xm
i¬º1
2i  1
2
mi
 !  x
After mta+t1 s nsd ¬º c
o
sd 
1
2
m
 1
t1
2ta
  √æ csd  1
1
2
m
√æ
1
2
m

t1
2ta
  √∞19√û
lq ¬º
ta
4

Xm
i¬º1
2i  1
2
mi
 !  1
t1
2ta
  √æ
2mta √æ t1
2
  
t1
2ta
 !  x √∞20√û
PAR IN NGEO SATELLITE NETWORKS 327
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
Figures 8 and 9 illustrate the case that no other new flow is participated and none of the flows
is redirected to another link. At some point, the corresponding link will become unfavoured for
the flows over that link, and redirections will occur. However, if all of the flows are redirected
continuously, it can lead to congestion in alternative link too. In that case, all of them will again
be redirected to this link, and this will lead to needless fluctuations and disruption of stability,
which will decrease the performance of the system. To avoid this scenario, we can redirect the
flows with smaller data rates first, by adjusting the ePAR parameters. If lq is too dominant for
determining priority metric, we cannot achieve this. Difference between priority metrics for two
flows fij and fkl on the corresponding link is determined by
jmij  mklj ¬º a  jnij  nklj √∞22√û
Figure 8. Illustration of Equation (19).
Figure 9. Illustration of Equation (21).
O¬® 328 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
The difference between nij and nkl values is
nij  nkl



 ¬º c
o
ij  c
o
kl





 
1
2
m
 1
t1
2ta
  √æ cij  ckl




 1
1
2
m
√æ
1
2
m

t1
2ta
  √∞23√û
Considering that {m,n} is the s‚Äìd pair of the newly participating flow fmn, for {i,j }={m,n} and
{k,l }={m,n} case, Equation (23) is reduced to
nij  nkl



 ¬º
rij  rkl
l





 
1
2
m
 1
t1
2ta
  √æ
B
l

rij  rkl
X √æ rmn








 1
1
2
m
√æ
1
2
m

t1
2ta

and it is equal to
nij  nkl



 ¬º
rij  rkl
l






1
2
m
 1
t1
2ta
  √æ
B
X √æ rmn
 1
1
2
m
√æ
1
2
m

t1
2ta
    √∞24√û
For sufficiently long aging periods, we can assume that redirections occur in first aging period,
hence m is equal to zero. Then Equation (24) is reduced to
nij  nkl



 ¬º
rij  rkl
l






1
t1
2ta
  √æ
B
X √æ rmn

t1
2ta
  √∞25√û
For the case that {k,l }={m,n}, Equation (23) reduces to following:
nij  nmn



 ¬º
rij
l





 
1
2
m
 1
t1
2ta
  √æ
B
l

rij  rmn
X √æ rmn








 1
1
2
m
√æ
1
2
m

t1
2ta

For m ¬º 0 case it is
nij  nmn



 ¬º
rij
l





  1
t1
2ta
  √æ
B
l

rij  rmn
X √æ rmn









t1
2ta
  √∞26√û
As it was mentioned before, lq should not be too dominant in determining priority
metric. This suggests that difference occur between priority metrics for two flows, with
reasonably distinct data rates, should be near to the change occur in b  lq value in a given
reasonable time td.
Again assuming that m ¬º 0; and initial lq value is zero, difference occured in the lq value in
time td
is the following
lq√∞td √û  lq√∞0√û ¬º t
2
d
4ta

X √æ rmn  B
l
√∞27√û
Now, we can set
a  nij√∞td √û  nkl√∞td √û



 ¬º b  lq√∞td √û  lq√∞0√û
  √∞28√û
where fij and fkl has reasonably distinct data rates, and td is chosen appropriately. If td is too
small, then system suffers from concurrent redirections. In the other case, if it is too large, then
the effect of queue length will be decreased in determination of the priority metric, and this can
decrease the performance of the system. If the data rate of Fe
is much higher than the data rate
of fmn, we can ignore the case that {k,l }={m,n}, and thus Equation (28) can be rewritten as
a
b
¬º
t
2
d
4ta

X √æ rmn  B
l
rij  rkl
l






1
td
2ta
  √æ
B
X √æ rmn

td
2ta
  √∞29√û
PAR IN NGEO SATELLITE NETWORKS 329
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
which reduces to
a
b
¬º
1
2

t
2
d
 √∞ √û X √æ rmn  B
rij  rkl




 √∞ √û 2ta  td √æ
B
X √æ rmn   √∞30√û
If we set the reasonable rate difference rij  rkl




to 0.5, Equation (30) reduces to:
a
b
¬º
t
2
d
 √∞ √û X √æ rmn  B
√∞ √û 2ta  td √æ
B
X √æ rmn   √∞31√û
Figure 10 illustrates the reasonable a=b values for different X values. Note that the y axis is
equal to zero in the case that the total flow does not exceed the link capacity after the
participation of new flow, and thus queue length does not increase (X ¬º B  rmn). In the case
that X ¬º B; the link was already fully utilized before the participation of new flow. At that
point, corresponding a=b is equal to R. From Equation (31), the value of R is found to be:
R ¬º
t
2
d
 rmn
√∞ √û 2ta  td √æ
B
B √æ rmn   √∞32√û
If the flow fmn is not partitioned to various links, the expected value for rmn is 1, and hence we
may reduce Equation (32) to the following:
R ¬º
t
2
d
√∞ √û 2ta  td √æ
B
B √æ 1
  √∞33√û
X ¬º B  rmn and X ¬º B are two extreme points for X, and a reasonable X value should be
chosen between these two values. For example, setting it to the mean value between B  rmn and
Figure 10. Illustration of Equation (31).
O¬® 330 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
B, that is B  √∞rmn=2√û (or B  0:5 if we set rmn ¬º 1), makes sense. The corresponding a=b value
will indicate possible selection of ePAR parameters for optimal performance. However, for
more accurate decision, actual traffic dynamics of particular networking scenario should be
taken into account.
Although the analysis given above may seem to be restricted with large buffer size and long
aging duration, it can be easily enhanced and adapted for a wider domain. Therefore, tailoring
this analysis for actual satellite constellations may be a worthy experiment for demonstrating its
great benefits.
6. CONCLUSIONS
In this paper, we propose two traffic-sensitive shortest path routing algorithms for
NGEO satellite networks, namely Priority-based Adaptive Routing (PAR) and enhanced
PAR (ePAR). In the first algorithm (PAR), rather than setting the route in the terrestrial nodes
or in a single satellite node, the route is set-up by making the decision of sending packet from
which outgoing link at each hop. The decision criterion is based on a priority mechanism, which
favours links that are relatively less utilized. The second algorithm (ePAR) is proposed to
further enhance the routing algorithm for providing channelling of packets with same source‚Äì
destination pairs to same links. The rationale behind this enhancement is that less contention
may occur between packets over same routes.
As part of the proposed algorithms, we introduce a new priority metric that includes some
design parameters. To achieve a higher system performance, we present a detailed analysis of
ePAR for adjusting the design parameters. Relying on the analysis and extensive sets of
simulation results, we show that the proposed algorithms not only increase the throughput and
link utilization, but also decrease the delay.
Although the proposed algorithms aim to set distributedly the minimum-hop path towards
the destination, they may as well be extended to handle the dynamics of ISL lengths and to
further minimize end-to-end delay, instead of minimizing number of hops. For this purpose, we
are currently working on combining ePAR with DVTR [1] to account for the periodicity feature
of the topology changes.
REFERENCES
1. Werner M. A dynamic routing concept for ATM based satellite personal communication networks. IEEE Journal on
Selected Areas in Communications 1997; 15(8):1636‚Äì1648.
2. Korc¬∏ ak O¬®
, Kaya I, C¬∏ alikli HG, Alago¬®z F. Performance evaluation of adaptive and static routing algorithms and
contention resolution techniques in LEO satellite constellations. IEEE Recent Advances in Space Technologies
RAST, Istanbul, Turkey, June 2005.
3. Ekici E, Akyildiz IF, Bender MD. A distributed routing algorithm for datagram traffic in LEO satellite networks.
IEEE/ACM Transactions on Networking 2001; 9(2):137‚Äì147.
4. Taleb T, Jamalipour A, Kato N, Nemoto Y. IP traffic load distribution in NGEO broadband satellite networks.
Lecture Notes i¬¥n Computer Science 2006; 3733:113‚Äì123.
5. Kucukates R, Ersoy C. High performance routing in a LEO satellite network. Proceedings of the IEEE ISCC,
Antalya, Turkey, 2003; 1403‚Äì1408.
6. Papapetrou E, Pavlidou F-N. A proposal of optimal routing techniques for non-GEO satellite systems. International
Journal of Wireless Information Networks 2001; 8(2):75‚Äì83.
7. Korc¬∏ ak O¬®
, Alago¬®z F. Priority-based adaptive shortest path routing in IP over LEO satellite networks. 23rd AIAA
International Communications Satelllite Systems Conference (ICSSC‚Äô05), Rome, Italy, September 2005.
PAR IN NGEO SATELLITE NETWORKS 331
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
8. Jianjun B, Xicheng L, Zexin L, Wei P. Compact explicit multi-path routing for low earth orbit satellite networks. In
Proceedings of IEEE Workshop on High Performance Switching and Routing, Hong Kong, People‚Äôs Republic of
China, May 2005.
9. Mauger R, Rosenberg C. QoS guarantees for multimedia services on a TDMA-based satellite network. IEEE
Communications Magazine 1997; 35(7):56‚Äì65.
10. Voilet MD. The development and application of a cost per minute metric of the evaluation of mobile satellite
systems in a limited-growth voice communications market. Master‚Äôs Thesis, MIT, 1995.
11. Sun J, Modiano E. Routing strategies for maximizing throughput in LEO satellite networks. IEEE Journal on
Selected Areas in Communications 2004; 22:273‚Äì286.
12. Chen C, Ekici E. A routing protocol for hierarchical LEO/MEO satellite IP networks. Wireless Networks 2005;
11(4):507‚Äì523.
13. Distribution of top-level domain names by host count Jan 2005. Internet System Consortium, http://www.isc.org
[cited: May 2005].
14. Perdigues J, Werner M, Karafolas K. Methodology for traffic analysis and ISL capacity dimensioning in broadband
satellite constellations using optical WDM networking. Proceedings of 19th AIAA International Communication
Satellite Systems Conference (ICSSC‚Äô01), Toulouse, France, April 2001.
15. Chang HS, Kim BW, Lee CG, Choi Y, Yang HS, Kim DN, Kim CS. Performance comparison of optimal routing
and dynamic routing in low-earth-orbit satellite networks. In Proceedings of IEEE Vehicular Technology Conference
(VTC), Atlanta, GA, 1996; 1240‚Äì1243.
AUTHORS‚Äô BIOGRAPHIES
O¬®mer Korc¬∏ ak is a researcher, working toward PhD degree in the Department of
Computer Engineering, BogÀáazic¬∏ i University, Turkey. He received his BSc and MSc
degrees in Computer Engineering from BogÀáazic¬∏ i university, in 2002 and 2004,
respectively. From 2002 to 2005, he worked as a teaching assistant in the same
department. He receives PhD scholarship from The Scientific and Technological
Research Council of Turkey. His main research interests include networking in
non-geostationary satellite systems with focus on routing and traffic engineering
issues and all-optical networking with focus on wavelength assignment in optical
burst switching networks.
Fatih Alago¬®z is an Associate Professor in the Department of Computer Engineering,
Bogazici University, Turkey. He is also affiliated with the Department of Electrical
Engineering, Harran University, Sanliurfa, Turkey. From 2001 to 2003, he was with
the Department of Electrical Engineering, United Arab Emirates University, AlAin,
UAE. In 1993, he was a Research Engineer in a missile manufacturing company,
Muhimmatsan AS, Turkey. He received the BSc degree in electrical engineering from
the METU, Turkey, in 1992, and MSc and DSc degrees in electrical engineering from
George Washington University, USA, in 1995 and 2000, respectively. His current
research interests are in the areas of satellite networks and wireless/mobile networks,
UWB communications. He has contributed/managed to seven research projects for
various agencies/organizations including US Army of Intelligence Center, Naval
Research Laboratory, TUBITAK, BAP, etc. He has edited five books and published more than 60
scholarly papers in selected journals and conferences. Dr Alagoz is the Satellite Systems Advisor to the
Kandilli Earthquake Research Institute, Istanbul, Turkey. He has served on several major conferences
technical committees, and organized and chaired many technical sessions in many international
conferences. He is a member of the IEEE Satellite and Space Communications Technical Committee.
He has numerous professional awards.
O¬® 332 . KORC¬∏ AK, F. ALAGO¬®Z AND A. JAMALIPOUR
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
Abbas Jamalipour is on the faculty of the School of Electrical and Information
Engineering at the University of Sydney, Australia, where he is responsible for
teaching and research in wireless data communication networks, wireless IP
networks, network security, and satellite systems. He holds a PhD in Electrical
Engineering from Nagoya University, Japan. He is the author for the first technical
book on networking aspects of wireless IP, The Wireless Mobile Internet}Architectures, Protocols and Services, John Wiley & Sons 2003. In addition, he has
authored another book on satellite communication networks with Artech House in
1998, coauthored five technical books, authored over 140 papers in major journals
and international conferences, and given short courses and tutorials in major
international conferences, all in the field of wireless telecommunications. Professor
Jamalipour is an IEEE Distinguished Lecturer; a Fellow Member of IEAust; a Senior Member of IEEE;
Chair of the Satellite and Space Communications Technical Committee; Vice Chair of the Communications Switching and Routing Technical Committee; and Vice Chair of the Asia Pacific Board, Coordinating
Committee Chapter, all IEEE Communications Society. He is the Editor-in-Chief of the IEEE Wireless
Communications Magazine, a technical editor of the IEEE Communications Magazine, and the Wiley
International Journal of Communication Systems. Currently he is the chair of the IEEE GLOBECOM2005
Wireless Communications Symposium, and a Co-Chair of symposiums at IEEE ICC2005, ICC2006,
ICC2007, and GLOBECOM2006, as well as a Vice-Chair of the IEEE WCNC2006.
PAR IN NGEO SATELLITE NETWORKS 333
Copyright # 2006 John Wiley & Sons, Ltd. Int. J. Commun. Syst. 2007; 20:313‚Äì333
DOI: 10.1002/dac
Virtual topology dynamics and handover mechanisms in Earth-fixed
LEO satellite systems q
Omer Korcak *, Fatih Alagoz
Department of Computer Engineering, Computer Networks Research Laboratory (NETLAB), BogÀòazici University, Istanbul, Turkey
article info
Article history:
Received 11 March 2008
Received in revised form 23 October 2008
Accepted 29 January 2009
Available online 8 February 2009
Responsible Editor: E. Ekici
Keywords:
Earth-fixed satellite systems
Virtual topology
Virtual node
Handover mechanisms
Soft handover
abstract
Handling network mobility in a highly dynamic LEO satellite network is a critical issue to
achieve seamless and efficient integration of satellite and terrestrial networks. In Earthfixed satellite systems, this task could be simplified by representing the network with a
more static virtual topology. Virtual node (VN) approach is widely explored in satellite networks research; however, it has some deficiencies due to necessity of one-to-one correspondence between virtual nodes and physical satellites. In this work, a generic virtual
topology model, namely multi-state virtual network (MSVN) architecture that alleviates
these deficiencies, is proposed. A new mathematical model for MSVN is introduced along
with its potential contribution to the overall system availability. Furthermore, possible
handover mechanisms in Earth-fixed satellite systems are investigated, and new efficient
handover mechanisms for both VN-based systems and MSVN-based systems are proposed.
Comparing the handover mechanisms, we conclude with the benefits of using an MSVNbased Earth-fixed satellite system.
 2009 Elsevier B.V. All rights reserved.
1. Introduction
Satellite networks are an attractive option to provide
broadband integrated Internet services to globally scattered users, due to their potential advantages such as
extensive geographic coverage, high bandwidth availability, and inherent broadcast capabilities. Satellites rotating
in geostationary orbit (GEO) are well suited for broadcast
services; however, they suffer from high free space attenuation and long delays. On the contrary, non-geostationary
systems consisting of Medium Earth Orbit (MEO) and
Low Earth Orbit (LEO) satellites offer lower latency, lower
free space loss, and better re-use of available ground-space
communication frequencies. Therefore, they are more suitable for most applications, especially, for those running in
real-time. However, these advantages come with a price:
Footprints of satellites at lower altitudes are smaller, and
global coverage can be provided by higher number of satellites connected with inter-satellite links (ISL). Moreover,
lower orbit satellites move with higher speeds relative to
the Earth‚Äôs surface, resulting in high dynamic in the network topology. This topological phenomenon constitutes
a major challenge in providing quality of service (QoS)
for rapidly growing real-time multimedia services.
Connectionless protocols may use the network resources efficiently; however, providing QoS guarantees is
difficult in connectionless networks, in particular due to
the difficulty in accounting for the delay aspects of QoS
and sequencing. Reliable and powerful traffic engineering
methods and QoS provisioning mechanisms are usually
provided through connection orientation. However, connection-oriented protocols face an important challenge in
satellite networks: Established connections must be maintained as the network topology changes. To address this
challenge, satellite topology dynamics should be handled
properly. Fortunately, although the topology of a satellite
1389-1286/$ - see front matter  2009 Elsevier B.V. All rights reserved.
doi:10.1016/j.comnet.2009.01.010
q
Part of this work has been presented at IEEE GLOBECOM, Washington,
DC, 2007 [1].
* Corresponding author. Tel.: +90 212 3596652; fax: +90 212 2872461.
E-mail addresses: omer.korcak@cmpe.boun.edu.tr (o. Korcak), fatih.
alagoz@boun.edu.tr (F. Alagoz).
Computer Networks 53 (2009) 1497‚Äì1511
Contents lists available at ScienceDirect
Computer Networks
journal homepage: www.elsevier.com/locate/comnet
network rapidly changes, these changes are periodic and
predictable because of the strict orbital movements of
the satellites. Moreover, satellite constellation topology
has a regular and highly symmetric structure. Considering
these properties, some techniques are proposed in order to
make up with the mobility of the network topology [2].
Virtual node (VN) concept is one of the most common approaches. In the VN technique, a fixed virtual topology consisting of VNs is superimposed over the physical topology
in order to hide the mobility of satellites from the routing
protocols. To the best of our knowledge, it is first described
by Mauger and Rosenberg [3], and many researchers develop their routing protocol based on this approach. However
it has some deficiencies, which come from the fact that VN
concept necessitates one-to-one correspondence between
physical satellites and virtual nodes and it could not be applied for systems where more than one satellite can serve
for a single footprint area. To make up with this, we propose and model a multi-state virtual network (MSVN)
topology which enables more than one satellite to cover
a single footprint area. Details of MSVN are given in Section
3 together with brief discussion about its usefulness. To
clarify potential advantages of MSVN-based systems over
VN-based systems, we focus on handover mechanisms
for both kinds of systems. To our knowledge, this is the
first work that investigates link-layer handovers in Earthfixed satellite systems. In Section 4, we first propose an
efficient handover algorithm for VN-based systems. Next,
we devise soft and semi-soft handover algorithms for
MSVN-based systems. Comparison of proposed algorithms
shows potential advantage of MSVN over single state conventional VN architecture. Finally, Section 5 concludes this
work.
2. Satellite network dynamics
Low orbit satellites move with higher speeds relative to
the Earth‚Äôs surface, resulting in high variation in the satellite constellation topology. Therefore, connections between
a terminal and a satellite must be handed over to another
satellite when the current satellite drops too low above the
horizon. On the other hand, handovers of active communications should be controlled considering the capabilities of
the satellite antenna system. There are two general
techniques:
 Asynchronous Handover: It is generally appropriate for
satellite antenna systems that have satellite-fixed (nadir
pointing) footprint. As the satellite moves across the
sky, its footprint sweeps across the surface with a constant velocity, as shown in Fig. 1a. When a terminal
reaches the edge of the current footprint, it is handed
off to a new satellite whose footprint is entering the
area.
 Synchronous Handover: This approach can be applied for
the satellite systems where a satellite is capable of electronically steering its beams, so that it can make up for
its motion and the satellite footprint can be fixed for a
time duration. This leads to Earth-fixed footprints as
shown in Fig. 1b. After some time, all the satellites will
be moving away from their corresponding footprints,
and the system periodically reassigns each satellite to
a new fixed footprint. This approach is proposed in [4],
and it is called synchronous handover since all handovers occur simultaneously. Although this technique
comes with the cost of degradation in the elevation
mask used in the system, it has the potential to simplify
the handovers. In our work, we consider satellite systems with Earth-fixed footprints.
Synchronous handover technique eases the mobility
management issue, since it allows each physical satellite
to be represented by a VN. In the VN technique, a fixed virtual topology consisting of VNs is superimposed over the
physical topology in order to hide the mobility of satellites
from the network layer. A logical address is assigned to the
fixed portions of the Earth‚Äôs surface. Then, by using Earthfixed satellite systems described above, a satellite embodies the VN above this fixed Earth footprint for the time period during which it is serving that footprint. Each VN is
embodied at any given time by a certain physical satellite.
As a satellite disappears over the horizon, its corresponding VN becomes represented by the next satellite passing
overhead and the state information (such as routing table
entries or channel allocation information) is transferred
to it. Handover between VNs and physical satellites are
synchronously performed, hence, the virtual topology remains unchanged. A routing decision is made on this fixed
virtual topology, and consequently, the network layer is
isolated from the satellite constellation dynamics.
Recently, many routing protocols are proposed based on
VN concept. A mechanism to adopt IP routing at the VNs in
order to seamlessly integrate space network with terrestrial Internet and provide direct support for IP-QoS and
IP-Multicast is presented in [5]. A distributed datagram
routing algorithm, and a multicast routing algorithm
regarding satellite network as a mesh topology consisting
of fixed logical locations (virtual nodes) are introduced in
[6,7], respectively. Moreover, some hierarchical routing
algorithms that are developed for integrated satellite networks consisting of LEOs and MEOs [8] or High Altitude
Platforms (HAPs), LEOs and GEOs [9] simplify LEO layer
by modeling it as a fixed virtual network.
Although VN concept is widely accepted, it has also
some potential drawbacks that need to be significantly improved. Representing each physical satellite with a virtual
node implies one-to-one mapping between terminals in a
given footprint and satellite serving to that footprint. Conventional VN concept does not allow multiple satellites to
serve single footprint area. However, this is desirable property due to following reasons:
1. A single satellite may not be sufficient to serve all terminals in a particular footprint area due to high service
demand of ground terminals (GTs) or because of shadowing by terrain and buildings. Therefore, system availability can be increased by providing coverage to an
area through multiple satellites.
2. During daylight hours, if the satellite is located along
the same line of sight with the sun, communication
becomes impossible due to the sun‚Äôs radiation overwhelming the satellite signal. This is called sun outage,
1498 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
and occurs around the time of the spring and fall equinoxes when the sun crosses the Earth‚Äôs equatorial
plane. System can compensate these situations only
by offering alternative satellites.
3. More bandwidth can be provided for densely populated
areas by directing beams of neighboring satellites to
these areas.
4. To achieve lossless handover, at least two satellites
should serve a terminal during handover task. VN technique eliminates the need for network layer handover
but in lower layers, it could not support soft handover,
and only solution is a lossy hard handover.
Considering these issues, the necessity of one-to-one
correspondence between VNs and physical satellites constitutes major shortcomings of conventional VN approach.
Therefore, we propose the multi-state virtual network
(MSVN) concept that enables more than one satellite to
cover a single footprint area. We describe this concept in
next section.
3. Virtual topology dynamics
In our analysis of virtual topology dynamics, we consider a satellite orbit with NSAT satellites that have Earthfixed footprints, and serve for total of NFP footprint areas
along the orbit. We also assume that inter-satellite
distances are equal for the satellites in same orbit. In conventional VN concept, NSAT is equal to NFP, i.e., there exists a
single satellite for each footprint. However, for the sake of
increasing system availability, we also consider the cases
where there is more than one satellite per footprint.
Definition 1 (Average number of satellites per footprint). Average number of satellites per footprint area
√∞N
avg
S=F
√û is calculated as
N
avg
S=F ¬º
NSAT
NFP
: √∞1√û
For conventional VN concept, NSAT is equal to NFP and
N
avg
S=F
is equal to 1.
The case where N
avg
S=F ¬º 2 is illustrated in Fig. 2a. In this
case, as a satellite leaves the footprint area, another one
starts serving the same area. Therefore, each footprint is always served by two satellites. Hence, we can model the entire system as a fixed virtual network as in Fig. 2b.1 A circle
denotes a virtual node that is embodied by a single physical satellite, e.g., v1 in Fig. 2b is embodied by satellite 1 in
Fig. 2a. Rectangles represent footprint areas that include
ground terminals (GT) served by two satellites (that are
a
b
Fig. 1. Satellite-fixed (a) and Earth-fixed (b) footprints.
1 Note that we assume that satellites in different orbits switch footprint
areas synchronously.
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1499
represented by two circles within the rectangular area) at a
time. Note that physical satellites are connected with GTs
by up‚Äìdown links (UDLs); therefore, it can be considered
that there are undesignated links between rectangle nodes
and the circle nodes covered by them. In this case, system
availability is improved compared to the conventional VN
approach; however, satellites need to transfer the state
information two times more frequently.
Note that, when N
avg
S=F
is an integer value, then we
have a fixed virtual topology and each footprint area is
always served by N
avg
S=F
satellites. However, for the systems where N
avg
S=F
has a non-integer value, number of satellites covering a footprint area (NS/F) changes with time,
which yields a dynamic virtual topology. In such systems, at a given time, a footprint area is served by
N
avg
S=F
j k or N
avg
S=F
l m satellites. The case with N
avg
S=F ¬º 1:5
where three satellites serve for two footprints every time
is illustrated in Fig. 3a. Two satellites (Sat1 and Sat2)
serve f1 and one (Sat3) serves f2. Corresponding virtual
network is VNet1 shown in Fig. 3b. (Virtual sub-network
in the figure corresponds to the part of the network
shown in Fig. 3a.) However, when Sat2 switches to f2
as shown in Fig. 4a, then two satellites (Sat2 and Sat3)
continue serving f2 and only Sat1 serves f1, and virtual
topology changes to VNet2 shown in Fig. 4b. After a
while, new satellite enters f1 area, and Sat3 leaves f2
and the virtual topology switches to the VNet1. In this
case, virtual topology has two states, one is active and
the other is passive at a given time. For example, in
the situation shown in Fig. 3a, VNet1 is active and VNet2
is passive, and for Fig. 4a, VNet2 is active and VNet1 is
passive. We call such virtual topology with multiple
states, multi-state virtual network (MSVN) topology. Number of states depends on N
avg
S=F
value. In the next subsection, we describe general case of MSVN and provide a
formal model.
3.1. Multi-state virtual network (MSVN) topology
In order to provide a formal description, we give set of
definitions.
Definition 2 (Inter-satellite angular distance). Consider
that NSAT satellites exist per satellite orbit. If we assume
that inter-satellite links between each satellite in the same
orbit are identical and the angular length of an orbit is 2p,
then, the length of an angular distance (LSAT) between each
satellite pair is expressed by
LSAT ¬º
2p
NSAT
: √∞2√û
Definition 3 (Angular length of anEarth footprint). Let all of
the satellites in an orbit serve for NFP footprint areas. Considering that the sum of the angular lengths of these footprints is 2 p, the angular length of a single footprint (LFP) is
calculated as
LFP ¬º
2p
NFP
: √∞3√û
a
b
Fig. 2. Part of a satellite system with N
avg
S=F ¬º 2 (a) and corresponding virtual network (b).
1500 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
Note that actually footprints are circular areas, and some
overlapping between the footprints of the adjacent satellites is necessary. Therefore, we consider effective footprint
[10] of a satellite which is equivalent to the largest hexagon inscribed into the footprint as shown in Fig. 5.
Definition 4 (Minimum area served by fixed number of satellites). In conventional VN concept, single footprint area is
served by fixed (one) satellite all the time. In MSVN, minimum number of consecutive footprints served by fixed
number of satellites (MFP) changes with the value of N
avg
S=F
.
When N
avg
S=F
is integer, MFP is equal to one. For N
avg
S=F ¬º 1:5,
MFP is two as shown in Fig. 3a. In general, MFP can be found
by
MFP ¬º
lcm√∞gLSAT ; gLFP√û
gLFP
; √∞4√û
where lcm is the least-common-multiple function and g is
a normalization factor, such that both gLSAT and gLFP are
integer values. If we set
g ¬º
NSAT  NFP
2p
; √∞5√û
then (4) reduces to
MFP ¬º
lcm√∞NFP;NSAT √û
NSAT
: √∞6√û
MFP consecutive footprint areas are always served by MSAT
satellites. Therefore, MSAT can be expressed by
MSAT ¬º MFP  N
avg
S=F ¬º
lcm√∞NFP;NSAT √û
NFP
: √∞7√û
Definition 5 (High and low service modes). Recall that the
number of satellites serving a footprint area (NS/F) varies
between N
L
S=F
and N
H
S=F
, where N
L
S=F ¬º N
avg
S=F
j k and
N
H
S=F ¬º N
avg
S=F
l m. A footprint area is said to be in low service
mode when N
L
S=F
satellites serve it and in high service mode
when N
H
S=F
satellites serve. At a given time, among MFP consecutive footprints, M
L
FP footprints are served by N
L
S=F
satellites and M
H
FP footprints are served by N
H
S=F
satellites. When
N
avg
S=F
is integer, M
L
FP and M
H
FP are equal to MFP (which is one).
Otherwise,
M
L
FP ¬º MFP  N
avg
S=F
l m  N
avg
S=F
 ; √∞8√û
M
H
FP ¬º MFP  N
avg
S=F  N
avg
S=F
  j k : √∞9√û
In order to validate that both M
L
FP and M
H
FP have integer values, recall that
a
b
Fig. 3. Part of a satellite system with N
avg
S=F ¬º 1:5: case 1 (a) and corresponding virtual network (VNet1) (b).
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1501
N
avg
S=F
j k ¬º
NSAT
NFP   ¬º
NSAT  √∞NSAT modNFP√û
NFP
: √∞10√û
Using (6), (9) and (10),
M
H
FP ¬º
lcm√∞NFP;NSAT √û
NSAT

NSAT modNFP
NFP
¬º
NSAT modNFP
gcd√∞NSAT ;NFP√û
; √∞11√û
which is known to be an integer value. In a similar manner,
the following equation is derived for low service mode:
M
L
FP ¬º
NFP  NSAT modNFP
gcd√∞NSAT ;NFP√û
; √∞12√û
which is also clearly an integer value.
Definition 6 (Multi-state virtual sub-network). An MSVN
consists of identical multi-state virtual sub-networks
(MSVSN) connected with each other. An MSVSN consists
of MFP consecutive footprint areas (served by MSAT satellites), MSAT virtual nodes (each embodied by a satellite)
and MSAT  1 links (which connects consecutive virtual
node pairs). Note that (6) suggests NFP to be an integer
multiple of MFP, i.e.,
NFP ¬º r  MFP; r 2 Z
√æ
: √∞13√û
Each of these r consecutive footprint groups are served by
MSAT satellites in an identical manner. Therefore, for an orbit, there exists r identical MSVSNs. All of these sub-networks have the same number of states that switch
synchronously. Moreover, recall that we assume that satellites in different orbits switch their footprint areas in a synchronous manner. Therefore, if the satellite network has k
orbits, then an MSVN consists of k  r identical MSVSNs.
Hence, modeling single MSVSN and linking k  r such subnetworks are sufficient to model an MSVN. Links between
a
v
1
v
2
v
3
f
1
f
2
Virtual sub-network b
Fig. 4. Part of a satellite system with N
avg
S=F ¬º 1:5: case 2 (a) and corresponding virtual network (VNet2) (b).
Fig. 5. Effective footprint and its angular length.
1502 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
sub-networks are determined by the ISL characteristics of
physical network.
Definition 7 (System period and state intervals). System
period (T) is defined as the time elapsed for a virtual topology to repeat its states. For a system with only one state, T
is equal to 1. For systems with more than one state, T is
the following:
T ¬º DtS  NS; √∞14√û
where DtS
is the state interval, i.e., the time period for
changing a state. NS
is the number of states, which is
shown to be equal to MFP with the theorem given next.
Theorem 1. For an MSVN, NS
is equal to MFP.
Proof. As mentioned before, the number of states for an
MSVN is equal to the number of states for its MSVSN. Consider a moment when a satellite just starts to serve the first
footprint area of MSVSN, and suppose that the system is in
state 1 at that moment. This state is repeated when the
next following satellite starts to serve this first footprint.
Between these two events, system changes its state NS
times. Note that the state changes only when a satellite
switches its footprint. In an MSVSN, two satellites cannot
switch to a new footprint at the same time (otherwise
there would be two consecutive footprint groups of size
MFP/2 served by fixed number of satellites). Moreover, each
of the points over an orbit is passed by exactly one satellite
during the system period. Therefore, exactly one satellite
switches to each of the MFP footprints. Since there are
MFP consecutive footprints and exactly one satellite
switches to each of these footprints (in different times)
during a system period, there are exactly MFP states in
the system.
The number of states is illustrated in Fig. 6 for various
NSAT values when NFP is equal to 24.
At a given time, only one state is active and others are
passive. The active state changes at each DtS time units,
and DtS can be found as
DtS ¬º
2p
lcm√∞NFP;NSAT √û  xSAT
; √∞15√û
where xSAT stands for angular velocity of a satellite. h
Definitions given above clearly identify characteristics
of an MSVN topology. To briefly summarize, MSVN consists
of k  r identical MSVSNs. Each MSVSN can be considered as
a set of virtual sub-networks (each corresponds to a particular state and remains active for DtS time units). Each virtual sub-network consists of MSAT VNs, MFP footprints
(which can be considered as terrestrial nodes that are connected with VNs), set of links between neighboring VNs
and set of links between VNs and terrestrial nodes (footprints). Footprints in high service mode are linked to more
VNs than footprints in low service mode. At any given time,
M
H
FP of the MFP footprints are in high service mode, and M
L
FP
are in low service mode. Service modes of footprint areas
may change at each state in a deterministic manner.
A detailed formal mathematical model for MSVN and
MSVSN is available in [1]. For the sake of clarity, we will
not include further details in this paper. Rather, we will
discuss usefulness of MSVN topology and show some of
its potential advantages.
3.2. Discussion
For the cases where N
avg
S=F
is not an integer value, a GT
will be served by variable number of satellites. When a
particular footprint area switches from high service mode
to low service mode, system availability decreases, and this
may force some of the connections to be dropped. Therefore, a call admission mechanism need to be employed in
order to guarantee connectivity when the system changes
its state. This means that in the high service mode UDL
links could not be fully utilized. Therefore, it could be argued that a satellite system (say system 1) with N
avg
S=F ¬º c
(where c > 1 and c R Z) has no further advantage compared
to another system (say system 2) with N
avg
S=F ¬º bcc. Nevertheless, system 1 can offer higher system availability than system 2 due to several reasons elaborated next.
In system 1, effect of shadowing by terrain and buildings and sun outage problem are lower. This is because elevation angle between terminal and the nearest satellite is
always greater in system 1. Moreover, on the average,
there is more opportunity in selecting a satellite terminal
to send data.
By letting some non-critical communications to perform only in high service mode, system utilization
improves.
Fig. 6. Number of states versus NSAT (NFP = 24).
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1503
By properly adjusting beam directions, a single state
virtual network topology can be achieved for system 1. In
other words, by making satellites to direct their beams to
neighboring footprint areas (with higher traffic density)
we can satisfy the condition that every footprint area continuously served by fixed number of satellites. This significantly increases the system availability. We justified this
idea in [11], where we proposed a traffic aware optimal
beam management technique, which significantly increases availability and utilization of the system with a
marginal increase in the cost.
Moreover, it is possible to provide faster and smoother
handover algorithms in system 1. As an example, soft
handover could be employed in system 1, whereas it could
not be employed in system 2, because all handovers occur
simultaneously.
Considering these issues, various networking protocols
can be developed based on the proposed virtual network
framework. In the next section, we focus on the last issue,
and investigate, propose and compare possible handover
mechanisms for VN-based systems and MSVN-based
systems.
4. Handover mechanisms
As mentioned in Section 2, Earth-fixed satellite systems
can offer synchronous handover, which means all handovers between satellites and fixed Earth terminals occur
simultaneously. Using VN technique, network layer handover could be totally eliminated because VNs have fixed
IP addresses and routing mechanisms are utilized over
the fixed virtual topology. However, although there is no
need for network layer handover, physical network is dynamic and handover in lower layers could result in significant packet loss. Designing a smooth (low packet loss) and
fast (low latency) handover algorithm is a crucial issue.
Especially for satellite environments with long propagation
delays, system performance could be significantly improved by using proper handover mechanisms. To our
knowledge, there is no previous work that investigates
link-layer handovers in Earth-fixed satellite systems.
Therefore, we first propose an efficient handover scheme
for VN-based satellite systems, namely Virtual Node Handover (VN-HO) algorithm. Next, we propose soft handover
algorithm and semi-soft handover algorithm for MSVNbased satellite networks; MSVN-SHO and MSVN-SSHO.
Comparison of proposed algorithms shows possible
advantage of MSVN over single state conventional VN
architecture.
4.1. Handover mechanisms in VN-based satellite system
In the VN technique, mapping between VNs and physical satellites are changed periodically. When a satellite
changes its corresponding VN, it transfers state information, such as routing table entries and channel allocation
information to the next satellite passing overhead and receives new state information from the previous satellite
that embodies its new VN. In order to reduce latency,
each satellite activates new state information simultaneously. However, as satellites change their state and address, the packets on the network will not be able to
reach their intended target. To handle this problem, one
simple method is to ignore these packets and retransmit
them after new mapping between VNs and satellites is
established. However, this method results in high handover latency and significant performance decrease. Instead, we propose a new handover algorithm for VNbased Earth-fixed satellite systems, namely Virtual Node
Handover (VN-HO) algorithm.
4.1.1. Virtual Node Handover (VN-HO) algorithm
As we mentioned above, VN-based systems do not need
network layer handover. However, link-layer handover can
take significant amount of time. As a satellite switches
from one footprint area to another, it should activate its
new state information, steer its beams to serve for the
new area, and start communicating to GTs in that area.
VN-HO algorithm aims to minimize packet loss during this
switching period. We can describe VN-HO algorithm as
follows.
After receiving new state info from their predecessors,
all satellites activate new state info in a simultaneous manner. As soon as new state information is activated, a satellite sends ACTIVATED message to all its neighbors to
inform that packets sent after this time are according to
new state. At the same time, it sends a STOP message to
the GTs together with the information about the last packets that were successfully received. Afterwards, satellite
stops receiving packets from and sending packets to GTs
and starts steering its beams to new footprint area. Time
needed to switch from one footprint area to other is called
switching time (TSW). During switching time, it is not possible to communicate with GTs. When a GT receives a STOP
message it stops sending data and waits for the successor
satellite to be ready.
In the new state, each satellite receives an ACTIVATED
message from its neighbors and is informed that packets
that are received after this message should be handled
according to new state information. However, some of
the packets are expected to be received before ACTIVATED
message. These packets are checked and if the next hop is
its new address, then they are forwarded according to the
new routing table. Otherwise, packets are directed to successor satellite. Packets received after ACTIVATED message
are forwarded according to the new routing table. If the
next hop is GT but the switching time has not ended yet,
packets are buffered. As soon as switching is performed
and the relevant READY message is transmitted, these
packets are forwarded to GTs. When GT receives a READY
message, communication continues between new satellite
and GT.
The proposed handover mechanism is illustrated in
Fig. 7 and Table 1. New satellite starts serving the footprint
area where GT resides, and the GT hands off from old satellite to new satellite.
Now, we analyze the handover latency of the proposed
mechanism. Consider a flow that originates from a ground
terminal G1, and sent to another ground terminal G2 via a
satellite constellation. End-to-end handover latency (LE‚ÄìE)
experienced by such a flow is determined by latency in uplink UDL (LUDL_U), latency in inter-satellite links (LISL), and
1504 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
latency in downlink UDL (LUDL_D). For the VN-HO algorithm, amount of these latencies are as following:
LUDL U ¬º 2  TUDL √æ TSW ; √∞16√û
LUDL D ¬º
TISL if TISL > TSW ;
TSW otherwise;

√∞17√û
LISL ¬º TISL; √∞18√û
where TUDL is UDL link delay, and TISL is intra-orbit ISL link
delay. We assume that TUDL and TISL values do not vary for
different satellite‚ÄìGT or satellite‚Äìsatellite pairs.
LE‚ÄìE is the maximum of these three latency values, i.e.,
LE‚ÄîE ¬º
TISL if TISL > 2  TUDL √æ TSW ;
2TUDL √æ TSW otherwise:

√∞19√û
In most satellite systems, the first condition in (19) is
very unlikely to hold, therefore (19) reduces to
LE‚ÄîE ¬º 2  TUDL √æ TSW : √∞20√û
VN-HO eliminates losses inside the satellite network
and only packet loss occurs in the UDLs. Packet loss in
the uplink UDL occurs due to the fact that GT sends data
to the satellite without caring about when the satellite will
cut off the communication. Since satellite notifies the last
packet that it received, recovering the packet losses is a relatively easy task. To avoid useless transmissions, satellite
may send STOP message to GTs, at an appropriate time before breaking the link.
Fig. 7. Illustration of VN-HO data and message flows.
Table 1
VN-HO operation.
Inter-satellite signal and data flow
Step 1. Send state info to successor
Step 2. Receive state info from predecessor and activate new state
Step 3. Send ACTIVATED to neighbors
For each incoming interface:
Step 4. Forward arriving packets to successor until receiving ACTIVATED*
Step 5. Receive ACTIVATED and forward according to new routing table
*
Step 4 has an exception. If the next hop for the packet is the new address of the satellite, it is forwarded according to the new routing table
Satellite-GT signal and data flow
Step 1. Activate new state and send STOP to GTs
‚Äì Communication stops during switching time
Step 2. At the end of switching time, send READY to new corresponding GTs
‚Äì Communication continues...
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1505
Packet loss in the downlink, may occur only when
TISL < TSW. In this case, VN-HO eliminates packet loss by
buffering packets until the end of switching time. If TSW
is too long such that all packets could not be buffered, then
some of the data packets are lost.
Receiver could receive some of the packets out of order.
This is due to the fact that number of hops for a flow can
vary because of the changes in the mapping between VNs
and physical satellites.
4.2. Handover mechanisms in MSVN-based satellite system
In a VN-based system with N
avg
S=F ¬º 1, GTs cannot be
served during switching period. However, for the satellite
systems where N
avg
S=F > 1, handover could be done in a
smoother way. Without loss of generality, let us assume
a satellite system where NSAT = 10, and NFP = 8. In such a
network, four footprints are served by five satellites at
any time, and the corresponding MSVSN topology for four
states is shown in Fig. 8.
At the beginning, two satellites serve for f1. Then one of
them switches to f2 and two satellites continue serving f2.
Afterwards, one of those switches to f3, and so on. Each
footprint area is served by two satellites for DtS amount
of time, and by one satellite for 3DtS amount of time. As described in Section 3, this condition can be used to facilitate
soft handover. For this purpose, we investigate possible
handover mechanisms for MSVN-based satellite networks.
In soft handover, GT is connected to the old satellite
during the time for setting up connection with the new satellite, i.e., it is temporarily connected to both the old satellite and the new satellite. Afterwards, connection with old
satellite is broken and communication continues with new
satellite. In order to support soft handover, a GT should be
capable of transmitting signals to and receiving signals
from more than one satellite at a time (as in CDMA systems). If this is not the case, alternative solutions should
be considered to enable a smooth handover scheme.
Here, we introduce two new handover algorithms: soft
handover algorithm for MSVN-based satellite networks
(MSVN-SHO) works for systems where GTs are capable of
communicating with more than one repeater at a time.
Second algorithm is semi-soft handover algorithm
(MSVN-SSHO) which works for systems where GTs have
no such capability.
4.2.1. MSVN-SHO
Assume a satellite system with non-integer N
avg
S=F
value,
where 1 < N
avg
S=F < 2. In such a system, a footprint area is
served by one or two satellites at any time. Since UDL links
could not be fully utilized in high service mode, as described in Section 3, we consider taking advantage of high
service mode for achieving soft handover, rather than
increasing transmission rate. By default, one of the satellites is connected to GTs and during handover both establish a connection temporarily. Then, new satellite
continues serving GTs and the old satellite breaks off the
UDL links. However, if needed, both satellites may serve
simultaneously to increase system availability.
We define two modes for satellites: active and passive.
In the active mode, satellites communicate with GTs and
forward packets according to the routing tables. In passive
mode, satellites do not communicate with GTs and act as
nodes that relay packets to active satellites. When two satellites (one active and one passive) passes over the same
footprint area, passive one is called the passive counterpart
of the active satellite, and active one is called the active
counterpart of the passive satellite.
Now, we will describe MSVN-SHO operation based on
these definitions. For each satellite, three active and two
passive states are defined. The state diagram for a satellite
is illustrated in Fig. 9. As a satellite steers its beams to a
new footprint area, it is in passive state. In this state (passive 1), the satellite does not have any active routing table
and packets are just relayed to active satellites as stated in
Table 2. Note that interface names are defined in Fig. 10.
Subsequently, the satellite receives the routing table and
other state information (such as channel allocation info)
from its predecessor. After updating tables, it switches to
the active mode and informs its predecessor and GTs by
sending an ACTIVE message. In the active mode, the satellite forwards all the packets according to the routing table.
Active duration is considered as three parts as depicted in
Fig. 9. When the predecessor satellite enters the passive
mode, it sends an INACTIVE message. Since the packets
that are received before this INACTIVE message are already
forwarded according to the routing table, it is not necessary to look up the routing table again and these packets
can be just relayed without changing their direction (they
arrive from interface b and forwarded to interface a). After
INACTIVE message is received, the satellite switches to active 2 state and forwards all the packets according to the
routing table. The satellite switches from active 2 to active
3 state when it receives an ACTIVE message from the successor. This message informs that the successor is an active
counterpart henceforth, and the packets that are received
from interface a can just be relayed to interface b without
referring to the routing table. After a while, the satellite
switches to passive mode by deactivating the UDL links
and sends an INACTIVE message to the successor. At this
state (passive 2), packets received through intra-orbit ISLs
are just relayed without changing their direction. However,
packets received through inter-orbit ISLs are forwarded
according to the routing table in order to avoid needless
Fig. 8. MSVSN topology for four states of a system with NSAT = 10 and
NFP = 8.
1506 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
delay, delay jitter and packet reordering. Note that if the
routing table output is u, packets are forwarded to the successor (active counterpart), since the UDL links are
inactive.
Table 2 illustrates the forwarding table for each state.
Recall that interface names are defined in Fig. 10 and IRT
stands for outgoing interface according to the routing table. Table 3 summarizes the MSVN-SHO operation. Durations of the states will be described later.
Let us say two satellites (Sat1 and Sat2) fly over the
same footprint area. Initially, Sat2 is in active mode and
Sat1 is in passive mode. When GTs on the footprint area receive an ACTIVE message from Sat1, they start sending to
and receiving from both of the satellites. Note that, when
both of the satellites are in the active mode, packet duplication occurs. To eliminate duplication and losses, Sat2 and
Sat1 should agree on a boundary (a packet number or a
time unit), such that packets that arrive from GTs prior
to the boundary are handled by Sat2 and ignored by Sat1.
Similarly, packets that arrive from GTs after the boundary
are handled by Sat1 and ignored by Sat2. In other words,
if we satisfy that Sat1 switches to active mode exactly at
the same time when Sat2 switches to passive mode, packet
duplication or loss will be eliminated. However, achieving
perfect synchronization is practically difficult and system
may allow small amount of duplication.
Note that in case two satellites change their mode exactly at the same time, ACTIVE message is received from
the successor after sending INACTIVE message to it. In that
case, active 3 state is eliminated and ACTIVE message is
Fig. 9. MSVN-SHO state diagram for a satellite.
Table 2
MSVN-SHO forwarding table.
Incoming interface (I-Int) Outgoing interface (O-Int)
Passive 1 Passive 2 Active 1 Active 2 Active 3
a b b IRT
IRT
b
b a a a
IRT
c b IRT
d b (if IRT = u then a) IRT
u inactive inactive
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1507
received in passive 2 state. Therefore, in the beginning of
the passive 2 state (before receiving ACTIVE message),
packets received from the successor should be forwarded
according to the routing table. If the O-Int of these packets
are UDL downlink, they can be sent back to the successor
or (regarding that GTs are capable of communicating with
more than one satellites at the same time) Sat2 could activate UDL downlinks only for those packets (that arrived
from interface a before an ACTIVE message).
Let us define ta1, ta2, ta3, tp1, tp2 as duration of active
(1,2,3) and passive (1,2) states, respectively. In a perfect
synchronization case as mentioned above, we can say that:
1. Passive duration of a satellite (tp1 + tp2) is equal to
N
L
S=F
 DtS.
2. Active duration of a satellite (ta1 + ta2) is equal to
N
H
S=F
 DtS.
3. ta1 is equal to intra-orbit ISL link delay (TISL).
4. ta3 is equal to zero.
If the new path is shorter than the old path, packet reordering could occur. New path is typically shorter when the
Sat1 is closer to the other end node than Sat2. Expected delay difference is TISL. To avoid packet reordering, packets
traversed over the new path can be delayed (TISL amount
of time) at an appropriate intermediate or end node. On
the other hand, if Sat2 is closer to the other end node, receiver experiences the same amount of delay between
packets traversing the old path and the packets traversing
the new path.
Note also that, in MSVN-SHO, perfect synchronization
between satellites in different orbits is not a necessity for
successful transmission of packets, but it is desirable for
avoiding delay variation. Suppose that Sat1 and Sat3 are
connected with each other with an inter-orbit ISL. If Sat3
switches to active mode while Sat1 stays in passive mode,
then Sat1 directs the packets received from Sat3 to Sat2,
and Sat2 forwards to appropriate node (may be to Sat1
again) looking at its routing table. This may lead to additional delay and delay variation for a flow. This situation
can be eliminated if Sat3 and Sat1 (or any two satellites
connected with inter-orbit ISLs) switch to the active (or
passive) mode almost at the same time.
Recall that MSVN-SHO algorithm is designed for the
case of 1 < N
avg
S=F < 2. We considered this case because system cost becomes too high when N
avg
S=F
exceeds 2, and it is
not reasonable to double the number of satellites in order
to benefit from soft handover. Nevertheless, case of
N
avg
S=F > 2 could be considered for the sake of increasing system availability. In that case, there will be more than one
Fig. 10. Link interfaces of a satellite.
Table 3
MSVN-SHO operation.
Step 1. Switch to new footprint area. State = passive 1, duration = tp1
Step 2. Receive routing table from predecessor
Step 3. Update tables and activate UDL links. Send ACTIVE to predecessor and GTs. State = active 1, duration = ta1
Step 4. Receive INACTIVE from predecessor. State = active 2, duration = ta2
Step 5. Send routing table and state info to successor
Step 6. Receive ACTIVE from successor. State = active 3, duration = ta3
Step 7. Deactivate UDL links. Send INACTIVE to successor. State = passive 2, duration = tp2
‚Äì For each state, packet forwarding is done according to Table 2
1508 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
active satellite with a single passive counterpart and proposed handover algorithms require some modification.
According to the number of additional active satellites
serving for a single footprint area, there will be additional
active modes in the state diagram. When a satellite enters
to a footprint area, it will be first in passive 1 mode, then
switch to active modes corresponding to first active VN.
Then it will switch to active modes corresponding to next
active VN(s). Finally it switches to passive 2 mode and
leave the footprint area. MSVN-SHO operation and the forwarding table should be extended accordingly. In this paper, we skip the details of the modification.
4.2.2. MSVN-SSHO
Basically MSVN-SSHO is very similar to MSVN-SHO. The
satellite state diagram shown in Fig. 9, Tables 1 and 2 are
also valid for MSVN-SSHO (except that active 3 state does
not exist). It considers the case where GTs cannot receive/
send different data from/to more than one satellite at the
same time. Again, let us consider two satellites (Sat1 and
Sat2) flying over a footprint area. Initially Sat1 is passive,
and Sat2 is active and communicates with GTs over the
footprint area. Since we consider that only one satellite
serves for a footprint at any time, two satellites can use exactly the same channel assignment for communicating
with GTs. Therefore, GTs are uninterrupted while switching from Sat2 to Sat1.2 Different from MSVN-SHO, GTs
could not receive packets from or send packets to Sat2
after switching to Sat1. In such a case, some packets may
needlessly shuttle between Sat1 and Sat2, i.e., when Sat1
is passive, it relays the packets (that are to be forwarded
to downlink UDL) to Sat2, and when they reach at Sat2,
Sat2 also becomes passive and resend them back to Sat1.
(Note that in MSVN-SHO, such packets could be sent to
GTs by Sat2, since MSVN-SHO is designed for the case that
GTs are capable of communicating with more than two satellites at the same time.) In order to avoid this situation,
Sat1 may buffer such packets starting from an appropriate
time before it switches to active state, and send to GTs
after activating UDL link.
To avoid packet losses, time between Sat2‚Äôs deactivating UDL link and Sat1‚Äôs activating UDL link should be minimized. This necessitates perfect synchronization between
Sat1 and Sat2.
4.3. Comparison of VN-HO, MSVN-SHO and MSVN-SSHO
Let us consider two polar satellite systems with 12 orbits and NFP = 24. The first one is a VN-based satellite system with NSAT = 24 and the other is an MSVN-based
satellite system with NSAT = 25. We assume that satellites
are synchronized perfectly. For VN-based system, link delay values are similar to that considered in [13], such that
TUDL and TISL(intra-orbit) are 7 ms and inter-orbit ISL delay
is 14 ms. For MSVN-based system these values are assumed to be same except that TISL is 6.72 ms since satellites
in the same orbit are closer to each other. We assume that
packet processing time is negligibly small compared to the
link delay values.
For both systems, we consider part of the network as
shown in Fig. 11. We consider a flow between two ground
terminals, GT-A and GT-B and investigate the handover
performance for different instances of FP-A and FP-B.
We assume that the flow has constant bit rate of 10 Mbps
with guaranteed QoS. Results show that handover performance is independent from number of hops between SatA and Sat-B for both VN-based system and MSVN-based
system.
Handover latency for VN-HO is dependent on TSW as
shown in Table 4. Obtained values are consistent with Eq.
(20). Latency is due to the fact that UDL transmissions stop
in VN-based systems when satellites switch their footprint
area. On the other hand, MSVN-based handover algorithms
provide zero latency since UDL transmission does not stop.
Recall that we assume perfect synchronization of satellites.
If perfect synchronization could not be provided, latency
for VN-HO and MSVN-SSHO would increase.
Fig. 12 illustrates data loss values for VN-HO algorithm
for different Bmax values. Bmax is defined as maximum
amount of onboard buffering available for the corresponding flow. TSW is set to 20 ms. Since TSW is higher than TISL,
buffering is needed to avoid data loss during switching of
satellites from one footprint to another. If small amount
of buffering is supported onboard (or buffering is not supported at all), data loss is inevitable. For high Bmax values
(higher than 130 Kb in this case), packets on the network
can be buffered until the end of the switching time and
only data loss occurs in uplink UDL (which is equal to
70 Kb). MSVN-SHO is a lossless handover algorithm.
MSVN-SSHO also avoids data loss in the case of perfect
synchronization. In MSVN-SSHO, perfect synchronization
between successive satellites along an orbit is important,
since both of them could not be active (for same footprint
area) at the same time. If both of them are passive at the
same time, then GTs will not be served and packet loss occurs. Therefore, for the best handover performance, satellites should change their mode in a synchronized way.
Perfect synchronization is also needed for VN-HO to reduce
the data loss (or latency if packets are buffered). In MSVNSHO, perfect synchronization is not a prerequisite for
avoiding packet loss. However, perfect synchronization between successive satellites along an orbit is beneficial for
avoiding packet duplication, and synchronization between
neighboring satellites in different orbits is desirable for
avoiding needless delay variations (and hence packet
reordering).
In VN-HO, delay variation in a flow occurs due to directing the packets from old representative of a VN to the new
representative after handover occurs. As handover is realized, mapping between logical nodes and physical satellites changes and packets on the network should travel
an ISL link in order to continue from their old logical node.
In our scenario, 7 ms of end-to-end delay variation occurs
at the time of handover. In MSVN-SHO, the mapping between logical and physical nodes changes in a smooth
way. Before changing its logical position, a satellite stays
in passive mode, and handles the traffic that is directed
to itself in a proper way. Nevertheless, delay variation in 2
Such interruption avoidance is also considered in Teledesic [12].
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1509
flow occurs due to length difference between the old path
and the new path. In our scenario, this corresponds to a delay variation of 0 and 6.72 ms for different instances of FPA and FP-B. When FP-A and FP-B are in the same latitude,
path length does not change, and hence end-to-end delay
does not vary during handover. However, in other cases,
path length varies at the amount of one intra-orbit ISL distance. When the new path is shorter, delay variation causes
packet reordering. As previously mentioned, packet reordering may be handled by delaying packets that travel
along the new route in an appropriate node, if needed. Delay variation in MSVN-SSHO is also similar to MSVN-SHO,
but additional variation occurs because just after a satellite
switches to passive mode, some packets that arrived from
successor should be sent back. Therefore, comparing to the
MSVN-SHO case, two times more delay variation
(13.44 ms) is obtained. This variation could be reduced
by buffering those packets in the successor, if possible.
From the above descriptions, it is evident that MSVNbased handover algorithms perform better than VN-HO.
Especially MSVN-SHO performs very well in terms of handover latency, data loss, delay variation, and synchronization and buffering requirements. However, since VN-HO,
MSVN-SHO and MSVN-SSHO are designed for different systems with different capabilities, system characteristics
should be taken into account in order to make a better
comparison.
MSVN-SHO is better than MSVN-SSHO in terms of delay
variation and less need for synchronization and buffering.
However, enabling GTs to communicate with more than
one satellite at a time necessitates extra complexity in
the system.
MSVN-based handover algorithms are faster and
smoother than VN-HO, but MSVN-based systems use more
satellites than VN-based systems. Actually, increase in the
system cost is marginal since using NFP + 1 satellites per orbit is usually sufficient to apply MSVN-based handover
algorithms. Moreover, in the passive mode, satellites use
small amount of power, and life-time of the satellites in
an MSVN-based system increases comparing with a VNbased system. Therefore, increasing number of satellites
to benefit from performance of MSVN-based handover
algorithms seems to be a reasonable decision.
Fig. 11. Communication scenario between two ground terminals.
Table 4
Handover latency values for all handover mechanisms.
VN-HO (ms) MSVN-SHO MSVN-SSHO
TSW = 10 ms 24 No latency No latencya
TSW = 20 ms 34
TSW = 50 ms 64
TSW = 100 ms 114
a Although MSVN-SSHO provides uninterrupt communication between GTs and satellites, small amount of latency may occur when switching from one
satellite to another. In this work, we assume that this latency is negligible.
Fig. 12. Data loss values for VN-HO algorithm.
1510 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
5. Conclusions
Handling satellite mobility is a major challenge for optimizing LEO satellite network resources. Virtual node (VN)
based networking protocols were proposed for mobility
handling, however these protocols require one-to-one correspondence between actual satellites and virtual nodes,
resulting in reduced system availability. In this paper, we
investigate a general virtual topology for satellite systems
with Earth-fixed footprints, where more than one satellite
can serve for the same footprint area. We propose a multistate virtual network (MSVN) topology, provide formal
mathematical model for it and discuss its contribution to
the overall system availability. Furthermore, we investigate potential handover mechanisms for VN-based and
MSVN-based satellite systems, and propose efficient handover algorithms, namely VN-HO, MSVN-SHO and MSVNSSHO. To our best knowledge, this is the first paper to deal
with handover algorithms in Earth-fixed satellite systems.
Despite a marginal increase in the cost, MSVN-based systems offer handover algorithms that are faster and
smoother than VN-HO. This constructs a significant benefit
of MSVN-based satellite systems over conventional VNbased satellite systems.
Acknowledgements
This work is supported by the State Planning Organization of Turkey, under grant no. DPT-03K 120250. omer
Korcak is supported by TUBITAK under national PhD scholarship. Authors thank to Ozgur Baris Akan, Tuna Tugcu,
Gurkan Gur and anonymous reviewers for their very useful
comments.
References
[1] o. Korcak, F. Alagoz, Multi-state virtual network architecture for next
generation satellite networks, in: Proceedings of the IEEE
GLOBECOM, Washington, DC, USA, 2007.
[2] F. Alagoz, o. Korcak, A. Jamalipour, Exploring the routing strategies
in next generation satellite networks, IEEE Wireless
Communications Magazine 14 (3) (2007) 79‚Äì88.
[3] R. Mauger, C. Rosenberg, QoS guarantees for multimedia services on
a TDMA-based satellite network, IEEE Communications Magazine 35
(7) (1997) 56‚Äì65.
[4] J. Restrepo, G. Maral, Cellular geometry for world-wide coverage by
non-GEO satellites using ‚ÄòEarth-fixed cell‚Äô technique, Space
Communications 14 (1996) 179‚Äì189.
[5] L. Wood, A. Clerget, I. Andrikopoulos, G. Pavlou, W. Dabbous, IP
routing issues in satellite constellation networks, International
Journal of Satellite Networks 19 (1) (2001) 69‚Äì92.
[6] E. Ekici, I.F. Akyildiz, M.D. Bender, A distributed routing algorithm for
datagram traffic in LEO satellite networks, IEEE/ACM Transactions on
Networking 9 (2) (2001) 137‚Äì147.
[7] E. Ekici, I.F. Akyildiz, M.D. Bender, A multicast routing algorithm for
LEO satellite IP networks, IEEE/ACM Transactions on Networking 10
(2) (2002) 183‚Äì192.
[8] I.F. Akyildiz, E. Ekici, M.D. Bender, MLSR: a novel routing algorithm
for multi-layered satellite IP networks, IEEE/ACM Transactions on
Networking 10 (3) (2002) 411‚Äì424.
[9] D.S. Dash, A. Durresi, R. Jain, Routing of VoIP traffic in multilayered
satellite networks, in: Proceedings of the SPIE ITCOMM, vol. 5244,
Orlando, FL, pp. 65‚Äì75.
[10] H. Uzunalioglu, M.D. Bender, I.F. Akyildiz, A routing algorithm for
LEO satellite networks with dynamic connectivity, ACM-Baltzer
Journal of Wireless Networks (WINET) 6 (3) (2000) 181‚Äì190.
[11] o. Korcak, F. Alagoz, Optimal beam management in Earth-fixed
satellite systems, in: Proceedings of the IEEE IWSSC, Salzburg,
Austria, 2007.
[12] D. Patterson, M. Sturza, Earth-fixed cell beam management for
satellite communication system, US Patent 5408237, 1995.
[13] B. Sarikaya, M. Tasaki, Supporting node mobility using IPv6 in a LEOsatellite network, International Journal of Satellite Communications
19 (5) (2001) 481‚Äì498.
Omer Korcak is currently working toward the
Ph.D. degree in the Department of Computer
Engineering, BogÀòazici University, Turkey. He
received his B.Sc. and M.Sc. degrees in Computer Engineering from BogÀòazici University, in
2002 and 2004, respectively. He is a Ph.D.
scholar of The Scientific and Technological
Research Council of Turkey. His main research
interests include networking in non-geostationary satellite systems with focus on routing, mobility management and traffic
engineering issues and all-optical networking
with focus on wavelength assignment in optical burst switching networks. He is a student member of IEEE Communications Society.
Fatih Alagoz is an Associate Professor in the
Department of Computer Engineering,
Bogazici University, Turkey. From 2001 to
2003, he was with the Department of Electrical Engineering, United Arab Emirates University, AlAin, UAE. In 1993, he was a Research
Engineer in a missile manufacturing company,
Muhimmatsan AS, Turkey. He received the
B.Sc. degree in Electrical Engineering from the
METU, Turkey, in 1992, and M.Sc. and D.Sc.
degrees in Electrical Engineering from George
Washington University, USA, in 1995 and
2000, respectively. His current research interests are in the areas of
satellite networks and wireless/mobile networks, UWB communications.
He has contributed/managed to 10 research projects for various agencies/
organizations including US Army of Intelligence Center, Naval Research
Laboratory, TUBITAK, BAP, etc. He has edited five books and published
more than 70 scholarly papers in selected journals and conferences. He is
the Satellite Systems Advisor to the Kandilli Earthquake Research Institute, Istanbul, Turkey. He has served on several major conferences technical committees, and organized and chaired many technical sessions in
many international conferences. He is a member of the IEEE Satellite and
Space Communications Technical Committee. He has numerous professional awards.
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1511
Virtual topology dynamics and handover mechanisms in Earth-fixed
LEO satellite systems q
Omer Korcak *, Fatih Alagoz
Department of Computer Engineering, Computer Networks Research Laboratory (NETLAB), BogÀòazici University, Istanbul, Turkey
article info
Article history:
Received 11 March 2008
Received in revised form 23 October 2008
Accepted 29 January 2009
Available online 8 February 2009
Responsible Editor: E. Ekici
Keywords:
Earth-fixed satellite systems
Virtual topology
Virtual node
Handover mechanisms
Soft handover
abstract
Handling network mobility in a highly dynamic LEO satellite network is a critical issue to
achieve seamless and efficient integration of satellite and terrestrial networks. In Earthfixed satellite systems, this task could be simplified by representing the network with a
more static virtual topology. Virtual node (VN) approach is widely explored in satellite networks research; however, it has some deficiencies due to necessity of one-to-one correspondence between virtual nodes and physical satellites. In this work, a generic virtual
topology model, namely multi-state virtual network (MSVN) architecture that alleviates
these deficiencies, is proposed. A new mathematical model for MSVN is introduced along
with its potential contribution to the overall system availability. Furthermore, possible
handover mechanisms in Earth-fixed satellite systems are investigated, and new efficient
handover mechanisms for both VN-based systems and MSVN-based systems are proposed.
Comparing the handover mechanisms, we conclude with the benefits of using an MSVNbased Earth-fixed satellite system.
 2009 Elsevier B.V. All rights reserved.
1. Introduction
Satellite networks are an attractive option to provide
broadband integrated Internet services to globally scattered users, due to their potential advantages such as
extensive geographic coverage, high bandwidth availability, and inherent broadcast capabilities. Satellites rotating
in geostationary orbit (GEO) are well suited for broadcast
services; however, they suffer from high free space attenuation and long delays. On the contrary, non-geostationary
systems consisting of Medium Earth Orbit (MEO) and
Low Earth Orbit (LEO) satellites offer lower latency, lower
free space loss, and better re-use of available ground-space
communication frequencies. Therefore, they are more suitable for most applications, especially, for those running in
real-time. However, these advantages come with a price:
Footprints of satellites at lower altitudes are smaller, and
global coverage can be provided by higher number of satellites connected with inter-satellite links (ISL). Moreover,
lower orbit satellites move with higher speeds relative to
the Earth‚Äôs surface, resulting in high dynamic in the network topology. This topological phenomenon constitutes
a major challenge in providing quality of service (QoS)
for rapidly growing real-time multimedia services.
Connectionless protocols may use the network resources efficiently; however, providing QoS guarantees is
difficult in connectionless networks, in particular due to
the difficulty in accounting for the delay aspects of QoS
and sequencing. Reliable and powerful traffic engineering
methods and QoS provisioning mechanisms are usually
provided through connection orientation. However, connection-oriented protocols face an important challenge in
satellite networks: Established connections must be maintained as the network topology changes. To address this
challenge, satellite topology dynamics should be handled
properly. Fortunately, although the topology of a satellite
1389-1286/$ - see front matter  2009 Elsevier B.V. All rights reserved.
doi:10.1016/j.comnet.2009.01.010
q
Part of this work has been presented at IEEE GLOBECOM, Washington,
DC, 2007 [1].
* Corresponding author. Tel.: +90 212 3596652; fax: +90 212 2872461.
E-mail addresses: omer.korcak@cmpe.boun.edu.tr (o. Korcak), fatih.
alagoz@boun.edu.tr (F. Alagoz).
Computer Networks 53 (2009) 1497‚Äì1511
Contents lists available at ScienceDirect
Computer Networks
journal homepage: www.elsevier.com/locate/comnet
network rapidly changes, these changes are periodic and
predictable because of the strict orbital movements of
the satellites. Moreover, satellite constellation topology
has a regular and highly symmetric structure. Considering
these properties, some techniques are proposed in order to
make up with the mobility of the network topology [2].
Virtual node (VN) concept is one of the most common approaches. In the VN technique, a fixed virtual topology consisting of VNs is superimposed over the physical topology
in order to hide the mobility of satellites from the routing
protocols. To the best of our knowledge, it is first described
by Mauger and Rosenberg [3], and many researchers develop their routing protocol based on this approach. However
it has some deficiencies, which come from the fact that VN
concept necessitates one-to-one correspondence between
physical satellites and virtual nodes and it could not be applied for systems where more than one satellite can serve
for a single footprint area. To make up with this, we propose and model a multi-state virtual network (MSVN)
topology which enables more than one satellite to cover
a single footprint area. Details of MSVN are given in Section
3 together with brief discussion about its usefulness. To
clarify potential advantages of MSVN-based systems over
VN-based systems, we focus on handover mechanisms
for both kinds of systems. To our knowledge, this is the
first work that investigates link-layer handovers in Earthfixed satellite systems. In Section 4, we first propose an
efficient handover algorithm for VN-based systems. Next,
we devise soft and semi-soft handover algorithms for
MSVN-based systems. Comparison of proposed algorithms
shows potential advantage of MSVN over single state conventional VN architecture. Finally, Section 5 concludes this
work.
2. Satellite network dynamics
Low orbit satellites move with higher speeds relative to
the Earth‚Äôs surface, resulting in high variation in the satellite constellation topology. Therefore, connections between
a terminal and a satellite must be handed over to another
satellite when the current satellite drops too low above the
horizon. On the other hand, handovers of active communications should be controlled considering the capabilities of
the satellite antenna system. There are two general
techniques:
 Asynchronous Handover: It is generally appropriate for
satellite antenna systems that have satellite-fixed (nadir
pointing) footprint. As the satellite moves across the
sky, its footprint sweeps across the surface with a constant velocity, as shown in Fig. 1a. When a terminal
reaches the edge of the current footprint, it is handed
off to a new satellite whose footprint is entering the
area.
 Synchronous Handover: This approach can be applied for
the satellite systems where a satellite is capable of electronically steering its beams, so that it can make up for
its motion and the satellite footprint can be fixed for a
time duration. This leads to Earth-fixed footprints as
shown in Fig. 1b. After some time, all the satellites will
be moving away from their corresponding footprints,
and the system periodically reassigns each satellite to
a new fixed footprint. This approach is proposed in [4],
and it is called synchronous handover since all handovers occur simultaneously. Although this technique
comes with the cost of degradation in the elevation
mask used in the system, it has the potential to simplify
the handovers. In our work, we consider satellite systems with Earth-fixed footprints.
Synchronous handover technique eases the mobility
management issue, since it allows each physical satellite
to be represented by a VN. In the VN technique, a fixed virtual topology consisting of VNs is superimposed over the
physical topology in order to hide the mobility of satellites
from the network layer. A logical address is assigned to the
fixed portions of the Earth‚Äôs surface. Then, by using Earthfixed satellite systems described above, a satellite embodies the VN above this fixed Earth footprint for the time period during which it is serving that footprint. Each VN is
embodied at any given time by a certain physical satellite.
As a satellite disappears over the horizon, its corresponding VN becomes represented by the next satellite passing
overhead and the state information (such as routing table
entries or channel allocation information) is transferred
to it. Handover between VNs and physical satellites are
synchronously performed, hence, the virtual topology remains unchanged. A routing decision is made on this fixed
virtual topology, and consequently, the network layer is
isolated from the satellite constellation dynamics.
Recently, many routing protocols are proposed based on
VN concept. A mechanism to adopt IP routing at the VNs in
order to seamlessly integrate space network with terrestrial Internet and provide direct support for IP-QoS and
IP-Multicast is presented in [5]. A distributed datagram
routing algorithm, and a multicast routing algorithm
regarding satellite network as a mesh topology consisting
of fixed logical locations (virtual nodes) are introduced in
[6,7], respectively. Moreover, some hierarchical routing
algorithms that are developed for integrated satellite networks consisting of LEOs and MEOs [8] or High Altitude
Platforms (HAPs), LEOs and GEOs [9] simplify LEO layer
by modeling it as a fixed virtual network.
Although VN concept is widely accepted, it has also
some potential drawbacks that need to be significantly improved. Representing each physical satellite with a virtual
node implies one-to-one mapping between terminals in a
given footprint and satellite serving to that footprint. Conventional VN concept does not allow multiple satellites to
serve single footprint area. However, this is desirable property due to following reasons:
1. A single satellite may not be sufficient to serve all terminals in a particular footprint area due to high service
demand of ground terminals (GTs) or because of shadowing by terrain and buildings. Therefore, system availability can be increased by providing coverage to an
area through multiple satellites.
2. During daylight hours, if the satellite is located along
the same line of sight with the sun, communication
becomes impossible due to the sun‚Äôs radiation overwhelming the satellite signal. This is called sun outage,
1498 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
and occurs around the time of the spring and fall equinoxes when the sun crosses the Earth‚Äôs equatorial
plane. System can compensate these situations only
by offering alternative satellites.
3. More bandwidth can be provided for densely populated
areas by directing beams of neighboring satellites to
these areas.
4. To achieve lossless handover, at least two satellites
should serve a terminal during handover task. VN technique eliminates the need for network layer handover
but in lower layers, it could not support soft handover,
and only solution is a lossy hard handover.
Considering these issues, the necessity of one-to-one
correspondence between VNs and physical satellites constitutes major shortcomings of conventional VN approach.
Therefore, we propose the multi-state virtual network
(MSVN) concept that enables more than one satellite to
cover a single footprint area. We describe this concept in
next section.
3. Virtual topology dynamics
In our analysis of virtual topology dynamics, we consider a satellite orbit with NSAT satellites that have Earthfixed footprints, and serve for total of NFP footprint areas
along the orbit. We also assume that inter-satellite
distances are equal for the satellites in same orbit. In conventional VN concept, NSAT is equal to NFP, i.e., there exists a
single satellite for each footprint. However, for the sake of
increasing system availability, we also consider the cases
where there is more than one satellite per footprint.
Definition 1 (Average number of satellites per footprint). Average number of satellites per footprint area
√∞N
avg
S=F
√û is calculated as
N
avg
S=F ¬º
NSAT
NFP
: √∞1√û
For conventional VN concept, NSAT is equal to NFP and
N
avg
S=F
is equal to 1.
The case where N
avg
S=F ¬º 2 is illustrated in Fig. 2a. In this
case, as a satellite leaves the footprint area, another one
starts serving the same area. Therefore, each footprint is always served by two satellites. Hence, we can model the entire system as a fixed virtual network as in Fig. 2b.1 A circle
denotes a virtual node that is embodied by a single physical satellite, e.g., v1 in Fig. 2b is embodied by satellite 1 in
Fig. 2a. Rectangles represent footprint areas that include
ground terminals (GT) served by two satellites (that are
a
b
Fig. 1. Satellite-fixed (a) and Earth-fixed (b) footprints.
1 Note that we assume that satellites in different orbits switch footprint
areas synchronously.
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1499
represented by two circles within the rectangular area) at a
time. Note that physical satellites are connected with GTs
by up‚Äìdown links (UDLs); therefore, it can be considered
that there are undesignated links between rectangle nodes
and the circle nodes covered by them. In this case, system
availability is improved compared to the conventional VN
approach; however, satellites need to transfer the state
information two times more frequently.
Note that, when N
avg
S=F
is an integer value, then we
have a fixed virtual topology and each footprint area is
always served by N
avg
S=F
satellites. However, for the systems where N
avg
S=F
has a non-integer value, number of satellites covering a footprint area (NS/F) changes with time,
which yields a dynamic virtual topology. In such systems, at a given time, a footprint area is served by
N
avg
S=F
j k or N
avg
S=F
l m satellites. The case with N
avg
S=F ¬º 1:5
where three satellites serve for two footprints every time
is illustrated in Fig. 3a. Two satellites (Sat1 and Sat2)
serve f1 and one (Sat3) serves f2. Corresponding virtual
network is VNet1 shown in Fig. 3b. (Virtual sub-network
in the figure corresponds to the part of the network
shown in Fig. 3a.) However, when Sat2 switches to f2
as shown in Fig. 4a, then two satellites (Sat2 and Sat3)
continue serving f2 and only Sat1 serves f1, and virtual
topology changes to VNet2 shown in Fig. 4b. After a
while, new satellite enters f1 area, and Sat3 leaves f2
and the virtual topology switches to the VNet1. In this
case, virtual topology has two states, one is active and
the other is passive at a given time. For example, in
the situation shown in Fig. 3a, VNet1 is active and VNet2
is passive, and for Fig. 4a, VNet2 is active and VNet1 is
passive. We call such virtual topology with multiple
states, multi-state virtual network (MSVN) topology. Number of states depends on N
avg
S=F
value. In the next subsection, we describe general case of MSVN and provide a
formal model.
3.1. Multi-state virtual network (MSVN) topology
In order to provide a formal description, we give set of
definitions.
Definition 2 (Inter-satellite angular distance). Consider
that NSAT satellites exist per satellite orbit. If we assume
that inter-satellite links between each satellite in the same
orbit are identical and the angular length of an orbit is 2p,
then, the length of an angular distance (LSAT) between each
satellite pair is expressed by
LSAT ¬º
2p
NSAT
: √∞2√û
Definition 3 (Angular length of anEarth footprint). Let all of
the satellites in an orbit serve for NFP footprint areas. Considering that the sum of the angular lengths of these footprints is 2 p, the angular length of a single footprint (LFP) is
calculated as
LFP ¬º
2p
NFP
: √∞3√û
a
b
Fig. 2. Part of a satellite system with N
avg
S=F ¬º 2 (a) and corresponding virtual network (b).
1500 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
Note that actually footprints are circular areas, and some
overlapping between the footprints of the adjacent satellites is necessary. Therefore, we consider effective footprint
[10] of a satellite which is equivalent to the largest hexagon inscribed into the footprint as shown in Fig. 5.
Definition 4 (Minimum area served by fixed number of satellites). In conventional VN concept, single footprint area is
served by fixed (one) satellite all the time. In MSVN, minimum number of consecutive footprints served by fixed
number of satellites (MFP) changes with the value of N
avg
S=F
.
When N
avg
S=F
is integer, MFP is equal to one. For N
avg
S=F ¬º 1:5,
MFP is two as shown in Fig. 3a. In general, MFP can be found
by
MFP ¬º
lcm√∞gLSAT ; gLFP√û
gLFP
; √∞4√û
where lcm is the least-common-multiple function and g is
a normalization factor, such that both gLSAT and gLFP are
integer values. If we set
g ¬º
NSAT  NFP
2p
; √∞5√û
then (4) reduces to
MFP ¬º
lcm√∞NFP;NSAT √û
NSAT
: √∞6√û
MFP consecutive footprint areas are always served by MSAT
satellites. Therefore, MSAT can be expressed by
MSAT ¬º MFP  N
avg
S=F ¬º
lcm√∞NFP;NSAT √û
NFP
: √∞7√û
Definition 5 (High and low service modes). Recall that the
number of satellites serving a footprint area (NS/F) varies
between N
L
S=F
and N
H
S=F
, where N
L
S=F ¬º N
avg
S=F
j k and
N
H
S=F ¬º N
avg
S=F
l m. A footprint area is said to be in low service
mode when N
L
S=F
satellites serve it and in high service mode
when N
H
S=F
satellites serve. At a given time, among MFP consecutive footprints, M
L
FP footprints are served by N
L
S=F
satellites and M
H
FP footprints are served by N
H
S=F
satellites. When
N
avg
S=F
is integer, M
L
FP and M
H
FP are equal to MFP (which is one).
Otherwise,
M
L
FP ¬º MFP  N
avg
S=F
l m  N
avg
S=F
 ; √∞8√û
M
H
FP ¬º MFP  N
avg
S=F  N
avg
S=F
  j k : √∞9√û
In order to validate that both M
L
FP and M
H
FP have integer values, recall that
a
b
Fig. 3. Part of a satellite system with N
avg
S=F ¬º 1:5: case 1 (a) and corresponding virtual network (VNet1) (b).
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1501
N
avg
S=F
j k ¬º
NSAT
NFP   ¬º
NSAT  √∞NSAT modNFP√û
NFP
: √∞10√û
Using (6), (9) and (10),
M
H
FP ¬º
lcm√∞NFP;NSAT √û
NSAT

NSAT modNFP
NFP
¬º
NSAT modNFP
gcd√∞NSAT ;NFP√û
; √∞11√û
which is known to be an integer value. In a similar manner,
the following equation is derived for low service mode:
M
L
FP ¬º
NFP  NSAT modNFP
gcd√∞NSAT ;NFP√û
; √∞12√û
which is also clearly an integer value.
Definition 6 (Multi-state virtual sub-network). An MSVN
consists of identical multi-state virtual sub-networks
(MSVSN) connected with each other. An MSVSN consists
of MFP consecutive footprint areas (served by MSAT satellites), MSAT virtual nodes (each embodied by a satellite)
and MSAT  1 links (which connects consecutive virtual
node pairs). Note that (6) suggests NFP to be an integer
multiple of MFP, i.e.,
NFP ¬º r  MFP; r 2 Z
√æ
: √∞13√û
Each of these r consecutive footprint groups are served by
MSAT satellites in an identical manner. Therefore, for an orbit, there exists r identical MSVSNs. All of these sub-networks have the same number of states that switch
synchronously. Moreover, recall that we assume that satellites in different orbits switch their footprint areas in a synchronous manner. Therefore, if the satellite network has k
orbits, then an MSVN consists of k  r identical MSVSNs.
Hence, modeling single MSVSN and linking k  r such subnetworks are sufficient to model an MSVN. Links between
a
v
1
v
2
v
3
f
1
f
2
Virtual sub-network b
Fig. 4. Part of a satellite system with N
avg
S=F ¬º 1:5: case 2 (a) and corresponding virtual network (VNet2) (b).
Fig. 5. Effective footprint and its angular length.
1502 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
sub-networks are determined by the ISL characteristics of
physical network.
Definition 7 (System period and state intervals). System
period (T) is defined as the time elapsed for a virtual topology to repeat its states. For a system with only one state, T
is equal to 1. For systems with more than one state, T is
the following:
T ¬º DtS  NS; √∞14√û
where DtS
is the state interval, i.e., the time period for
changing a state. NS
is the number of states, which is
shown to be equal to MFP with the theorem given next.
Theorem 1. For an MSVN, NS
is equal to MFP.
Proof. As mentioned before, the number of states for an
MSVN is equal to the number of states for its MSVSN. Consider a moment when a satellite just starts to serve the first
footprint area of MSVSN, and suppose that the system is in
state 1 at that moment. This state is repeated when the
next following satellite starts to serve this first footprint.
Between these two events, system changes its state NS
times. Note that the state changes only when a satellite
switches its footprint. In an MSVSN, two satellites cannot
switch to a new footprint at the same time (otherwise
there would be two consecutive footprint groups of size
MFP/2 served by fixed number of satellites). Moreover, each
of the points over an orbit is passed by exactly one satellite
during the system period. Therefore, exactly one satellite
switches to each of the MFP footprints. Since there are
MFP consecutive footprints and exactly one satellite
switches to each of these footprints (in different times)
during a system period, there are exactly MFP states in
the system.
The number of states is illustrated in Fig. 6 for various
NSAT values when NFP is equal to 24.
At a given time, only one state is active and others are
passive. The active state changes at each DtS time units,
and DtS can be found as
DtS ¬º
2p
lcm√∞NFP;NSAT √û  xSAT
; √∞15√û
where xSAT stands for angular velocity of a satellite. h
Definitions given above clearly identify characteristics
of an MSVN topology. To briefly summarize, MSVN consists
of k  r identical MSVSNs. Each MSVSN can be considered as
a set of virtual sub-networks (each corresponds to a particular state and remains active for DtS time units). Each virtual sub-network consists of MSAT VNs, MFP footprints
(which can be considered as terrestrial nodes that are connected with VNs), set of links between neighboring VNs
and set of links between VNs and terrestrial nodes (footprints). Footprints in high service mode are linked to more
VNs than footprints in low service mode. At any given time,
M
H
FP of the MFP footprints are in high service mode, and M
L
FP
are in low service mode. Service modes of footprint areas
may change at each state in a deterministic manner.
A detailed formal mathematical model for MSVN and
MSVSN is available in [1]. For the sake of clarity, we will
not include further details in this paper. Rather, we will
discuss usefulness of MSVN topology and show some of
its potential advantages.
3.2. Discussion
For the cases where N
avg
S=F
is not an integer value, a GT
will be served by variable number of satellites. When a
particular footprint area switches from high service mode
to low service mode, system availability decreases, and this
may force some of the connections to be dropped. Therefore, a call admission mechanism need to be employed in
order to guarantee connectivity when the system changes
its state. This means that in the high service mode UDL
links could not be fully utilized. Therefore, it could be argued that a satellite system (say system 1) with N
avg
S=F ¬º c
(where c > 1 and c R Z) has no further advantage compared
to another system (say system 2) with N
avg
S=F ¬º bcc. Nevertheless, system 1 can offer higher system availability than system 2 due to several reasons elaborated next.
In system 1, effect of shadowing by terrain and buildings and sun outage problem are lower. This is because elevation angle between terminal and the nearest satellite is
always greater in system 1. Moreover, on the average,
there is more opportunity in selecting a satellite terminal
to send data.
By letting some non-critical communications to perform only in high service mode, system utilization
improves.
Fig. 6. Number of states versus NSAT (NFP = 24).
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1503
By properly adjusting beam directions, a single state
virtual network topology can be achieved for system 1. In
other words, by making satellites to direct their beams to
neighboring footprint areas (with higher traffic density)
we can satisfy the condition that every footprint area continuously served by fixed number of satellites. This significantly increases the system availability. We justified this
idea in [11], where we proposed a traffic aware optimal
beam management technique, which significantly increases availability and utilization of the system with a
marginal increase in the cost.
Moreover, it is possible to provide faster and smoother
handover algorithms in system 1. As an example, soft
handover could be employed in system 1, whereas it could
not be employed in system 2, because all handovers occur
simultaneously.
Considering these issues, various networking protocols
can be developed based on the proposed virtual network
framework. In the next section, we focus on the last issue,
and investigate, propose and compare possible handover
mechanisms for VN-based systems and MSVN-based
systems.
4. Handover mechanisms
As mentioned in Section 2, Earth-fixed satellite systems
can offer synchronous handover, which means all handovers between satellites and fixed Earth terminals occur
simultaneously. Using VN technique, network layer handover could be totally eliminated because VNs have fixed
IP addresses and routing mechanisms are utilized over
the fixed virtual topology. However, although there is no
need for network layer handover, physical network is dynamic and handover in lower layers could result in significant packet loss. Designing a smooth (low packet loss) and
fast (low latency) handover algorithm is a crucial issue.
Especially for satellite environments with long propagation
delays, system performance could be significantly improved by using proper handover mechanisms. To our
knowledge, there is no previous work that investigates
link-layer handovers in Earth-fixed satellite systems.
Therefore, we first propose an efficient handover scheme
for VN-based satellite systems, namely Virtual Node Handover (VN-HO) algorithm. Next, we propose soft handover
algorithm and semi-soft handover algorithm for MSVNbased satellite networks; MSVN-SHO and MSVN-SSHO.
Comparison of proposed algorithms shows possible
advantage of MSVN over single state conventional VN
architecture.
4.1. Handover mechanisms in VN-based satellite system
In the VN technique, mapping between VNs and physical satellites are changed periodically. When a satellite
changes its corresponding VN, it transfers state information, such as routing table entries and channel allocation
information to the next satellite passing overhead and receives new state information from the previous satellite
that embodies its new VN. In order to reduce latency,
each satellite activates new state information simultaneously. However, as satellites change their state and address, the packets on the network will not be able to
reach their intended target. To handle this problem, one
simple method is to ignore these packets and retransmit
them after new mapping between VNs and satellites is
established. However, this method results in high handover latency and significant performance decrease. Instead, we propose a new handover algorithm for VNbased Earth-fixed satellite systems, namely Virtual Node
Handover (VN-HO) algorithm.
4.1.1. Virtual Node Handover (VN-HO) algorithm
As we mentioned above, VN-based systems do not need
network layer handover. However, link-layer handover can
take significant amount of time. As a satellite switches
from one footprint area to another, it should activate its
new state information, steer its beams to serve for the
new area, and start communicating to GTs in that area.
VN-HO algorithm aims to minimize packet loss during this
switching period. We can describe VN-HO algorithm as
follows.
After receiving new state info from their predecessors,
all satellites activate new state info in a simultaneous manner. As soon as new state information is activated, a satellite sends ACTIVATED message to all its neighbors to
inform that packets sent after this time are according to
new state. At the same time, it sends a STOP message to
the GTs together with the information about the last packets that were successfully received. Afterwards, satellite
stops receiving packets from and sending packets to GTs
and starts steering its beams to new footprint area. Time
needed to switch from one footprint area to other is called
switching time (TSW). During switching time, it is not possible to communicate with GTs. When a GT receives a STOP
message it stops sending data and waits for the successor
satellite to be ready.
In the new state, each satellite receives an ACTIVATED
message from its neighbors and is informed that packets
that are received after this message should be handled
according to new state information. However, some of
the packets are expected to be received before ACTIVATED
message. These packets are checked and if the next hop is
its new address, then they are forwarded according to the
new routing table. Otherwise, packets are directed to successor satellite. Packets received after ACTIVATED message
are forwarded according to the new routing table. If the
next hop is GT but the switching time has not ended yet,
packets are buffered. As soon as switching is performed
and the relevant READY message is transmitted, these
packets are forwarded to GTs. When GT receives a READY
message, communication continues between new satellite
and GT.
The proposed handover mechanism is illustrated in
Fig. 7 and Table 1. New satellite starts serving the footprint
area where GT resides, and the GT hands off from old satellite to new satellite.
Now, we analyze the handover latency of the proposed
mechanism. Consider a flow that originates from a ground
terminal G1, and sent to another ground terminal G2 via a
satellite constellation. End-to-end handover latency (LE‚ÄìE)
experienced by such a flow is determined by latency in uplink UDL (LUDL_U), latency in inter-satellite links (LISL), and
1504 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
latency in downlink UDL (LUDL_D). For the VN-HO algorithm, amount of these latencies are as following:
LUDL U ¬º 2  TUDL √æ TSW ; √∞16√û
LUDL D ¬º
TISL if TISL > TSW ;
TSW otherwise;

√∞17√û
LISL ¬º TISL; √∞18√û
where TUDL is UDL link delay, and TISL is intra-orbit ISL link
delay. We assume that TUDL and TISL values do not vary for
different satellite‚ÄìGT or satellite‚Äìsatellite pairs.
LE‚ÄìE is the maximum of these three latency values, i.e.,
LE‚ÄîE ¬º
TISL if TISL > 2  TUDL √æ TSW ;
2TUDL √æ TSW otherwise:

√∞19√û
In most satellite systems, the first condition in (19) is
very unlikely to hold, therefore (19) reduces to
LE‚ÄîE ¬º 2  TUDL √æ TSW : √∞20√û
VN-HO eliminates losses inside the satellite network
and only packet loss occurs in the UDLs. Packet loss in
the uplink UDL occurs due to the fact that GT sends data
to the satellite without caring about when the satellite will
cut off the communication. Since satellite notifies the last
packet that it received, recovering the packet losses is a relatively easy task. To avoid useless transmissions, satellite
may send STOP message to GTs, at an appropriate time before breaking the link.
Fig. 7. Illustration of VN-HO data and message flows.
Table 1
VN-HO operation.
Inter-satellite signal and data flow
Step 1. Send state info to successor
Step 2. Receive state info from predecessor and activate new state
Step 3. Send ACTIVATED to neighbors
For each incoming interface:
Step 4. Forward arriving packets to successor until receiving ACTIVATED*
Step 5. Receive ACTIVATED and forward according to new routing table
*
Step 4 has an exception. If the next hop for the packet is the new address of the satellite, it is forwarded according to the new routing table
Satellite-GT signal and data flow
Step 1. Activate new state and send STOP to GTs
‚Äì Communication stops during switching time
Step 2. At the end of switching time, send READY to new corresponding GTs
‚Äì Communication continues...
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1505
Packet loss in the downlink, may occur only when
TISL < TSW. In this case, VN-HO eliminates packet loss by
buffering packets until the end of switching time. If TSW
is too long such that all packets could not be buffered, then
some of the data packets are lost.
Receiver could receive some of the packets out of order.
This is due to the fact that number of hops for a flow can
vary because of the changes in the mapping between VNs
and physical satellites.
4.2. Handover mechanisms in MSVN-based satellite system
In a VN-based system with N
avg
S=F ¬º 1, GTs cannot be
served during switching period. However, for the satellite
systems where N
avg
S=F > 1, handover could be done in a
smoother way. Without loss of generality, let us assume
a satellite system where NSAT = 10, and NFP = 8. In such a
network, four footprints are served by five satellites at
any time, and the corresponding MSVSN topology for four
states is shown in Fig. 8.
At the beginning, two satellites serve for f1. Then one of
them switches to f2 and two satellites continue serving f2.
Afterwards, one of those switches to f3, and so on. Each
footprint area is served by two satellites for DtS amount
of time, and by one satellite for 3DtS amount of time. As described in Section 3, this condition can be used to facilitate
soft handover. For this purpose, we investigate possible
handover mechanisms for MSVN-based satellite networks.
In soft handover, GT is connected to the old satellite
during the time for setting up connection with the new satellite, i.e., it is temporarily connected to both the old satellite and the new satellite. Afterwards, connection with old
satellite is broken and communication continues with new
satellite. In order to support soft handover, a GT should be
capable of transmitting signals to and receiving signals
from more than one satellite at a time (as in CDMA systems). If this is not the case, alternative solutions should
be considered to enable a smooth handover scheme.
Here, we introduce two new handover algorithms: soft
handover algorithm for MSVN-based satellite networks
(MSVN-SHO) works for systems where GTs are capable of
communicating with more than one repeater at a time.
Second algorithm is semi-soft handover algorithm
(MSVN-SSHO) which works for systems where GTs have
no such capability.
4.2.1. MSVN-SHO
Assume a satellite system with non-integer N
avg
S=F
value,
where 1 < N
avg
S=F < 2. In such a system, a footprint area is
served by one or two satellites at any time. Since UDL links
could not be fully utilized in high service mode, as described in Section 3, we consider taking advantage of high
service mode for achieving soft handover, rather than
increasing transmission rate. By default, one of the satellites is connected to GTs and during handover both establish a connection temporarily. Then, new satellite
continues serving GTs and the old satellite breaks off the
UDL links. However, if needed, both satellites may serve
simultaneously to increase system availability.
We define two modes for satellites: active and passive.
In the active mode, satellites communicate with GTs and
forward packets according to the routing tables. In passive
mode, satellites do not communicate with GTs and act as
nodes that relay packets to active satellites. When two satellites (one active and one passive) passes over the same
footprint area, passive one is called the passive counterpart
of the active satellite, and active one is called the active
counterpart of the passive satellite.
Now, we will describe MSVN-SHO operation based on
these definitions. For each satellite, three active and two
passive states are defined. The state diagram for a satellite
is illustrated in Fig. 9. As a satellite steers its beams to a
new footprint area, it is in passive state. In this state (passive 1), the satellite does not have any active routing table
and packets are just relayed to active satellites as stated in
Table 2. Note that interface names are defined in Fig. 10.
Subsequently, the satellite receives the routing table and
other state information (such as channel allocation info)
from its predecessor. After updating tables, it switches to
the active mode and informs its predecessor and GTs by
sending an ACTIVE message. In the active mode, the satellite forwards all the packets according to the routing table.
Active duration is considered as three parts as depicted in
Fig. 9. When the predecessor satellite enters the passive
mode, it sends an INACTIVE message. Since the packets
that are received before this INACTIVE message are already
forwarded according to the routing table, it is not necessary to look up the routing table again and these packets
can be just relayed without changing their direction (they
arrive from interface b and forwarded to interface a). After
INACTIVE message is received, the satellite switches to active 2 state and forwards all the packets according to the
routing table. The satellite switches from active 2 to active
3 state when it receives an ACTIVE message from the successor. This message informs that the successor is an active
counterpart henceforth, and the packets that are received
from interface a can just be relayed to interface b without
referring to the routing table. After a while, the satellite
switches to passive mode by deactivating the UDL links
and sends an INACTIVE message to the successor. At this
state (passive 2), packets received through intra-orbit ISLs
are just relayed without changing their direction. However,
packets received through inter-orbit ISLs are forwarded
according to the routing table in order to avoid needless
Fig. 8. MSVSN topology for four states of a system with NSAT = 10 and
NFP = 8.
1506 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
delay, delay jitter and packet reordering. Note that if the
routing table output is u, packets are forwarded to the successor (active counterpart), since the UDL links are
inactive.
Table 2 illustrates the forwarding table for each state.
Recall that interface names are defined in Fig. 10 and IRT
stands for outgoing interface according to the routing table. Table 3 summarizes the MSVN-SHO operation. Durations of the states will be described later.
Let us say two satellites (Sat1 and Sat2) fly over the
same footprint area. Initially, Sat2 is in active mode and
Sat1 is in passive mode. When GTs on the footprint area receive an ACTIVE message from Sat1, they start sending to
and receiving from both of the satellites. Note that, when
both of the satellites are in the active mode, packet duplication occurs. To eliminate duplication and losses, Sat2 and
Sat1 should agree on a boundary (a packet number or a
time unit), such that packets that arrive from GTs prior
to the boundary are handled by Sat2 and ignored by Sat1.
Similarly, packets that arrive from GTs after the boundary
are handled by Sat1 and ignored by Sat2. In other words,
if we satisfy that Sat1 switches to active mode exactly at
the same time when Sat2 switches to passive mode, packet
duplication or loss will be eliminated. However, achieving
perfect synchronization is practically difficult and system
may allow small amount of duplication.
Note that in case two satellites change their mode exactly at the same time, ACTIVE message is received from
the successor after sending INACTIVE message to it. In that
case, active 3 state is eliminated and ACTIVE message is
Fig. 9. MSVN-SHO state diagram for a satellite.
Table 2
MSVN-SHO forwarding table.
Incoming interface (I-Int) Outgoing interface (O-Int)
Passive 1 Passive 2 Active 1 Active 2 Active 3
a b b IRT
IRT
b
b a a a
IRT
c b IRT
d b (if IRT = u then a) IRT
u inactive inactive
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1507
received in passive 2 state. Therefore, in the beginning of
the passive 2 state (before receiving ACTIVE message),
packets received from the successor should be forwarded
according to the routing table. If the O-Int of these packets
are UDL downlink, they can be sent back to the successor
or (regarding that GTs are capable of communicating with
more than one satellites at the same time) Sat2 could activate UDL downlinks only for those packets (that arrived
from interface a before an ACTIVE message).
Let us define ta1, ta2, ta3, tp1, tp2 as duration of active
(1,2,3) and passive (1,2) states, respectively. In a perfect
synchronization case as mentioned above, we can say that:
1. Passive duration of a satellite (tp1 + tp2) is equal to
N
L
S=F
 DtS.
2. Active duration of a satellite (ta1 + ta2) is equal to
N
H
S=F
 DtS.
3. ta1 is equal to intra-orbit ISL link delay (TISL).
4. ta3 is equal to zero.
If the new path is shorter than the old path, packet reordering could occur. New path is typically shorter when the
Sat1 is closer to the other end node than Sat2. Expected delay difference is TISL. To avoid packet reordering, packets
traversed over the new path can be delayed (TISL amount
of time) at an appropriate intermediate or end node. On
the other hand, if Sat2 is closer to the other end node, receiver experiences the same amount of delay between
packets traversing the old path and the packets traversing
the new path.
Note also that, in MSVN-SHO, perfect synchronization
between satellites in different orbits is not a necessity for
successful transmission of packets, but it is desirable for
avoiding delay variation. Suppose that Sat1 and Sat3 are
connected with each other with an inter-orbit ISL. If Sat3
switches to active mode while Sat1 stays in passive mode,
then Sat1 directs the packets received from Sat3 to Sat2,
and Sat2 forwards to appropriate node (may be to Sat1
again) looking at its routing table. This may lead to additional delay and delay variation for a flow. This situation
can be eliminated if Sat3 and Sat1 (or any two satellites
connected with inter-orbit ISLs) switch to the active (or
passive) mode almost at the same time.
Recall that MSVN-SHO algorithm is designed for the
case of 1 < N
avg
S=F < 2. We considered this case because system cost becomes too high when N
avg
S=F
exceeds 2, and it is
not reasonable to double the number of satellites in order
to benefit from soft handover. Nevertheless, case of
N
avg
S=F > 2 could be considered for the sake of increasing system availability. In that case, there will be more than one
Fig. 10. Link interfaces of a satellite.
Table 3
MSVN-SHO operation.
Step 1. Switch to new footprint area. State = passive 1, duration = tp1
Step 2. Receive routing table from predecessor
Step 3. Update tables and activate UDL links. Send ACTIVE to predecessor and GTs. State = active 1, duration = ta1
Step 4. Receive INACTIVE from predecessor. State = active 2, duration = ta2
Step 5. Send routing table and state info to successor
Step 6. Receive ACTIVE from successor. State = active 3, duration = ta3
Step 7. Deactivate UDL links. Send INACTIVE to successor. State = passive 2, duration = tp2
‚Äì For each state, packet forwarding is done according to Table 2
1508 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
active satellite with a single passive counterpart and proposed handover algorithms require some modification.
According to the number of additional active satellites
serving for a single footprint area, there will be additional
active modes in the state diagram. When a satellite enters
to a footprint area, it will be first in passive 1 mode, then
switch to active modes corresponding to first active VN.
Then it will switch to active modes corresponding to next
active VN(s). Finally it switches to passive 2 mode and
leave the footprint area. MSVN-SHO operation and the forwarding table should be extended accordingly. In this paper, we skip the details of the modification.
4.2.2. MSVN-SSHO
Basically MSVN-SSHO is very similar to MSVN-SHO. The
satellite state diagram shown in Fig. 9, Tables 1 and 2 are
also valid for MSVN-SSHO (except that active 3 state does
not exist). It considers the case where GTs cannot receive/
send different data from/to more than one satellite at the
same time. Again, let us consider two satellites (Sat1 and
Sat2) flying over a footprint area. Initially Sat1 is passive,
and Sat2 is active and communicates with GTs over the
footprint area. Since we consider that only one satellite
serves for a footprint at any time, two satellites can use exactly the same channel assignment for communicating
with GTs. Therefore, GTs are uninterrupted while switching from Sat2 to Sat1.2 Different from MSVN-SHO, GTs
could not receive packets from or send packets to Sat2
after switching to Sat1. In such a case, some packets may
needlessly shuttle between Sat1 and Sat2, i.e., when Sat1
is passive, it relays the packets (that are to be forwarded
to downlink UDL) to Sat2, and when they reach at Sat2,
Sat2 also becomes passive and resend them back to Sat1.
(Note that in MSVN-SHO, such packets could be sent to
GTs by Sat2, since MSVN-SHO is designed for the case that
GTs are capable of communicating with more than two satellites at the same time.) In order to avoid this situation,
Sat1 may buffer such packets starting from an appropriate
time before it switches to active state, and send to GTs
after activating UDL link.
To avoid packet losses, time between Sat2‚Äôs deactivating UDL link and Sat1‚Äôs activating UDL link should be minimized. This necessitates perfect synchronization between
Sat1 and Sat2.
4.3. Comparison of VN-HO, MSVN-SHO and MSVN-SSHO
Let us consider two polar satellite systems with 12 orbits and NFP = 24. The first one is a VN-based satellite system with NSAT = 24 and the other is an MSVN-based
satellite system with NSAT = 25. We assume that satellites
are synchronized perfectly. For VN-based system, link delay values are similar to that considered in [13], such that
TUDL and TISL(intra-orbit) are 7 ms and inter-orbit ISL delay
is 14 ms. For MSVN-based system these values are assumed to be same except that TISL is 6.72 ms since satellites
in the same orbit are closer to each other. We assume that
packet processing time is negligibly small compared to the
link delay values.
For both systems, we consider part of the network as
shown in Fig. 11. We consider a flow between two ground
terminals, GT-A and GT-B and investigate the handover
performance for different instances of FP-A and FP-B.
We assume that the flow has constant bit rate of 10 Mbps
with guaranteed QoS. Results show that handover performance is independent from number of hops between SatA and Sat-B for both VN-based system and MSVN-based
system.
Handover latency for VN-HO is dependent on TSW as
shown in Table 4. Obtained values are consistent with Eq.
(20). Latency is due to the fact that UDL transmissions stop
in VN-based systems when satellites switch their footprint
area. On the other hand, MSVN-based handover algorithms
provide zero latency since UDL transmission does not stop.
Recall that we assume perfect synchronization of satellites.
If perfect synchronization could not be provided, latency
for VN-HO and MSVN-SSHO would increase.
Fig. 12 illustrates data loss values for VN-HO algorithm
for different Bmax values. Bmax is defined as maximum
amount of onboard buffering available for the corresponding flow. TSW is set to 20 ms. Since TSW is higher than TISL,
buffering is needed to avoid data loss during switching of
satellites from one footprint to another. If small amount
of buffering is supported onboard (or buffering is not supported at all), data loss is inevitable. For high Bmax values
(higher than 130 Kb in this case), packets on the network
can be buffered until the end of the switching time and
only data loss occurs in uplink UDL (which is equal to
70 Kb). MSVN-SHO is a lossless handover algorithm.
MSVN-SSHO also avoids data loss in the case of perfect
synchronization. In MSVN-SSHO, perfect synchronization
between successive satellites along an orbit is important,
since both of them could not be active (for same footprint
area) at the same time. If both of them are passive at the
same time, then GTs will not be served and packet loss occurs. Therefore, for the best handover performance, satellites should change their mode in a synchronized way.
Perfect synchronization is also needed for VN-HO to reduce
the data loss (or latency if packets are buffered). In MSVNSHO, perfect synchronization is not a prerequisite for
avoiding packet loss. However, perfect synchronization between successive satellites along an orbit is beneficial for
avoiding packet duplication, and synchronization between
neighboring satellites in different orbits is desirable for
avoiding needless delay variations (and hence packet
reordering).
In VN-HO, delay variation in a flow occurs due to directing the packets from old representative of a VN to the new
representative after handover occurs. As handover is realized, mapping between logical nodes and physical satellites changes and packets on the network should travel
an ISL link in order to continue from their old logical node.
In our scenario, 7 ms of end-to-end delay variation occurs
at the time of handover. In MSVN-SHO, the mapping between logical and physical nodes changes in a smooth
way. Before changing its logical position, a satellite stays
in passive mode, and handles the traffic that is directed
to itself in a proper way. Nevertheless, delay variation in 2
Such interruption avoidance is also considered in Teledesic [12].
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1509
flow occurs due to length difference between the old path
and the new path. In our scenario, this corresponds to a delay variation of 0 and 6.72 ms for different instances of FPA and FP-B. When FP-A and FP-B are in the same latitude,
path length does not change, and hence end-to-end delay
does not vary during handover. However, in other cases,
path length varies at the amount of one intra-orbit ISL distance. When the new path is shorter, delay variation causes
packet reordering. As previously mentioned, packet reordering may be handled by delaying packets that travel
along the new route in an appropriate node, if needed. Delay variation in MSVN-SSHO is also similar to MSVN-SHO,
but additional variation occurs because just after a satellite
switches to passive mode, some packets that arrived from
successor should be sent back. Therefore, comparing to the
MSVN-SHO case, two times more delay variation
(13.44 ms) is obtained. This variation could be reduced
by buffering those packets in the successor, if possible.
From the above descriptions, it is evident that MSVNbased handover algorithms perform better than VN-HO.
Especially MSVN-SHO performs very well in terms of handover latency, data loss, delay variation, and synchronization and buffering requirements. However, since VN-HO,
MSVN-SHO and MSVN-SSHO are designed for different systems with different capabilities, system characteristics
should be taken into account in order to make a better
comparison.
MSVN-SHO is better than MSVN-SSHO in terms of delay
variation and less need for synchronization and buffering.
However, enabling GTs to communicate with more than
one satellite at a time necessitates extra complexity in
the system.
MSVN-based handover algorithms are faster and
smoother than VN-HO, but MSVN-based systems use more
satellites than VN-based systems. Actually, increase in the
system cost is marginal since using NFP + 1 satellites per orbit is usually sufficient to apply MSVN-based handover
algorithms. Moreover, in the passive mode, satellites use
small amount of power, and life-time of the satellites in
an MSVN-based system increases comparing with a VNbased system. Therefore, increasing number of satellites
to benefit from performance of MSVN-based handover
algorithms seems to be a reasonable decision.
Fig. 11. Communication scenario between two ground terminals.
Table 4
Handover latency values for all handover mechanisms.
VN-HO (ms) MSVN-SHO MSVN-SSHO
TSW = 10 ms 24 No latency No latencya
TSW = 20 ms 34
TSW = 50 ms 64
TSW = 100 ms 114
a Although MSVN-SSHO provides uninterrupt communication between GTs and satellites, small amount of latency may occur when switching from one
satellite to another. In this work, we assume that this latency is negligible.
Fig. 12. Data loss values for VN-HO algorithm.
1510 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
5. Conclusions
Handling satellite mobility is a major challenge for optimizing LEO satellite network resources. Virtual node (VN)
based networking protocols were proposed for mobility
handling, however these protocols require one-to-one correspondence between actual satellites and virtual nodes,
resulting in reduced system availability. In this paper, we
investigate a general virtual topology for satellite systems
with Earth-fixed footprints, where more than one satellite
can serve for the same footprint area. We propose a multistate virtual network (MSVN) topology, provide formal
mathematical model for it and discuss its contribution to
the overall system availability. Furthermore, we investigate potential handover mechanisms for VN-based and
MSVN-based satellite systems, and propose efficient handover algorithms, namely VN-HO, MSVN-SHO and MSVNSSHO. To our best knowledge, this is the first paper to deal
with handover algorithms in Earth-fixed satellite systems.
Despite a marginal increase in the cost, MSVN-based systems offer handover algorithms that are faster and
smoother than VN-HO. This constructs a significant benefit
of MSVN-based satellite systems over conventional VNbased satellite systems.
Acknowledgements
This work is supported by the State Planning Organization of Turkey, under grant no. DPT-03K 120250. omer
Korcak is supported by TUBITAK under national PhD scholarship. Authors thank to Ozgur Baris Akan, Tuna Tugcu,
Gurkan Gur and anonymous reviewers for their very useful
comments.
References
[1] o. Korcak, F. Alagoz, Multi-state virtual network architecture for next
generation satellite networks, in: Proceedings of the IEEE
GLOBECOM, Washington, DC, USA, 2007.
[2] F. Alagoz, o. Korcak, A. Jamalipour, Exploring the routing strategies
in next generation satellite networks, IEEE Wireless
Communications Magazine 14 (3) (2007) 79‚Äì88.
[3] R. Mauger, C. Rosenberg, QoS guarantees for multimedia services on
a TDMA-based satellite network, IEEE Communications Magazine 35
(7) (1997) 56‚Äì65.
[4] J. Restrepo, G. Maral, Cellular geometry for world-wide coverage by
non-GEO satellites using ‚ÄòEarth-fixed cell‚Äô technique, Space
Communications 14 (1996) 179‚Äì189.
[5] L. Wood, A. Clerget, I. Andrikopoulos, G. Pavlou, W. Dabbous, IP
routing issues in satellite constellation networks, International
Journal of Satellite Networks 19 (1) (2001) 69‚Äì92.
[6] E. Ekici, I.F. Akyildiz, M.D. Bender, A distributed routing algorithm for
datagram traffic in LEO satellite networks, IEEE/ACM Transactions on
Networking 9 (2) (2001) 137‚Äì147.
[7] E. Ekici, I.F. Akyildiz, M.D. Bender, A multicast routing algorithm for
LEO satellite IP networks, IEEE/ACM Transactions on Networking 10
(2) (2002) 183‚Äì192.
[8] I.F. Akyildiz, E. Ekici, M.D. Bender, MLSR: a novel routing algorithm
for multi-layered satellite IP networks, IEEE/ACM Transactions on
Networking 10 (3) (2002) 411‚Äì424.
[9] D.S. Dash, A. Durresi, R. Jain, Routing of VoIP traffic in multilayered
satellite networks, in: Proceedings of the SPIE ITCOMM, vol. 5244,
Orlando, FL, pp. 65‚Äì75.
[10] H. Uzunalioglu, M.D. Bender, I.F. Akyildiz, A routing algorithm for
LEO satellite networks with dynamic connectivity, ACM-Baltzer
Journal of Wireless Networks (WINET) 6 (3) (2000) 181‚Äì190.
[11] o. Korcak, F. Alagoz, Optimal beam management in Earth-fixed
satellite systems, in: Proceedings of the IEEE IWSSC, Salzburg,
Austria, 2007.
[12] D. Patterson, M. Sturza, Earth-fixed cell beam management for
satellite communication system, US Patent 5408237, 1995.
[13] B. Sarikaya, M. Tasaki, Supporting node mobility using IPv6 in a LEOsatellite network, International Journal of Satellite Communications
19 (5) (2001) 481‚Äì498.
Omer Korcak is currently working toward the
Ph.D. degree in the Department of Computer
Engineering, BogÀòazici University, Turkey. He
received his B.Sc. and M.Sc. degrees in Computer Engineering from BogÀòazici University, in
2002 and 2004, respectively. He is a Ph.D.
scholar of The Scientific and Technological
Research Council of Turkey. His main research
interests include networking in non-geostationary satellite systems with focus on routing, mobility management and traffic
engineering issues and all-optical networking
with focus on wavelength assignment in optical burst switching networks. He is a student member of IEEE Communications Society.
Fatih Alagoz is an Associate Professor in the
Department of Computer Engineering,
Bogazici University, Turkey. From 2001 to
2003, he was with the Department of Electrical Engineering, United Arab Emirates University, AlAin, UAE. In 1993, he was a Research
Engineer in a missile manufacturing company,
Muhimmatsan AS, Turkey. He received the
B.Sc. degree in Electrical Engineering from the
METU, Turkey, in 1992, and M.Sc. and D.Sc.
degrees in Electrical Engineering from George
Washington University, USA, in 1995 and
2000, respectively. His current research interests are in the areas of
satellite networks and wireless/mobile networks, UWB communications.
He has contributed/managed to 10 research projects for various agencies/
organizations including US Army of Intelligence Center, Naval Research
Laboratory, TUBITAK, BAP, etc. He has edited five books and published
more than 70 scholarly papers in selected journals and conferences. He is
the Satellite Systems Advisor to the Kandilli Earthquake Research Institute, Istanbul, Turkey. He has served on several major conferences technical committees, and organized and chaired many technical sessions in
many international conferences. He is a member of the IEEE Satellite and
Space Communications Technical Committee. He has numerous professional awards.
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1511
Virtual topology dynamics and handover mechanisms in Earth-fixed
LEO satellite systems q
Omer Korcak *, Fatih Alagoz
Department of Computer Engineering, Computer Networks Research Laboratory (NETLAB), BogÀòazici University, Istanbul, Turkey
article info
Article history:
Received 11 March 2008
Received in revised form 23 October 2008
Accepted 29 January 2009
Available online 8 February 2009
Responsible Editor: E. Ekici
Keywords:
Earth-fixed satellite systems
Virtual topology
Virtual node
Handover mechanisms
Soft handover
abstract
Handling network mobility in a highly dynamic LEO satellite network is a critical issue to
achieve seamless and efficient integration of satellite and terrestrial networks. In Earthfixed satellite systems, this task could be simplified by representing the network with a
more static virtual topology. Virtual node (VN) approach is widely explored in satellite networks research; however, it has some deficiencies due to necessity of one-to-one correspondence between virtual nodes and physical satellites. In this work, a generic virtual
topology model, namely multi-state virtual network (MSVN) architecture that alleviates
these deficiencies, is proposed. A new mathematical model for MSVN is introduced along
with its potential contribution to the overall system availability. Furthermore, possible
handover mechanisms in Earth-fixed satellite systems are investigated, and new efficient
handover mechanisms for both VN-based systems and MSVN-based systems are proposed.
Comparing the handover mechanisms, we conclude with the benefits of using an MSVNbased Earth-fixed satellite system.
 2009 Elsevier B.V. All rights reserved.
1. Introduction
Satellite networks are an attractive option to provide
broadband integrated Internet services to globally scattered users, due to their potential advantages such as
extensive geographic coverage, high bandwidth availability, and inherent broadcast capabilities. Satellites rotating
in geostationary orbit (GEO) are well suited for broadcast
services; however, they suffer from high free space attenuation and long delays. On the contrary, non-geostationary
systems consisting of Medium Earth Orbit (MEO) and
Low Earth Orbit (LEO) satellites offer lower latency, lower
free space loss, and better re-use of available ground-space
communication frequencies. Therefore, they are more suitable for most applications, especially, for those running in
real-time. However, these advantages come with a price:
Footprints of satellites at lower altitudes are smaller, and
global coverage can be provided by higher number of satellites connected with inter-satellite links (ISL). Moreover,
lower orbit satellites move with higher speeds relative to
the Earth‚Äôs surface, resulting in high dynamic in the network topology. This topological phenomenon constitutes
a major challenge in providing quality of service (QoS)
for rapidly growing real-time multimedia services.
Connectionless protocols may use the network resources efficiently; however, providing QoS guarantees is
difficult in connectionless networks, in particular due to
the difficulty in accounting for the delay aspects of QoS
and sequencing. Reliable and powerful traffic engineering
methods and QoS provisioning mechanisms are usually
provided through connection orientation. However, connection-oriented protocols face an important challenge in
satellite networks: Established connections must be maintained as the network topology changes. To address this
challenge, satellite topology dynamics should be handled
properly. Fortunately, although the topology of a satellite
1389-1286/$ - see front matter  2009 Elsevier B.V. All rights reserved.
doi:10.1016/j.comnet.2009.01.010
q
Part of this work has been presented at IEEE GLOBECOM, Washington,
DC, 2007 [1].
* Corresponding author. Tel.: +90 212 3596652; fax: +90 212 2872461.
E-mail addresses: omer.korcak@cmpe.boun.edu.tr (o. Korcak), fatih.
alagoz@boun.edu.tr (F. Alagoz).
Computer Networks 53 (2009) 1497‚Äì1511
Contents lists available at ScienceDirect
Computer Networks
journal homepage: www.elsevier.com/locate/comnet
network rapidly changes, these changes are periodic and
predictable because of the strict orbital movements of
the satellites. Moreover, satellite constellation topology
has a regular and highly symmetric structure. Considering
these properties, some techniques are proposed in order to
make up with the mobility of the network topology [2].
Virtual node (VN) concept is one of the most common approaches. In the VN technique, a fixed virtual topology consisting of VNs is superimposed over the physical topology
in order to hide the mobility of satellites from the routing
protocols. To the best of our knowledge, it is first described
by Mauger and Rosenberg [3], and many researchers develop their routing protocol based on this approach. However
it has some deficiencies, which come from the fact that VN
concept necessitates one-to-one correspondence between
physical satellites and virtual nodes and it could not be applied for systems where more than one satellite can serve
for a single footprint area. To make up with this, we propose and model a multi-state virtual network (MSVN)
topology which enables more than one satellite to cover
a single footprint area. Details of MSVN are given in Section
3 together with brief discussion about its usefulness. To
clarify potential advantages of MSVN-based systems over
VN-based systems, we focus on handover mechanisms
for both kinds of systems. To our knowledge, this is the
first work that investigates link-layer handovers in Earthfixed satellite systems. In Section 4, we first propose an
efficient handover algorithm for VN-based systems. Next,
we devise soft and semi-soft handover algorithms for
MSVN-based systems. Comparison of proposed algorithms
shows potential advantage of MSVN over single state conventional VN architecture. Finally, Section 5 concludes this
work.
2. Satellite network dynamics
Low orbit satellites move with higher speeds relative to
the Earth‚Äôs surface, resulting in high variation in the satellite constellation topology. Therefore, connections between
a terminal and a satellite must be handed over to another
satellite when the current satellite drops too low above the
horizon. On the other hand, handovers of active communications should be controlled considering the capabilities of
the satellite antenna system. There are two general
techniques:
 Asynchronous Handover: It is generally appropriate for
satellite antenna systems that have satellite-fixed (nadir
pointing) footprint. As the satellite moves across the
sky, its footprint sweeps across the surface with a constant velocity, as shown in Fig. 1a. When a terminal
reaches the edge of the current footprint, it is handed
off to a new satellite whose footprint is entering the
area.
 Synchronous Handover: This approach can be applied for
the satellite systems where a satellite is capable of electronically steering its beams, so that it can make up for
its motion and the satellite footprint can be fixed for a
time duration. This leads to Earth-fixed footprints as
shown in Fig. 1b. After some time, all the satellites will
be moving away from their corresponding footprints,
and the system periodically reassigns each satellite to
a new fixed footprint. This approach is proposed in [4],
and it is called synchronous handover since all handovers occur simultaneously. Although this technique
comes with the cost of degradation in the elevation
mask used in the system, it has the potential to simplify
the handovers. In our work, we consider satellite systems with Earth-fixed footprints.
Synchronous handover technique eases the mobility
management issue, since it allows each physical satellite
to be represented by a VN. In the VN technique, a fixed virtual topology consisting of VNs is superimposed over the
physical topology in order to hide the mobility of satellites
from the network layer. A logical address is assigned to the
fixed portions of the Earth‚Äôs surface. Then, by using Earthfixed satellite systems described above, a satellite embodies the VN above this fixed Earth footprint for the time period during which it is serving that footprint. Each VN is
embodied at any given time by a certain physical satellite.
As a satellite disappears over the horizon, its corresponding VN becomes represented by the next satellite passing
overhead and the state information (such as routing table
entries or channel allocation information) is transferred
to it. Handover between VNs and physical satellites are
synchronously performed, hence, the virtual topology remains unchanged. A routing decision is made on this fixed
virtual topology, and consequently, the network layer is
isolated from the satellite constellation dynamics.
Recently, many routing protocols are proposed based on
VN concept. A mechanism to adopt IP routing at the VNs in
order to seamlessly integrate space network with terrestrial Internet and provide direct support for IP-QoS and
IP-Multicast is presented in [5]. A distributed datagram
routing algorithm, and a multicast routing algorithm
regarding satellite network as a mesh topology consisting
of fixed logical locations (virtual nodes) are introduced in
[6,7], respectively. Moreover, some hierarchical routing
algorithms that are developed for integrated satellite networks consisting of LEOs and MEOs [8] or High Altitude
Platforms (HAPs), LEOs and GEOs [9] simplify LEO layer
by modeling it as a fixed virtual network.
Although VN concept is widely accepted, it has also
some potential drawbacks that need to be significantly improved. Representing each physical satellite with a virtual
node implies one-to-one mapping between terminals in a
given footprint and satellite serving to that footprint. Conventional VN concept does not allow multiple satellites to
serve single footprint area. However, this is desirable property due to following reasons:
1. A single satellite may not be sufficient to serve all terminals in a particular footprint area due to high service
demand of ground terminals (GTs) or because of shadowing by terrain and buildings. Therefore, system availability can be increased by providing coverage to an
area through multiple satellites.
2. During daylight hours, if the satellite is located along
the same line of sight with the sun, communication
becomes impossible due to the sun‚Äôs radiation overwhelming the satellite signal. This is called sun outage,
1498 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
and occurs around the time of the spring and fall equinoxes when the sun crosses the Earth‚Äôs equatorial
plane. System can compensate these situations only
by offering alternative satellites.
3. More bandwidth can be provided for densely populated
areas by directing beams of neighboring satellites to
these areas.
4. To achieve lossless handover, at least two satellites
should serve a terminal during handover task. VN technique eliminates the need for network layer handover
but in lower layers, it could not support soft handover,
and only solution is a lossy hard handover.
Considering these issues, the necessity of one-to-one
correspondence between VNs and physical satellites constitutes major shortcomings of conventional VN approach.
Therefore, we propose the multi-state virtual network
(MSVN) concept that enables more than one satellite to
cover a single footprint area. We describe this concept in
next section.
3. Virtual topology dynamics
In our analysis of virtual topology dynamics, we consider a satellite orbit with NSAT satellites that have Earthfixed footprints, and serve for total of NFP footprint areas
along the orbit. We also assume that inter-satellite
distances are equal for the satellites in same orbit. In conventional VN concept, NSAT is equal to NFP, i.e., there exists a
single satellite for each footprint. However, for the sake of
increasing system availability, we also consider the cases
where there is more than one satellite per footprint.
Definition 1 (Average number of satellites per footprint). Average number of satellites per footprint area
√∞N
avg
S=F
√û is calculated as
N
avg
S=F ¬º
NSAT
NFP
: √∞1√û
For conventional VN concept, NSAT is equal to NFP and
N
avg
S=F
is equal to 1.
The case where N
avg
S=F ¬º 2 is illustrated in Fig. 2a. In this
case, as a satellite leaves the footprint area, another one
starts serving the same area. Therefore, each footprint is always served by two satellites. Hence, we can model the entire system as a fixed virtual network as in Fig. 2b.1 A circle
denotes a virtual node that is embodied by a single physical satellite, e.g., v1 in Fig. 2b is embodied by satellite 1 in
Fig. 2a. Rectangles represent footprint areas that include
ground terminals (GT) served by two satellites (that are
a
b
Fig. 1. Satellite-fixed (a) and Earth-fixed (b) footprints.
1 Note that we assume that satellites in different orbits switch footprint
areas synchronously.
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1499
represented by two circles within the rectangular area) at a
time. Note that physical satellites are connected with GTs
by up‚Äìdown links (UDLs); therefore, it can be considered
that there are undesignated links between rectangle nodes
and the circle nodes covered by them. In this case, system
availability is improved compared to the conventional VN
approach; however, satellites need to transfer the state
information two times more frequently.
Note that, when N
avg
S=F
is an integer value, then we
have a fixed virtual topology and each footprint area is
always served by N
avg
S=F
satellites. However, for the systems where N
avg
S=F
has a non-integer value, number of satellites covering a footprint area (NS/F) changes with time,
which yields a dynamic virtual topology. In such systems, at a given time, a footprint area is served by
N
avg
S=F
j k or N
avg
S=F
l m satellites. The case with N
avg
S=F ¬º 1:5
where three satellites serve for two footprints every time
is illustrated in Fig. 3a. Two satellites (Sat1 and Sat2)
serve f1 and one (Sat3) serves f2. Corresponding virtual
network is VNet1 shown in Fig. 3b. (Virtual sub-network
in the figure corresponds to the part of the network
shown in Fig. 3a.) However, when Sat2 switches to f2
as shown in Fig. 4a, then two satellites (Sat2 and Sat3)
continue serving f2 and only Sat1 serves f1, and virtual
topology changes to VNet2 shown in Fig. 4b. After a
while, new satellite enters f1 area, and Sat3 leaves f2
and the virtual topology switches to the VNet1. In this
case, virtual topology has two states, one is active and
the other is passive at a given time. For example, in
the situation shown in Fig. 3a, VNet1 is active and VNet2
is passive, and for Fig. 4a, VNet2 is active and VNet1 is
passive. We call such virtual topology with multiple
states, multi-state virtual network (MSVN) topology. Number of states depends on N
avg
S=F
value. In the next subsection, we describe general case of MSVN and provide a
formal model.
3.1. Multi-state virtual network (MSVN) topology
In order to provide a formal description, we give set of
definitions.
Definition 2 (Inter-satellite angular distance). Consider
that NSAT satellites exist per satellite orbit. If we assume
that inter-satellite links between each satellite in the same
orbit are identical and the angular length of an orbit is 2p,
then, the length of an angular distance (LSAT) between each
satellite pair is expressed by
LSAT ¬º
2p
NSAT
: √∞2√û
Definition 3 (Angular length of anEarth footprint). Let all of
the satellites in an orbit serve for NFP footprint areas. Considering that the sum of the angular lengths of these footprints is 2 p, the angular length of a single footprint (LFP) is
calculated as
LFP ¬º
2p
NFP
: √∞3√û
a
b
Fig. 2. Part of a satellite system with N
avg
S=F ¬º 2 (a) and corresponding virtual network (b).
1500 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
Note that actually footprints are circular areas, and some
overlapping between the footprints of the adjacent satellites is necessary. Therefore, we consider effective footprint
[10] of a satellite which is equivalent to the largest hexagon inscribed into the footprint as shown in Fig. 5.
Definition 4 (Minimum area served by fixed number of satellites). In conventional VN concept, single footprint area is
served by fixed (one) satellite all the time. In MSVN, minimum number of consecutive footprints served by fixed
number of satellites (MFP) changes with the value of N
avg
S=F
.
When N
avg
S=F
is integer, MFP is equal to one. For N
avg
S=F ¬º 1:5,
MFP is two as shown in Fig. 3a. In general, MFP can be found
by
MFP ¬º
lcm√∞gLSAT ; gLFP√û
gLFP
; √∞4√û
where lcm is the least-common-multiple function and g is
a normalization factor, such that both gLSAT and gLFP are
integer values. If we set
g ¬º
NSAT  NFP
2p
; √∞5√û
then (4) reduces to
MFP ¬º
lcm√∞NFP;NSAT √û
NSAT
: √∞6√û
MFP consecutive footprint areas are always served by MSAT
satellites. Therefore, MSAT can be expressed by
MSAT ¬º MFP  N
avg
S=F ¬º
lcm√∞NFP;NSAT √û
NFP
: √∞7√û
Definition 5 (High and low service modes). Recall that the
number of satellites serving a footprint area (NS/F) varies
between N
L
S=F
and N
H
S=F
, where N
L
S=F ¬º N
avg
S=F
j k and
N
H
S=F ¬º N
avg
S=F
l m. A footprint area is said to be in low service
mode when N
L
S=F
satellites serve it and in high service mode
when N
H
S=F
satellites serve. At a given time, among MFP consecutive footprints, M
L
FP footprints are served by N
L
S=F
satellites and M
H
FP footprints are served by N
H
S=F
satellites. When
N
avg
S=F
is integer, M
L
FP and M
H
FP are equal to MFP (which is one).
Otherwise,
M
L
FP ¬º MFP  N
avg
S=F
l m  N
avg
S=F
 ; √∞8√û
M
H
FP ¬º MFP  N
avg
S=F  N
avg
S=F
  j k : √∞9√û
In order to validate that both M
L
FP and M
H
FP have integer values, recall that
a
b
Fig. 3. Part of a satellite system with N
avg
S=F ¬º 1:5: case 1 (a) and corresponding virtual network (VNet1) (b).
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1501
N
avg
S=F
j k ¬º
NSAT
NFP   ¬º
NSAT  √∞NSAT modNFP√û
NFP
: √∞10√û
Using (6), (9) and (10),
M
H
FP ¬º
lcm√∞NFP;NSAT √û
NSAT

NSAT modNFP
NFP
¬º
NSAT modNFP
gcd√∞NSAT ;NFP√û
; √∞11√û
which is known to be an integer value. In a similar manner,
the following equation is derived for low service mode:
M
L
FP ¬º
NFP  NSAT modNFP
gcd√∞NSAT ;NFP√û
; √∞12√û
which is also clearly an integer value.
Definition 6 (Multi-state virtual sub-network). An MSVN
consists of identical multi-state virtual sub-networks
(MSVSN) connected with each other. An MSVSN consists
of MFP consecutive footprint areas (served by MSAT satellites), MSAT virtual nodes (each embodied by a satellite)
and MSAT  1 links (which connects consecutive virtual
node pairs). Note that (6) suggests NFP to be an integer
multiple of MFP, i.e.,
NFP ¬º r  MFP; r 2 Z
√æ
: √∞13√û
Each of these r consecutive footprint groups are served by
MSAT satellites in an identical manner. Therefore, for an orbit, there exists r identical MSVSNs. All of these sub-networks have the same number of states that switch
synchronously. Moreover, recall that we assume that satellites in different orbits switch their footprint areas in a synchronous manner. Therefore, if the satellite network has k
orbits, then an MSVN consists of k  r identical MSVSNs.
Hence, modeling single MSVSN and linking k  r such subnetworks are sufficient to model an MSVN. Links between
a
v
1
v
2
v
3
f
1
f
2
Virtual sub-network b
Fig. 4. Part of a satellite system with N
avg
S=F ¬º 1:5: case 2 (a) and corresponding virtual network (VNet2) (b).
Fig. 5. Effective footprint and its angular length.
1502 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
sub-networks are determined by the ISL characteristics of
physical network.
Definition 7 (System period and state intervals). System
period (T) is defined as the time elapsed for a virtual topology to repeat its states. For a system with only one state, T
is equal to 1. For systems with more than one state, T is
the following:
T ¬º DtS  NS; √∞14√û
where DtS
is the state interval, i.e., the time period for
changing a state. NS
is the number of states, which is
shown to be equal to MFP with the theorem given next.
Theorem 1. For an MSVN, NS
is equal to MFP.
Proof. As mentioned before, the number of states for an
MSVN is equal to the number of states for its MSVSN. Consider a moment when a satellite just starts to serve the first
footprint area of MSVSN, and suppose that the system is in
state 1 at that moment. This state is repeated when the
next following satellite starts to serve this first footprint.
Between these two events, system changes its state NS
times. Note that the state changes only when a satellite
switches its footprint. In an MSVSN, two satellites cannot
switch to a new footprint at the same time (otherwise
there would be two consecutive footprint groups of size
MFP/2 served by fixed number of satellites). Moreover, each
of the points over an orbit is passed by exactly one satellite
during the system period. Therefore, exactly one satellite
switches to each of the MFP footprints. Since there are
MFP consecutive footprints and exactly one satellite
switches to each of these footprints (in different times)
during a system period, there are exactly MFP states in
the system.
The number of states is illustrated in Fig. 6 for various
NSAT values when NFP is equal to 24.
At a given time, only one state is active and others are
passive. The active state changes at each DtS time units,
and DtS can be found as
DtS ¬º
2p
lcm√∞NFP;NSAT √û  xSAT
; √∞15√û
where xSAT stands for angular velocity of a satellite. h
Definitions given above clearly identify characteristics
of an MSVN topology. To briefly summarize, MSVN consists
of k  r identical MSVSNs. Each MSVSN can be considered as
a set of virtual sub-networks (each corresponds to a particular state and remains active for DtS time units). Each virtual sub-network consists of MSAT VNs, MFP footprints
(which can be considered as terrestrial nodes that are connected with VNs), set of links between neighboring VNs
and set of links between VNs and terrestrial nodes (footprints). Footprints in high service mode are linked to more
VNs than footprints in low service mode. At any given time,
M
H
FP of the MFP footprints are in high service mode, and M
L
FP
are in low service mode. Service modes of footprint areas
may change at each state in a deterministic manner.
A detailed formal mathematical model for MSVN and
MSVSN is available in [1]. For the sake of clarity, we will
not include further details in this paper. Rather, we will
discuss usefulness of MSVN topology and show some of
its potential advantages.
3.2. Discussion
For the cases where N
avg
S=F
is not an integer value, a GT
will be served by variable number of satellites. When a
particular footprint area switches from high service mode
to low service mode, system availability decreases, and this
may force some of the connections to be dropped. Therefore, a call admission mechanism need to be employed in
order to guarantee connectivity when the system changes
its state. This means that in the high service mode UDL
links could not be fully utilized. Therefore, it could be argued that a satellite system (say system 1) with N
avg
S=F ¬º c
(where c > 1 and c R Z) has no further advantage compared
to another system (say system 2) with N
avg
S=F ¬º bcc. Nevertheless, system 1 can offer higher system availability than system 2 due to several reasons elaborated next.
In system 1, effect of shadowing by terrain and buildings and sun outage problem are lower. This is because elevation angle between terminal and the nearest satellite is
always greater in system 1. Moreover, on the average,
there is more opportunity in selecting a satellite terminal
to send data.
By letting some non-critical communications to perform only in high service mode, system utilization
improves.
Fig. 6. Number of states versus NSAT (NFP = 24).
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1503
By properly adjusting beam directions, a single state
virtual network topology can be achieved for system 1. In
other words, by making satellites to direct their beams to
neighboring footprint areas (with higher traffic density)
we can satisfy the condition that every footprint area continuously served by fixed number of satellites. This significantly increases the system availability. We justified this
idea in [11], where we proposed a traffic aware optimal
beam management technique, which significantly increases availability and utilization of the system with a
marginal increase in the cost.
Moreover, it is possible to provide faster and smoother
handover algorithms in system 1. As an example, soft
handover could be employed in system 1, whereas it could
not be employed in system 2, because all handovers occur
simultaneously.
Considering these issues, various networking protocols
can be developed based on the proposed virtual network
framework. In the next section, we focus on the last issue,
and investigate, propose and compare possible handover
mechanisms for VN-based systems and MSVN-based
systems.
4. Handover mechanisms
As mentioned in Section 2, Earth-fixed satellite systems
can offer synchronous handover, which means all handovers between satellites and fixed Earth terminals occur
simultaneously. Using VN technique, network layer handover could be totally eliminated because VNs have fixed
IP addresses and routing mechanisms are utilized over
the fixed virtual topology. However, although there is no
need for network layer handover, physical network is dynamic and handover in lower layers could result in significant packet loss. Designing a smooth (low packet loss) and
fast (low latency) handover algorithm is a crucial issue.
Especially for satellite environments with long propagation
delays, system performance could be significantly improved by using proper handover mechanisms. To our
knowledge, there is no previous work that investigates
link-layer handovers in Earth-fixed satellite systems.
Therefore, we first propose an efficient handover scheme
for VN-based satellite systems, namely Virtual Node Handover (VN-HO) algorithm. Next, we propose soft handover
algorithm and semi-soft handover algorithm for MSVNbased satellite networks; MSVN-SHO and MSVN-SSHO.
Comparison of proposed algorithms shows possible
advantage of MSVN over single state conventional VN
architecture.
4.1. Handover mechanisms in VN-based satellite system
In the VN technique, mapping between VNs and physical satellites are changed periodically. When a satellite
changes its corresponding VN, it transfers state information, such as routing table entries and channel allocation
information to the next satellite passing overhead and receives new state information from the previous satellite
that embodies its new VN. In order to reduce latency,
each satellite activates new state information simultaneously. However, as satellites change their state and address, the packets on the network will not be able to
reach their intended target. To handle this problem, one
simple method is to ignore these packets and retransmit
them after new mapping between VNs and satellites is
established. However, this method results in high handover latency and significant performance decrease. Instead, we propose a new handover algorithm for VNbased Earth-fixed satellite systems, namely Virtual Node
Handover (VN-HO) algorithm.
4.1.1. Virtual Node Handover (VN-HO) algorithm
As we mentioned above, VN-based systems do not need
network layer handover. However, link-layer handover can
take significant amount of time. As a satellite switches
from one footprint area to another, it should activate its
new state information, steer its beams to serve for the
new area, and start communicating to GTs in that area.
VN-HO algorithm aims to minimize packet loss during this
switching period. We can describe VN-HO algorithm as
follows.
After receiving new state info from their predecessors,
all satellites activate new state info in a simultaneous manner. As soon as new state information is activated, a satellite sends ACTIVATED message to all its neighbors to
inform that packets sent after this time are according to
new state. At the same time, it sends a STOP message to
the GTs together with the information about the last packets that were successfully received. Afterwards, satellite
stops receiving packets from and sending packets to GTs
and starts steering its beams to new footprint area. Time
needed to switch from one footprint area to other is called
switching time (TSW). During switching time, it is not possible to communicate with GTs. When a GT receives a STOP
message it stops sending data and waits for the successor
satellite to be ready.
In the new state, each satellite receives an ACTIVATED
message from its neighbors and is informed that packets
that are received after this message should be handled
according to new state information. However, some of
the packets are expected to be received before ACTIVATED
message. These packets are checked and if the next hop is
its new address, then they are forwarded according to the
new routing table. Otherwise, packets are directed to successor satellite. Packets received after ACTIVATED message
are forwarded according to the new routing table. If the
next hop is GT but the switching time has not ended yet,
packets are buffered. As soon as switching is performed
and the relevant READY message is transmitted, these
packets are forwarded to GTs. When GT receives a READY
message, communication continues between new satellite
and GT.
The proposed handover mechanism is illustrated in
Fig. 7 and Table 1. New satellite starts serving the footprint
area where GT resides, and the GT hands off from old satellite to new satellite.
Now, we analyze the handover latency of the proposed
mechanism. Consider a flow that originates from a ground
terminal G1, and sent to another ground terminal G2 via a
satellite constellation. End-to-end handover latency (LE‚ÄìE)
experienced by such a flow is determined by latency in uplink UDL (LUDL_U), latency in inter-satellite links (LISL), and
1504 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
latency in downlink UDL (LUDL_D). For the VN-HO algorithm, amount of these latencies are as following:
LUDL U ¬º 2  TUDL √æ TSW ; √∞16√û
LUDL D ¬º
TISL if TISL > TSW ;
TSW otherwise;

√∞17√û
LISL ¬º TISL; √∞18√û
where TUDL is UDL link delay, and TISL is intra-orbit ISL link
delay. We assume that TUDL and TISL values do not vary for
different satellite‚ÄìGT or satellite‚Äìsatellite pairs.
LE‚ÄìE is the maximum of these three latency values, i.e.,
LE‚ÄîE ¬º
TISL if TISL > 2  TUDL √æ TSW ;
2TUDL √æ TSW otherwise:

√∞19√û
In most satellite systems, the first condition in (19) is
very unlikely to hold, therefore (19) reduces to
LE‚ÄîE ¬º 2  TUDL √æ TSW : √∞20√û
VN-HO eliminates losses inside the satellite network
and only packet loss occurs in the UDLs. Packet loss in
the uplink UDL occurs due to the fact that GT sends data
to the satellite without caring about when the satellite will
cut off the communication. Since satellite notifies the last
packet that it received, recovering the packet losses is a relatively easy task. To avoid useless transmissions, satellite
may send STOP message to GTs, at an appropriate time before breaking the link.
Fig. 7. Illustration of VN-HO data and message flows.
Table 1
VN-HO operation.
Inter-satellite signal and data flow
Step 1. Send state info to successor
Step 2. Receive state info from predecessor and activate new state
Step 3. Send ACTIVATED to neighbors
For each incoming interface:
Step 4. Forward arriving packets to successor until receiving ACTIVATED*
Step 5. Receive ACTIVATED and forward according to new routing table
*
Step 4 has an exception. If the next hop for the packet is the new address of the satellite, it is forwarded according to the new routing table
Satellite-GT signal and data flow
Step 1. Activate new state and send STOP to GTs
‚Äì Communication stops during switching time
Step 2. At the end of switching time, send READY to new corresponding GTs
‚Äì Communication continues...
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1505
Packet loss in the downlink, may occur only when
TISL < TSW. In this case, VN-HO eliminates packet loss by
buffering packets until the end of switching time. If TSW
is too long such that all packets could not be buffered, then
some of the data packets are lost.
Receiver could receive some of the packets out of order.
This is due to the fact that number of hops for a flow can
vary because of the changes in the mapping between VNs
and physical satellites.
4.2. Handover mechanisms in MSVN-based satellite system
In a VN-based system with N
avg
S=F ¬º 1, GTs cannot be
served during switching period. However, for the satellite
systems where N
avg
S=F > 1, handover could be done in a
smoother way. Without loss of generality, let us assume
a satellite system where NSAT = 10, and NFP = 8. In such a
network, four footprints are served by five satellites at
any time, and the corresponding MSVSN topology for four
states is shown in Fig. 8.
At the beginning, two satellites serve for f1. Then one of
them switches to f2 and two satellites continue serving f2.
Afterwards, one of those switches to f3, and so on. Each
footprint area is served by two satellites for DtS amount
of time, and by one satellite for 3DtS amount of time. As described in Section 3, this condition can be used to facilitate
soft handover. For this purpose, we investigate possible
handover mechanisms for MSVN-based satellite networks.
In soft handover, GT is connected to the old satellite
during the time for setting up connection with the new satellite, i.e., it is temporarily connected to both the old satellite and the new satellite. Afterwards, connection with old
satellite is broken and communication continues with new
satellite. In order to support soft handover, a GT should be
capable of transmitting signals to and receiving signals
from more than one satellite at a time (as in CDMA systems). If this is not the case, alternative solutions should
be considered to enable a smooth handover scheme.
Here, we introduce two new handover algorithms: soft
handover algorithm for MSVN-based satellite networks
(MSVN-SHO) works for systems where GTs are capable of
communicating with more than one repeater at a time.
Second algorithm is semi-soft handover algorithm
(MSVN-SSHO) which works for systems where GTs have
no such capability.
4.2.1. MSVN-SHO
Assume a satellite system with non-integer N
avg
S=F
value,
where 1 < N
avg
S=F < 2. In such a system, a footprint area is
served by one or two satellites at any time. Since UDL links
could not be fully utilized in high service mode, as described in Section 3, we consider taking advantage of high
service mode for achieving soft handover, rather than
increasing transmission rate. By default, one of the satellites is connected to GTs and during handover both establish a connection temporarily. Then, new satellite
continues serving GTs and the old satellite breaks off the
UDL links. However, if needed, both satellites may serve
simultaneously to increase system availability.
We define two modes for satellites: active and passive.
In the active mode, satellites communicate with GTs and
forward packets according to the routing tables. In passive
mode, satellites do not communicate with GTs and act as
nodes that relay packets to active satellites. When two satellites (one active and one passive) passes over the same
footprint area, passive one is called the passive counterpart
of the active satellite, and active one is called the active
counterpart of the passive satellite.
Now, we will describe MSVN-SHO operation based on
these definitions. For each satellite, three active and two
passive states are defined. The state diagram for a satellite
is illustrated in Fig. 9. As a satellite steers its beams to a
new footprint area, it is in passive state. In this state (passive 1), the satellite does not have any active routing table
and packets are just relayed to active satellites as stated in
Table 2. Note that interface names are defined in Fig. 10.
Subsequently, the satellite receives the routing table and
other state information (such as channel allocation info)
from its predecessor. After updating tables, it switches to
the active mode and informs its predecessor and GTs by
sending an ACTIVE message. In the active mode, the satellite forwards all the packets according to the routing table.
Active duration is considered as three parts as depicted in
Fig. 9. When the predecessor satellite enters the passive
mode, it sends an INACTIVE message. Since the packets
that are received before this INACTIVE message are already
forwarded according to the routing table, it is not necessary to look up the routing table again and these packets
can be just relayed without changing their direction (they
arrive from interface b and forwarded to interface a). After
INACTIVE message is received, the satellite switches to active 2 state and forwards all the packets according to the
routing table. The satellite switches from active 2 to active
3 state when it receives an ACTIVE message from the successor. This message informs that the successor is an active
counterpart henceforth, and the packets that are received
from interface a can just be relayed to interface b without
referring to the routing table. After a while, the satellite
switches to passive mode by deactivating the UDL links
and sends an INACTIVE message to the successor. At this
state (passive 2), packets received through intra-orbit ISLs
are just relayed without changing their direction. However,
packets received through inter-orbit ISLs are forwarded
according to the routing table in order to avoid needless
Fig. 8. MSVSN topology for four states of a system with NSAT = 10 and
NFP = 8.
1506 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
delay, delay jitter and packet reordering. Note that if the
routing table output is u, packets are forwarded to the successor (active counterpart), since the UDL links are
inactive.
Table 2 illustrates the forwarding table for each state.
Recall that interface names are defined in Fig. 10 and IRT
stands for outgoing interface according to the routing table. Table 3 summarizes the MSVN-SHO operation. Durations of the states will be described later.
Let us say two satellites (Sat1 and Sat2) fly over the
same footprint area. Initially, Sat2 is in active mode and
Sat1 is in passive mode. When GTs on the footprint area receive an ACTIVE message from Sat1, they start sending to
and receiving from both of the satellites. Note that, when
both of the satellites are in the active mode, packet duplication occurs. To eliminate duplication and losses, Sat2 and
Sat1 should agree on a boundary (a packet number or a
time unit), such that packets that arrive from GTs prior
to the boundary are handled by Sat2 and ignored by Sat1.
Similarly, packets that arrive from GTs after the boundary
are handled by Sat1 and ignored by Sat2. In other words,
if we satisfy that Sat1 switches to active mode exactly at
the same time when Sat2 switches to passive mode, packet
duplication or loss will be eliminated. However, achieving
perfect synchronization is practically difficult and system
may allow small amount of duplication.
Note that in case two satellites change their mode exactly at the same time, ACTIVE message is received from
the successor after sending INACTIVE message to it. In that
case, active 3 state is eliminated and ACTIVE message is
Fig. 9. MSVN-SHO state diagram for a satellite.
Table 2
MSVN-SHO forwarding table.
Incoming interface (I-Int) Outgoing interface (O-Int)
Passive 1 Passive 2 Active 1 Active 2 Active 3
a b b IRT
IRT
b
b a a a
IRT
c b IRT
d b (if IRT = u then a) IRT
u inactive inactive
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1507
received in passive 2 state. Therefore, in the beginning of
the passive 2 state (before receiving ACTIVE message),
packets received from the successor should be forwarded
according to the routing table. If the O-Int of these packets
are UDL downlink, they can be sent back to the successor
or (regarding that GTs are capable of communicating with
more than one satellites at the same time) Sat2 could activate UDL downlinks only for those packets (that arrived
from interface a before an ACTIVE message).
Let us define ta1, ta2, ta3, tp1, tp2 as duration of active
(1,2,3) and passive (1,2) states, respectively. In a perfect
synchronization case as mentioned above, we can say that:
1. Passive duration of a satellite (tp1 + tp2) is equal to
N
L
S=F
 DtS.
2. Active duration of a satellite (ta1 + ta2) is equal to
N
H
S=F
 DtS.
3. ta1 is equal to intra-orbit ISL link delay (TISL).
4. ta3 is equal to zero.
If the new path is shorter than the old path, packet reordering could occur. New path is typically shorter when the
Sat1 is closer to the other end node than Sat2. Expected delay difference is TISL. To avoid packet reordering, packets
traversed over the new path can be delayed (TISL amount
of time) at an appropriate intermediate or end node. On
the other hand, if Sat2 is closer to the other end node, receiver experiences the same amount of delay between
packets traversing the old path and the packets traversing
the new path.
Note also that, in MSVN-SHO, perfect synchronization
between satellites in different orbits is not a necessity for
successful transmission of packets, but it is desirable for
avoiding delay variation. Suppose that Sat1 and Sat3 are
connected with each other with an inter-orbit ISL. If Sat3
switches to active mode while Sat1 stays in passive mode,
then Sat1 directs the packets received from Sat3 to Sat2,
and Sat2 forwards to appropriate node (may be to Sat1
again) looking at its routing table. This may lead to additional delay and delay variation for a flow. This situation
can be eliminated if Sat3 and Sat1 (or any two satellites
connected with inter-orbit ISLs) switch to the active (or
passive) mode almost at the same time.
Recall that MSVN-SHO algorithm is designed for the
case of 1 < N
avg
S=F < 2. We considered this case because system cost becomes too high when N
avg
S=F
exceeds 2, and it is
not reasonable to double the number of satellites in order
to benefit from soft handover. Nevertheless, case of
N
avg
S=F > 2 could be considered for the sake of increasing system availability. In that case, there will be more than one
Fig. 10. Link interfaces of a satellite.
Table 3
MSVN-SHO operation.
Step 1. Switch to new footprint area. State = passive 1, duration = tp1
Step 2. Receive routing table from predecessor
Step 3. Update tables and activate UDL links. Send ACTIVE to predecessor and GTs. State = active 1, duration = ta1
Step 4. Receive INACTIVE from predecessor. State = active 2, duration = ta2
Step 5. Send routing table and state info to successor
Step 6. Receive ACTIVE from successor. State = active 3, duration = ta3
Step 7. Deactivate UDL links. Send INACTIVE to successor. State = passive 2, duration = tp2
‚Äì For each state, packet forwarding is done according to Table 2
1508 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
active satellite with a single passive counterpart and proposed handover algorithms require some modification.
According to the number of additional active satellites
serving for a single footprint area, there will be additional
active modes in the state diagram. When a satellite enters
to a footprint area, it will be first in passive 1 mode, then
switch to active modes corresponding to first active VN.
Then it will switch to active modes corresponding to next
active VN(s). Finally it switches to passive 2 mode and
leave the footprint area. MSVN-SHO operation and the forwarding table should be extended accordingly. In this paper, we skip the details of the modification.
4.2.2. MSVN-SSHO
Basically MSVN-SSHO is very similar to MSVN-SHO. The
satellite state diagram shown in Fig. 9, Tables 1 and 2 are
also valid for MSVN-SSHO (except that active 3 state does
not exist). It considers the case where GTs cannot receive/
send different data from/to more than one satellite at the
same time. Again, let us consider two satellites (Sat1 and
Sat2) flying over a footprint area. Initially Sat1 is passive,
and Sat2 is active and communicates with GTs over the
footprint area. Since we consider that only one satellite
serves for a footprint at any time, two satellites can use exactly the same channel assignment for communicating
with GTs. Therefore, GTs are uninterrupted while switching from Sat2 to Sat1.2 Different from MSVN-SHO, GTs
could not receive packets from or send packets to Sat2
after switching to Sat1. In such a case, some packets may
needlessly shuttle between Sat1 and Sat2, i.e., when Sat1
is passive, it relays the packets (that are to be forwarded
to downlink UDL) to Sat2, and when they reach at Sat2,
Sat2 also becomes passive and resend them back to Sat1.
(Note that in MSVN-SHO, such packets could be sent to
GTs by Sat2, since MSVN-SHO is designed for the case that
GTs are capable of communicating with more than two satellites at the same time.) In order to avoid this situation,
Sat1 may buffer such packets starting from an appropriate
time before it switches to active state, and send to GTs
after activating UDL link.
To avoid packet losses, time between Sat2‚Äôs deactivating UDL link and Sat1‚Äôs activating UDL link should be minimized. This necessitates perfect synchronization between
Sat1 and Sat2.
4.3. Comparison of VN-HO, MSVN-SHO and MSVN-SSHO
Let us consider two polar satellite systems with 12 orbits and NFP = 24. The first one is a VN-based satellite system with NSAT = 24 and the other is an MSVN-based
satellite system with NSAT = 25. We assume that satellites
are synchronized perfectly. For VN-based system, link delay values are similar to that considered in [13], such that
TUDL and TISL(intra-orbit) are 7 ms and inter-orbit ISL delay
is 14 ms. For MSVN-based system these values are assumed to be same except that TISL is 6.72 ms since satellites
in the same orbit are closer to each other. We assume that
packet processing time is negligibly small compared to the
link delay values.
For both systems, we consider part of the network as
shown in Fig. 11. We consider a flow between two ground
terminals, GT-A and GT-B and investigate the handover
performance for different instances of FP-A and FP-B.
We assume that the flow has constant bit rate of 10 Mbps
with guaranteed QoS. Results show that handover performance is independent from number of hops between SatA and Sat-B for both VN-based system and MSVN-based
system.
Handover latency for VN-HO is dependent on TSW as
shown in Table 4. Obtained values are consistent with Eq.
(20). Latency is due to the fact that UDL transmissions stop
in VN-based systems when satellites switch their footprint
area. On the other hand, MSVN-based handover algorithms
provide zero latency since UDL transmission does not stop.
Recall that we assume perfect synchronization of satellites.
If perfect synchronization could not be provided, latency
for VN-HO and MSVN-SSHO would increase.
Fig. 12 illustrates data loss values for VN-HO algorithm
for different Bmax values. Bmax is defined as maximum
amount of onboard buffering available for the corresponding flow. TSW is set to 20 ms. Since TSW is higher than TISL,
buffering is needed to avoid data loss during switching of
satellites from one footprint to another. If small amount
of buffering is supported onboard (or buffering is not supported at all), data loss is inevitable. For high Bmax values
(higher than 130 Kb in this case), packets on the network
can be buffered until the end of the switching time and
only data loss occurs in uplink UDL (which is equal to
70 Kb). MSVN-SHO is a lossless handover algorithm.
MSVN-SSHO also avoids data loss in the case of perfect
synchronization. In MSVN-SSHO, perfect synchronization
between successive satellites along an orbit is important,
since both of them could not be active (for same footprint
area) at the same time. If both of them are passive at the
same time, then GTs will not be served and packet loss occurs. Therefore, for the best handover performance, satellites should change their mode in a synchronized way.
Perfect synchronization is also needed for VN-HO to reduce
the data loss (or latency if packets are buffered). In MSVNSHO, perfect synchronization is not a prerequisite for
avoiding packet loss. However, perfect synchronization between successive satellites along an orbit is beneficial for
avoiding packet duplication, and synchronization between
neighboring satellites in different orbits is desirable for
avoiding needless delay variations (and hence packet
reordering).
In VN-HO, delay variation in a flow occurs due to directing the packets from old representative of a VN to the new
representative after handover occurs. As handover is realized, mapping between logical nodes and physical satellites changes and packets on the network should travel
an ISL link in order to continue from their old logical node.
In our scenario, 7 ms of end-to-end delay variation occurs
at the time of handover. In MSVN-SHO, the mapping between logical and physical nodes changes in a smooth
way. Before changing its logical position, a satellite stays
in passive mode, and handles the traffic that is directed
to itself in a proper way. Nevertheless, delay variation in 2
Such interruption avoidance is also considered in Teledesic [12].
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1509
flow occurs due to length difference between the old path
and the new path. In our scenario, this corresponds to a delay variation of 0 and 6.72 ms for different instances of FPA and FP-B. When FP-A and FP-B are in the same latitude,
path length does not change, and hence end-to-end delay
does not vary during handover. However, in other cases,
path length varies at the amount of one intra-orbit ISL distance. When the new path is shorter, delay variation causes
packet reordering. As previously mentioned, packet reordering may be handled by delaying packets that travel
along the new route in an appropriate node, if needed. Delay variation in MSVN-SSHO is also similar to MSVN-SHO,
but additional variation occurs because just after a satellite
switches to passive mode, some packets that arrived from
successor should be sent back. Therefore, comparing to the
MSVN-SHO case, two times more delay variation
(13.44 ms) is obtained. This variation could be reduced
by buffering those packets in the successor, if possible.
From the above descriptions, it is evident that MSVNbased handover algorithms perform better than VN-HO.
Especially MSVN-SHO performs very well in terms of handover latency, data loss, delay variation, and synchronization and buffering requirements. However, since VN-HO,
MSVN-SHO and MSVN-SSHO are designed for different systems with different capabilities, system characteristics
should be taken into account in order to make a better
comparison.
MSVN-SHO is better than MSVN-SSHO in terms of delay
variation and less need for synchronization and buffering.
However, enabling GTs to communicate with more than
one satellite at a time necessitates extra complexity in
the system.
MSVN-based handover algorithms are faster and
smoother than VN-HO, but MSVN-based systems use more
satellites than VN-based systems. Actually, increase in the
system cost is marginal since using NFP + 1 satellites per orbit is usually sufficient to apply MSVN-based handover
algorithms. Moreover, in the passive mode, satellites use
small amount of power, and life-time of the satellites in
an MSVN-based system increases comparing with a VNbased system. Therefore, increasing number of satellites
to benefit from performance of MSVN-based handover
algorithms seems to be a reasonable decision.
Fig. 11. Communication scenario between two ground terminals.
Table 4
Handover latency values for all handover mechanisms.
VN-HO (ms) MSVN-SHO MSVN-SSHO
TSW = 10 ms 24 No latency No latencya
TSW = 20 ms 34
TSW = 50 ms 64
TSW = 100 ms 114
a Although MSVN-SSHO provides uninterrupt communication between GTs and satellites, small amount of latency may occur when switching from one
satellite to another. In this work, we assume that this latency is negligible.
Fig. 12. Data loss values for VN-HO algorithm.
1510 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
5. Conclusions
Handling satellite mobility is a major challenge for optimizing LEO satellite network resources. Virtual node (VN)
based networking protocols were proposed for mobility
handling, however these protocols require one-to-one correspondence between actual satellites and virtual nodes,
resulting in reduced system availability. In this paper, we
investigate a general virtual topology for satellite systems
with Earth-fixed footprints, where more than one satellite
can serve for the same footprint area. We propose a multistate virtual network (MSVN) topology, provide formal
mathematical model for it and discuss its contribution to
the overall system availability. Furthermore, we investigate potential handover mechanisms for VN-based and
MSVN-based satellite systems, and propose efficient handover algorithms, namely VN-HO, MSVN-SHO and MSVNSSHO. To our best knowledge, this is the first paper to deal
with handover algorithms in Earth-fixed satellite systems.
Despite a marginal increase in the cost, MSVN-based systems offer handover algorithms that are faster and
smoother than VN-HO. This constructs a significant benefit
of MSVN-based satellite systems over conventional VNbased satellite systems.
Acknowledgements
This work is supported by the State Planning Organization of Turkey, under grant no. DPT-03K 120250. omer
Korcak is supported by TUBITAK under national PhD scholarship. Authors thank to Ozgur Baris Akan, Tuna Tugcu,
Gurkan Gur and anonymous reviewers for their very useful
comments.
References
[1] o. Korcak, F. Alagoz, Multi-state virtual network architecture for next
generation satellite networks, in: Proceedings of the IEEE
GLOBECOM, Washington, DC, USA, 2007.
[2] F. Alagoz, o. Korcak, A. Jamalipour, Exploring the routing strategies
in next generation satellite networks, IEEE Wireless
Communications Magazine 14 (3) (2007) 79‚Äì88.
[3] R. Mauger, C. Rosenberg, QoS guarantees for multimedia services on
a TDMA-based satellite network, IEEE Communications Magazine 35
(7) (1997) 56‚Äì65.
[4] J. Restrepo, G. Maral, Cellular geometry for world-wide coverage by
non-GEO satellites using ‚ÄòEarth-fixed cell‚Äô technique, Space
Communications 14 (1996) 179‚Äì189.
[5] L. Wood, A. Clerget, I. Andrikopoulos, G. Pavlou, W. Dabbous, IP
routing issues in satellite constellation networks, International
Journal of Satellite Networks 19 (1) (2001) 69‚Äì92.
[6] E. Ekici, I.F. Akyildiz, M.D. Bender, A distributed routing algorithm for
datagram traffic in LEO satellite networks, IEEE/ACM Transactions on
Networking 9 (2) (2001) 137‚Äì147.
[7] E. Ekici, I.F. Akyildiz, M.D. Bender, A multicast routing algorithm for
LEO satellite IP networks, IEEE/ACM Transactions on Networking 10
(2) (2002) 183‚Äì192.
[8] I.F. Akyildiz, E. Ekici, M.D. Bender, MLSR: a novel routing algorithm
for multi-layered satellite IP networks, IEEE/ACM Transactions on
Networking 10 (3) (2002) 411‚Äì424.
[9] D.S. Dash, A. Durresi, R. Jain, Routing of VoIP traffic in multilayered
satellite networks, in: Proceedings of the SPIE ITCOMM, vol. 5244,
Orlando, FL, pp. 65‚Äì75.
[10] H. Uzunalioglu, M.D. Bender, I.F. Akyildiz, A routing algorithm for
LEO satellite networks with dynamic connectivity, ACM-Baltzer
Journal of Wireless Networks (WINET) 6 (3) (2000) 181‚Äì190.
[11] o. Korcak, F. Alagoz, Optimal beam management in Earth-fixed
satellite systems, in: Proceedings of the IEEE IWSSC, Salzburg,
Austria, 2007.
[12] D. Patterson, M. Sturza, Earth-fixed cell beam management for
satellite communication system, US Patent 5408237, 1995.
[13] B. Sarikaya, M. Tasaki, Supporting node mobility using IPv6 in a LEOsatellite network, International Journal of Satellite Communications
19 (5) (2001) 481‚Äì498.
Omer Korcak is currently working toward the
Ph.D. degree in the Department of Computer
Engineering, BogÀòazici University, Turkey. He
received his B.Sc. and M.Sc. degrees in Computer Engineering from BogÀòazici University, in
2002 and 2004, respectively. He is a Ph.D.
scholar of The Scientific and Technological
Research Council of Turkey. His main research
interests include networking in non-geostationary satellite systems with focus on routing, mobility management and traffic
engineering issues and all-optical networking
with focus on wavelength assignment in optical burst switching networks. He is a student member of IEEE Communications Society.
Fatih Alagoz is an Associate Professor in the
Department of Computer Engineering,
Bogazici University, Turkey. From 2001 to
2003, he was with the Department of Electrical Engineering, United Arab Emirates University, AlAin, UAE. In 1993, he was a Research
Engineer in a missile manufacturing company,
Muhimmatsan AS, Turkey. He received the
B.Sc. degree in Electrical Engineering from the
METU, Turkey, in 1992, and M.Sc. and D.Sc.
degrees in Electrical Engineering from George
Washington University, USA, in 1995 and
2000, respectively. His current research interests are in the areas of
satellite networks and wireless/mobile networks, UWB communications.
He has contributed/managed to 10 research projects for various agencies/
organizations including US Army of Intelligence Center, Naval Research
Laboratory, TUBITAK, BAP, etc. He has edited five books and published
more than 70 scholarly papers in selected journals and conferences. He is
the Satellite Systems Advisor to the Kandilli Earthquake Research Institute, Istanbul, Turkey. He has served on several major conferences technical committees, and organized and chaired many technical sessions in
many international conferences. He is a member of the IEEE Satellite and
Space Communications Technical Committee. He has numerous professional awards.
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1511
Virtual topology dynamics and handover mechanisms in Earth-fixed
LEO satellite systems q
Omer Korcak *, Fatih Alagoz
Department of Computer Engineering, Computer Networks Research Laboratory (NETLAB), BogÀòazici University, Istanbul, Turkey
article info
Article history:
Received 11 March 2008
Received in revised form 23 October 2008
Accepted 29 January 2009
Available online 8 February 2009
Responsible Editor: E. Ekici
Keywords:
Earth-fixed satellite systems
Virtual topology
Virtual node
Handover mechanisms
Soft handover
abstract
Handling network mobility in a highly dynamic LEO satellite network is a critical issue to
achieve seamless and efficient integration of satellite and terrestrial networks. In Earthfixed satellite systems, this task could be simplified by representing the network with a
more static virtual topology. Virtual node (VN) approach is widely explored in satellite networks research; however, it has some deficiencies due to necessity of one-to-one correspondence between virtual nodes and physical satellites. In this work, a generic virtual
topology model, namely multi-state virtual network (MSVN) architecture that alleviates
these deficiencies, is proposed. A new mathematical model for MSVN is introduced along
with its potential contribution to the overall system availability. Furthermore, possible
handover mechanisms in Earth-fixed satellite systems are investigated, and new efficient
handover mechanisms for both VN-based systems and MSVN-based systems are proposed.
Comparing the handover mechanisms, we conclude with the benefits of using an MSVNbased Earth-fixed satellite system.
 2009 Elsevier B.V. All rights reserved.
1. Introduction
Satellite networks are an attractive option to provide
broadband integrated Internet services to globally scattered users, due to their potential advantages such as
extensive geographic coverage, high bandwidth availability, and inherent broadcast capabilities. Satellites rotating
in geostationary orbit (GEO) are well suited for broadcast
services; however, they suffer from high free space attenuation and long delays. On the contrary, non-geostationary
systems consisting of Medium Earth Orbit (MEO) and
Low Earth Orbit (LEO) satellites offer lower latency, lower
free space loss, and better re-use of available ground-space
communication frequencies. Therefore, they are more suitable for most applications, especially, for those running in
real-time. However, these advantages come with a price:
Footprints of satellites at lower altitudes are smaller, and
global coverage can be provided by higher number of satellites connected with inter-satellite links (ISL). Moreover,
lower orbit satellites move with higher speeds relative to
the Earth‚Äôs surface, resulting in high dynamic in the network topology. This topological phenomenon constitutes
a major challenge in providing quality of service (QoS)
for rapidly growing real-time multimedia services.
Connectionless protocols may use the network resources efficiently; however, providing QoS guarantees is
difficult in connectionless networks, in particular due to
the difficulty in accounting for the delay aspects of QoS
and sequencing. Reliable and powerful traffic engineering
methods and QoS provisioning mechanisms are usually
provided through connection orientation. However, connection-oriented protocols face an important challenge in
satellite networks: Established connections must be maintained as the network topology changes. To address this
challenge, satellite topology dynamics should be handled
properly. Fortunately, although the topology of a satellite
1389-1286/$ - see front matter  2009 Elsevier B.V. All rights reserved.
doi:10.1016/j.comnet.2009.01.010
q
Part of this work has been presented at IEEE GLOBECOM, Washington,
DC, 2007 [1].
* Corresponding author. Tel.: +90 212 3596652; fax: +90 212 2872461.
E-mail addresses: omer.korcak@cmpe.boun.edu.tr (o. Korcak), fatih.
alagoz@boun.edu.tr (F. Alagoz).
Computer Networks 53 (2009) 1497‚Äì1511
Contents lists available at ScienceDirect
Computer Networks
journal homepage: www.elsevier.com/locate/comnet
network rapidly changes, these changes are periodic and
predictable because of the strict orbital movements of
the satellites. Moreover, satellite constellation topology
has a regular and highly symmetric structure. Considering
these properties, some techniques are proposed in order to
make up with the mobility of the network topology [2].
Virtual node (VN) concept is one of the most common approaches. In the VN technique, a fixed virtual topology consisting of VNs is superimposed over the physical topology
in order to hide the mobility of satellites from the routing
protocols. To the best of our knowledge, it is first described
by Mauger and Rosenberg [3], and many researchers develop their routing protocol based on this approach. However
it has some deficiencies, which come from the fact that VN
concept necessitates one-to-one correspondence between
physical satellites and virtual nodes and it could not be applied for systems where more than one satellite can serve
for a single footprint area. To make up with this, we propose and model a multi-state virtual network (MSVN)
topology which enables more than one satellite to cover
a single footprint area. Details of MSVN are given in Section
3 together with brief discussion about its usefulness. To
clarify potential advantages of MSVN-based systems over
VN-based systems, we focus on handover mechanisms
for both kinds of systems. To our knowledge, this is the
first work that investigates link-layer handovers in Earthfixed satellite systems. In Section 4, we first propose an
efficient handover algorithm for VN-based systems. Next,
we devise soft and semi-soft handover algorithms for
MSVN-based systems. Comparison of proposed algorithms
shows potential advantage of MSVN over single state conventional VN architecture. Finally, Section 5 concludes this
work.
2. Satellite network dynamics
Low orbit satellites move with higher speeds relative to
the Earth‚Äôs surface, resulting in high variation in the satellite constellation topology. Therefore, connections between
a terminal and a satellite must be handed over to another
satellite when the current satellite drops too low above the
horizon. On the other hand, handovers of active communications should be controlled considering the capabilities of
the satellite antenna system. There are two general
techniques:
 Asynchronous Handover: It is generally appropriate for
satellite antenna systems that have satellite-fixed (nadir
pointing) footprint. As the satellite moves across the
sky, its footprint sweeps across the surface with a constant velocity, as shown in Fig. 1a. When a terminal
reaches the edge of the current footprint, it is handed
off to a new satellite whose footprint is entering the
area.
 Synchronous Handover: This approach can be applied for
the satellite systems where a satellite is capable of electronically steering its beams, so that it can make up for
its motion and the satellite footprint can be fixed for a
time duration. This leads to Earth-fixed footprints as
shown in Fig. 1b. After some time, all the satellites will
be moving away from their corresponding footprints,
and the system periodically reassigns each satellite to
a new fixed footprint. This approach is proposed in [4],
and it is called synchronous handover since all handovers occur simultaneously. Although this technique
comes with the cost of degradation in the elevation
mask used in the system, it has the potential to simplify
the handovers. In our work, we consider satellite systems with Earth-fixed footprints.
Synchronous handover technique eases the mobility
management issue, since it allows each physical satellite
to be represented by a VN. In the VN technique, a fixed virtual topology consisting of VNs is superimposed over the
physical topology in order to hide the mobility of satellites
from the network layer. A logical address is assigned to the
fixed portions of the Earth‚Äôs surface. Then, by using Earthfixed satellite systems described above, a satellite embodies the VN above this fixed Earth footprint for the time period during which it is serving that footprint. Each VN is
embodied at any given time by a certain physical satellite.
As a satellite disappears over the horizon, its corresponding VN becomes represented by the next satellite passing
overhead and the state information (such as routing table
entries or channel allocation information) is transferred
to it. Handover between VNs and physical satellites are
synchronously performed, hence, the virtual topology remains unchanged. A routing decision is made on this fixed
virtual topology, and consequently, the network layer is
isolated from the satellite constellation dynamics.
Recently, many routing protocols are proposed based on
VN concept. A mechanism to adopt IP routing at the VNs in
order to seamlessly integrate space network with terrestrial Internet and provide direct support for IP-QoS and
IP-Multicast is presented in [5]. A distributed datagram
routing algorithm, and a multicast routing algorithm
regarding satellite network as a mesh topology consisting
of fixed logical locations (virtual nodes) are introduced in
[6,7], respectively. Moreover, some hierarchical routing
algorithms that are developed for integrated satellite networks consisting of LEOs and MEOs [8] or High Altitude
Platforms (HAPs), LEOs and GEOs [9] simplify LEO layer
by modeling it as a fixed virtual network.
Although VN concept is widely accepted, it has also
some potential drawbacks that need to be significantly improved. Representing each physical satellite with a virtual
node implies one-to-one mapping between terminals in a
given footprint and satellite serving to that footprint. Conventional VN concept does not allow multiple satellites to
serve single footprint area. However, this is desirable property due to following reasons:
1. A single satellite may not be sufficient to serve all terminals in a particular footprint area due to high service
demand of ground terminals (GTs) or because of shadowing by terrain and buildings. Therefore, system availability can be increased by providing coverage to an
area through multiple satellites.
2. During daylight hours, if the satellite is located along
the same line of sight with the sun, communication
becomes impossible due to the sun‚Äôs radiation overwhelming the satellite signal. This is called sun outage,
1498 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
and occurs around the time of the spring and fall equinoxes when the sun crosses the Earth‚Äôs equatorial
plane. System can compensate these situations only
by offering alternative satellites.
3. More bandwidth can be provided for densely populated
areas by directing beams of neighboring satellites to
these areas.
4. To achieve lossless handover, at least two satellites
should serve a terminal during handover task. VN technique eliminates the need for network layer handover
but in lower layers, it could not support soft handover,
and only solution is a lossy hard handover.
Considering these issues, the necessity of one-to-one
correspondence between VNs and physical satellites constitutes major shortcomings of conventional VN approach.
Therefore, we propose the multi-state virtual network
(MSVN) concept that enables more than one satellite to
cover a single footprint area. We describe this concept in
next section.
3. Virtual topology dynamics
In our analysis of virtual topology dynamics, we consider a satellite orbit with NSAT satellites that have Earthfixed footprints, and serve for total of NFP footprint areas
along the orbit. We also assume that inter-satellite
distances are equal for the satellites in same orbit. In conventional VN concept, NSAT is equal to NFP, i.e., there exists a
single satellite for each footprint. However, for the sake of
increasing system availability, we also consider the cases
where there is more than one satellite per footprint.
Definition 1 (Average number of satellites per footprint). Average number of satellites per footprint area
√∞N
avg
S=F
√û is calculated as
N
avg
S=F ¬º
NSAT
NFP
: √∞1√û
For conventional VN concept, NSAT is equal to NFP and
N
avg
S=F
is equal to 1.
The case where N
avg
S=F ¬º 2 is illustrated in Fig. 2a. In this
case, as a satellite leaves the footprint area, another one
starts serving the same area. Therefore, each footprint is always served by two satellites. Hence, we can model the entire system as a fixed virtual network as in Fig. 2b.1 A circle
denotes a virtual node that is embodied by a single physical satellite, e.g., v1 in Fig. 2b is embodied by satellite 1 in
Fig. 2a. Rectangles represent footprint areas that include
ground terminals (GT) served by two satellites (that are
a
b
Fig. 1. Satellite-fixed (a) and Earth-fixed (b) footprints.
1 Note that we assume that satellites in different orbits switch footprint
areas synchronously.
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1499
represented by two circles within the rectangular area) at a
time. Note that physical satellites are connected with GTs
by up‚Äìdown links (UDLs); therefore, it can be considered
that there are undesignated links between rectangle nodes
and the circle nodes covered by them. In this case, system
availability is improved compared to the conventional VN
approach; however, satellites need to transfer the state
information two times more frequently.
Note that, when N
avg
S=F
is an integer value, then we
have a fixed virtual topology and each footprint area is
always served by N
avg
S=F
satellites. However, for the systems where N
avg
S=F
has a non-integer value, number of satellites covering a footprint area (NS/F) changes with time,
which yields a dynamic virtual topology. In such systems, at a given time, a footprint area is served by
N
avg
S=F
j k or N
avg
S=F
l m satellites. The case with N
avg
S=F ¬º 1:5
where three satellites serve for two footprints every time
is illustrated in Fig. 3a. Two satellites (Sat1 and Sat2)
serve f1 and one (Sat3) serves f2. Corresponding virtual
network is VNet1 shown in Fig. 3b. (Virtual sub-network
in the figure corresponds to the part of the network
shown in Fig. 3a.) However, when Sat2 switches to f2
as shown in Fig. 4a, then two satellites (Sat2 and Sat3)
continue serving f2 and only Sat1 serves f1, and virtual
topology changes to VNet2 shown in Fig. 4b. After a
while, new satellite enters f1 area, and Sat3 leaves f2
and the virtual topology switches to the VNet1. In this
case, virtual topology has two states, one is active and
the other is passive at a given time. For example, in
the situation shown in Fig. 3a, VNet1 is active and VNet2
is passive, and for Fig. 4a, VNet2 is active and VNet1 is
passive. We call such virtual topology with multiple
states, multi-state virtual network (MSVN) topology. Number of states depends on N
avg
S=F
value. In the next subsection, we describe general case of MSVN and provide a
formal model.
3.1. Multi-state virtual network (MSVN) topology
In order to provide a formal description, we give set of
definitions.
Definition 2 (Inter-satellite angular distance). Consider
that NSAT satellites exist per satellite orbit. If we assume
that inter-satellite links between each satellite in the same
orbit are identical and the angular length of an orbit is 2p,
then, the length of an angular distance (LSAT) between each
satellite pair is expressed by
LSAT ¬º
2p
NSAT
: √∞2√û
Definition 3 (Angular length of anEarth footprint). Let all of
the satellites in an orbit serve for NFP footprint areas. Considering that the sum of the angular lengths of these footprints is 2 p, the angular length of a single footprint (LFP) is
calculated as
LFP ¬º
2p
NFP
: √∞3√û
a
b
Fig. 2. Part of a satellite system with N
avg
S=F ¬º 2 (a) and corresponding virtual network (b).
1500 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
Note that actually footprints are circular areas, and some
overlapping between the footprints of the adjacent satellites is necessary. Therefore, we consider effective footprint
[10] of a satellite which is equivalent to the largest hexagon inscribed into the footprint as shown in Fig. 5.
Definition 4 (Minimum area served by fixed number of satellites). In conventional VN concept, single footprint area is
served by fixed (one) satellite all the time. In MSVN, minimum number of consecutive footprints served by fixed
number of satellites (MFP) changes with the value of N
avg
S=F
.
When N
avg
S=F
is integer, MFP is equal to one. For N
avg
S=F ¬º 1:5,
MFP is two as shown in Fig. 3a. In general, MFP can be found
by
MFP ¬º
lcm√∞gLSAT ; gLFP√û
gLFP
; √∞4√û
where lcm is the least-common-multiple function and g is
a normalization factor, such that both gLSAT and gLFP are
integer values. If we set
g ¬º
NSAT  NFP
2p
; √∞5√û
then (4) reduces to
MFP ¬º
lcm√∞NFP;NSAT √û
NSAT
: √∞6√û
MFP consecutive footprint areas are always served by MSAT
satellites. Therefore, MSAT can be expressed by
MSAT ¬º MFP  N
avg
S=F ¬º
lcm√∞NFP;NSAT √û
NFP
: √∞7√û
Definition 5 (High and low service modes). Recall that the
number of satellites serving a footprint area (NS/F) varies
between N
L
S=F
and N
H
S=F
, where N
L
S=F ¬º N
avg
S=F
j k and
N
H
S=F ¬º N
avg
S=F
l m. A footprint area is said to be in low service
mode when N
L
S=F
satellites serve it and in high service mode
when N
H
S=F
satellites serve. At a given time, among MFP consecutive footprints, M
L
FP footprints are served by N
L
S=F
satellites and M
H
FP footprints are served by N
H
S=F
satellites. When
N
avg
S=F
is integer, M
L
FP and M
H
FP are equal to MFP (which is one).
Otherwise,
M
L
FP ¬º MFP  N
avg
S=F
l m  N
avg
S=F
 ; √∞8√û
M
H
FP ¬º MFP  N
avg
S=F  N
avg
S=F
  j k : √∞9√û
In order to validate that both M
L
FP and M
H
FP have integer values, recall that
a
b
Fig. 3. Part of a satellite system with N
avg
S=F ¬º 1:5: case 1 (a) and corresponding virtual network (VNet1) (b).
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1501
N
avg
S=F
j k ¬º
NSAT
NFP   ¬º
NSAT  √∞NSAT modNFP√û
NFP
: √∞10√û
Using (6), (9) and (10),
M
H
FP ¬º
lcm√∞NFP;NSAT √û
NSAT

NSAT modNFP
NFP
¬º
NSAT modNFP
gcd√∞NSAT ;NFP√û
; √∞11√û
which is known to be an integer value. In a similar manner,
the following equation is derived for low service mode:
M
L
FP ¬º
NFP  NSAT modNFP
gcd√∞NSAT ;NFP√û
; √∞12√û
which is also clearly an integer value.
Definition 6 (Multi-state virtual sub-network). An MSVN
consists of identical multi-state virtual sub-networks
(MSVSN) connected with each other. An MSVSN consists
of MFP consecutive footprint areas (served by MSAT satellites), MSAT virtual nodes (each embodied by a satellite)
and MSAT  1 links (which connects consecutive virtual
node pairs). Note that (6) suggests NFP to be an integer
multiple of MFP, i.e.,
NFP ¬º r  MFP; r 2 Z
√æ
: √∞13√û
Each of these r consecutive footprint groups are served by
MSAT satellites in an identical manner. Therefore, for an orbit, there exists r identical MSVSNs. All of these sub-networks have the same number of states that switch
synchronously. Moreover, recall that we assume that satellites in different orbits switch their footprint areas in a synchronous manner. Therefore, if the satellite network has k
orbits, then an MSVN consists of k  r identical MSVSNs.
Hence, modeling single MSVSN and linking k  r such subnetworks are sufficient to model an MSVN. Links between
a
v
1
v
2
v
3
f
1
f
2
Virtual sub-network b
Fig. 4. Part of a satellite system with N
avg
S=F ¬º 1:5: case 2 (a) and corresponding virtual network (VNet2) (b).
Fig. 5. Effective footprint and its angular length.
1502 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
sub-networks are determined by the ISL characteristics of
physical network.
Definition 7 (System period and state intervals). System
period (T) is defined as the time elapsed for a virtual topology to repeat its states. For a system with only one state, T
is equal to 1. For systems with more than one state, T is
the following:
T ¬º DtS  NS; √∞14√û
where DtS
is the state interval, i.e., the time period for
changing a state. NS
is the number of states, which is
shown to be equal to MFP with the theorem given next.
Theorem 1. For an MSVN, NS
is equal to MFP.
Proof. As mentioned before, the number of states for an
MSVN is equal to the number of states for its MSVSN. Consider a moment when a satellite just starts to serve the first
footprint area of MSVSN, and suppose that the system is in
state 1 at that moment. This state is repeated when the
next following satellite starts to serve this first footprint.
Between these two events, system changes its state NS
times. Note that the state changes only when a satellite
switches its footprint. In an MSVSN, two satellites cannot
switch to a new footprint at the same time (otherwise
there would be two consecutive footprint groups of size
MFP/2 served by fixed number of satellites). Moreover, each
of the points over an orbit is passed by exactly one satellite
during the system period. Therefore, exactly one satellite
switches to each of the MFP footprints. Since there are
MFP consecutive footprints and exactly one satellite
switches to each of these footprints (in different times)
during a system period, there are exactly MFP states in
the system.
The number of states is illustrated in Fig. 6 for various
NSAT values when NFP is equal to 24.
At a given time, only one state is active and others are
passive. The active state changes at each DtS time units,
and DtS can be found as
DtS ¬º
2p
lcm√∞NFP;NSAT √û  xSAT
; √∞15√û
where xSAT stands for angular velocity of a satellite. h
Definitions given above clearly identify characteristics
of an MSVN topology. To briefly summarize, MSVN consists
of k  r identical MSVSNs. Each MSVSN can be considered as
a set of virtual sub-networks (each corresponds to a particular state and remains active for DtS time units). Each virtual sub-network consists of MSAT VNs, MFP footprints
(which can be considered as terrestrial nodes that are connected with VNs), set of links between neighboring VNs
and set of links between VNs and terrestrial nodes (footprints). Footprints in high service mode are linked to more
VNs than footprints in low service mode. At any given time,
M
H
FP of the MFP footprints are in high service mode, and M
L
FP
are in low service mode. Service modes of footprint areas
may change at each state in a deterministic manner.
A detailed formal mathematical model for MSVN and
MSVSN is available in [1]. For the sake of clarity, we will
not include further details in this paper. Rather, we will
discuss usefulness of MSVN topology and show some of
its potential advantages.
3.2. Discussion
For the cases where N
avg
S=F
is not an integer value, a GT
will be served by variable number of satellites. When a
particular footprint area switches from high service mode
to low service mode, system availability decreases, and this
may force some of the connections to be dropped. Therefore, a call admission mechanism need to be employed in
order to guarantee connectivity when the system changes
its state. This means that in the high service mode UDL
links could not be fully utilized. Therefore, it could be argued that a satellite system (say system 1) with N
avg
S=F ¬º c
(where c > 1 and c R Z) has no further advantage compared
to another system (say system 2) with N
avg
S=F ¬º bcc. Nevertheless, system 1 can offer higher system availability than system 2 due to several reasons elaborated next.
In system 1, effect of shadowing by terrain and buildings and sun outage problem are lower. This is because elevation angle between terminal and the nearest satellite is
always greater in system 1. Moreover, on the average,
there is more opportunity in selecting a satellite terminal
to send data.
By letting some non-critical communications to perform only in high service mode, system utilization
improves.
Fig. 6. Number of states versus NSAT (NFP = 24).
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1503
By properly adjusting beam directions, a single state
virtual network topology can be achieved for system 1. In
other words, by making satellites to direct their beams to
neighboring footprint areas (with higher traffic density)
we can satisfy the condition that every footprint area continuously served by fixed number of satellites. This significantly increases the system availability. We justified this
idea in [11], where we proposed a traffic aware optimal
beam management technique, which significantly increases availability and utilization of the system with a
marginal increase in the cost.
Moreover, it is possible to provide faster and smoother
handover algorithms in system 1. As an example, soft
handover could be employed in system 1, whereas it could
not be employed in system 2, because all handovers occur
simultaneously.
Considering these issues, various networking protocols
can be developed based on the proposed virtual network
framework. In the next section, we focus on the last issue,
and investigate, propose and compare possible handover
mechanisms for VN-based systems and MSVN-based
systems.
4. Handover mechanisms
As mentioned in Section 2, Earth-fixed satellite systems
can offer synchronous handover, which means all handovers between satellites and fixed Earth terminals occur
simultaneously. Using VN technique, network layer handover could be totally eliminated because VNs have fixed
IP addresses and routing mechanisms are utilized over
the fixed virtual topology. However, although there is no
need for network layer handover, physical network is dynamic and handover in lower layers could result in significant packet loss. Designing a smooth (low packet loss) and
fast (low latency) handover algorithm is a crucial issue.
Especially for satellite environments with long propagation
delays, system performance could be significantly improved by using proper handover mechanisms. To our
knowledge, there is no previous work that investigates
link-layer handovers in Earth-fixed satellite systems.
Therefore, we first propose an efficient handover scheme
for VN-based satellite systems, namely Virtual Node Handover (VN-HO) algorithm. Next, we propose soft handover
algorithm and semi-soft handover algorithm for MSVNbased satellite networks; MSVN-SHO and MSVN-SSHO.
Comparison of proposed algorithms shows possible
advantage of MSVN over single state conventional VN
architecture.
4.1. Handover mechanisms in VN-based satellite system
In the VN technique, mapping between VNs and physical satellites are changed periodically. When a satellite
changes its corresponding VN, it transfers state information, such as routing table entries and channel allocation
information to the next satellite passing overhead and receives new state information from the previous satellite
that embodies its new VN. In order to reduce latency,
each satellite activates new state information simultaneously. However, as satellites change their state and address, the packets on the network will not be able to
reach their intended target. To handle this problem, one
simple method is to ignore these packets and retransmit
them after new mapping between VNs and satellites is
established. However, this method results in high handover latency and significant performance decrease. Instead, we propose a new handover algorithm for VNbased Earth-fixed satellite systems, namely Virtual Node
Handover (VN-HO) algorithm.
4.1.1. Virtual Node Handover (VN-HO) algorithm
As we mentioned above, VN-based systems do not need
network layer handover. However, link-layer handover can
take significant amount of time. As a satellite switches
from one footprint area to another, it should activate its
new state information, steer its beams to serve for the
new area, and start communicating to GTs in that area.
VN-HO algorithm aims to minimize packet loss during this
switching period. We can describe VN-HO algorithm as
follows.
After receiving new state info from their predecessors,
all satellites activate new state info in a simultaneous manner. As soon as new state information is activated, a satellite sends ACTIVATED message to all its neighbors to
inform that packets sent after this time are according to
new state. At the same time, it sends a STOP message to
the GTs together with the information about the last packets that were successfully received. Afterwards, satellite
stops receiving packets from and sending packets to GTs
and starts steering its beams to new footprint area. Time
needed to switch from one footprint area to other is called
switching time (TSW). During switching time, it is not possible to communicate with GTs. When a GT receives a STOP
message it stops sending data and waits for the successor
satellite to be ready.
In the new state, each satellite receives an ACTIVATED
message from its neighbors and is informed that packets
that are received after this message should be handled
according to new state information. However, some of
the packets are expected to be received before ACTIVATED
message. These packets are checked and if the next hop is
its new address, then they are forwarded according to the
new routing table. Otherwise, packets are directed to successor satellite. Packets received after ACTIVATED message
are forwarded according to the new routing table. If the
next hop is GT but the switching time has not ended yet,
packets are buffered. As soon as switching is performed
and the relevant READY message is transmitted, these
packets are forwarded to GTs. When GT receives a READY
message, communication continues between new satellite
and GT.
The proposed handover mechanism is illustrated in
Fig. 7 and Table 1. New satellite starts serving the footprint
area where GT resides, and the GT hands off from old satellite to new satellite.
Now, we analyze the handover latency of the proposed
mechanism. Consider a flow that originates from a ground
terminal G1, and sent to another ground terminal G2 via a
satellite constellation. End-to-end handover latency (LE‚ÄìE)
experienced by such a flow is determined by latency in uplink UDL (LUDL_U), latency in inter-satellite links (LISL), and
1504 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
latency in downlink UDL (LUDL_D). For the VN-HO algorithm, amount of these latencies are as following:
LUDL U ¬º 2  TUDL √æ TSW ; √∞16√û
LUDL D ¬º
TISL if TISL > TSW ;
TSW otherwise;

√∞17√û
LISL ¬º TISL; √∞18√û
where TUDL is UDL link delay, and TISL is intra-orbit ISL link
delay. We assume that TUDL and TISL values do not vary for
different satellite‚ÄìGT or satellite‚Äìsatellite pairs.
LE‚ÄìE is the maximum of these three latency values, i.e.,
LE‚ÄîE ¬º
TISL if TISL > 2  TUDL √æ TSW ;
2TUDL √æ TSW otherwise:

√∞19√û
In most satellite systems, the first condition in (19) is
very unlikely to hold, therefore (19) reduces to
LE‚ÄîE ¬º 2  TUDL √æ TSW : √∞20√û
VN-HO eliminates losses inside the satellite network
and only packet loss occurs in the UDLs. Packet loss in
the uplink UDL occurs due to the fact that GT sends data
to the satellite without caring about when the satellite will
cut off the communication. Since satellite notifies the last
packet that it received, recovering the packet losses is a relatively easy task. To avoid useless transmissions, satellite
may send STOP message to GTs, at an appropriate time before breaking the link.
Fig. 7. Illustration of VN-HO data and message flows.
Table 1
VN-HO operation.
Inter-satellite signal and data flow
Step 1. Send state info to successor
Step 2. Receive state info from predecessor and activate new state
Step 3. Send ACTIVATED to neighbors
For each incoming interface:
Step 4. Forward arriving packets to successor until receiving ACTIVATED*
Step 5. Receive ACTIVATED and forward according to new routing table
*
Step 4 has an exception. If the next hop for the packet is the new address of the satellite, it is forwarded according to the new routing table
Satellite-GT signal and data flow
Step 1. Activate new state and send STOP to GTs
‚Äì Communication stops during switching time
Step 2. At the end of switching time, send READY to new corresponding GTs
‚Äì Communication continues...
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1505
Packet loss in the downlink, may occur only when
TISL < TSW. In this case, VN-HO eliminates packet loss by
buffering packets until the end of switching time. If TSW
is too long such that all packets could not be buffered, then
some of the data packets are lost.
Receiver could receive some of the packets out of order.
This is due to the fact that number of hops for a flow can
vary because of the changes in the mapping between VNs
and physical satellites.
4.2. Handover mechanisms in MSVN-based satellite system
In a VN-based system with N
avg
S=F ¬º 1, GTs cannot be
served during switching period. However, for the satellite
systems where N
avg
S=F > 1, handover could be done in a
smoother way. Without loss of generality, let us assume
a satellite system where NSAT = 10, and NFP = 8. In such a
network, four footprints are served by five satellites at
any time, and the corresponding MSVSN topology for four
states is shown in Fig. 8.
At the beginning, two satellites serve for f1. Then one of
them switches to f2 and two satellites continue serving f2.
Afterwards, one of those switches to f3, and so on. Each
footprint area is served by two satellites for DtS amount
of time, and by one satellite for 3DtS amount of time. As described in Section 3, this condition can be used to facilitate
soft handover. For this purpose, we investigate possible
handover mechanisms for MSVN-based satellite networks.
In soft handover, GT is connected to the old satellite
during the time for setting up connection with the new satellite, i.e., it is temporarily connected to both the old satellite and the new satellite. Afterwards, connection with old
satellite is broken and communication continues with new
satellite. In order to support soft handover, a GT should be
capable of transmitting signals to and receiving signals
from more than one satellite at a time (as in CDMA systems). If this is not the case, alternative solutions should
be considered to enable a smooth handover scheme.
Here, we introduce two new handover algorithms: soft
handover algorithm for MSVN-based satellite networks
(MSVN-SHO) works for systems where GTs are capable of
communicating with more than one repeater at a time.
Second algorithm is semi-soft handover algorithm
(MSVN-SSHO) which works for systems where GTs have
no such capability.
4.2.1. MSVN-SHO
Assume a satellite system with non-integer N
avg
S=F
value,
where 1 < N
avg
S=F < 2. In such a system, a footprint area is
served by one or two satellites at any time. Since UDL links
could not be fully utilized in high service mode, as described in Section 3, we consider taking advantage of high
service mode for achieving soft handover, rather than
increasing transmission rate. By default, one of the satellites is connected to GTs and during handover both establish a connection temporarily. Then, new satellite
continues serving GTs and the old satellite breaks off the
UDL links. However, if needed, both satellites may serve
simultaneously to increase system availability.
We define two modes for satellites: active and passive.
In the active mode, satellites communicate with GTs and
forward packets according to the routing tables. In passive
mode, satellites do not communicate with GTs and act as
nodes that relay packets to active satellites. When two satellites (one active and one passive) passes over the same
footprint area, passive one is called the passive counterpart
of the active satellite, and active one is called the active
counterpart of the passive satellite.
Now, we will describe MSVN-SHO operation based on
these definitions. For each satellite, three active and two
passive states are defined. The state diagram for a satellite
is illustrated in Fig. 9. As a satellite steers its beams to a
new footprint area, it is in passive state. In this state (passive 1), the satellite does not have any active routing table
and packets are just relayed to active satellites as stated in
Table 2. Note that interface names are defined in Fig. 10.
Subsequently, the satellite receives the routing table and
other state information (such as channel allocation info)
from its predecessor. After updating tables, it switches to
the active mode and informs its predecessor and GTs by
sending an ACTIVE message. In the active mode, the satellite forwards all the packets according to the routing table.
Active duration is considered as three parts as depicted in
Fig. 9. When the predecessor satellite enters the passive
mode, it sends an INACTIVE message. Since the packets
that are received before this INACTIVE message are already
forwarded according to the routing table, it is not necessary to look up the routing table again and these packets
can be just relayed without changing their direction (they
arrive from interface b and forwarded to interface a). After
INACTIVE message is received, the satellite switches to active 2 state and forwards all the packets according to the
routing table. The satellite switches from active 2 to active
3 state when it receives an ACTIVE message from the successor. This message informs that the successor is an active
counterpart henceforth, and the packets that are received
from interface a can just be relayed to interface b without
referring to the routing table. After a while, the satellite
switches to passive mode by deactivating the UDL links
and sends an INACTIVE message to the successor. At this
state (passive 2), packets received through intra-orbit ISLs
are just relayed without changing their direction. However,
packets received through inter-orbit ISLs are forwarded
according to the routing table in order to avoid needless
Fig. 8. MSVSN topology for four states of a system with NSAT = 10 and
NFP = 8.
1506 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
delay, delay jitter and packet reordering. Note that if the
routing table output is u, packets are forwarded to the successor (active counterpart), since the UDL links are
inactive.
Table 2 illustrates the forwarding table for each state.
Recall that interface names are defined in Fig. 10 and IRT
stands for outgoing interface according to the routing table. Table 3 summarizes the MSVN-SHO operation. Durations of the states will be described later.
Let us say two satellites (Sat1 and Sat2) fly over the
same footprint area. Initially, Sat2 is in active mode and
Sat1 is in passive mode. When GTs on the footprint area receive an ACTIVE message from Sat1, they start sending to
and receiving from both of the satellites. Note that, when
both of the satellites are in the active mode, packet duplication occurs. To eliminate duplication and losses, Sat2 and
Sat1 should agree on a boundary (a packet number or a
time unit), such that packets that arrive from GTs prior
to the boundary are handled by Sat2 and ignored by Sat1.
Similarly, packets that arrive from GTs after the boundary
are handled by Sat1 and ignored by Sat2. In other words,
if we satisfy that Sat1 switches to active mode exactly at
the same time when Sat2 switches to passive mode, packet
duplication or loss will be eliminated. However, achieving
perfect synchronization is practically difficult and system
may allow small amount of duplication.
Note that in case two satellites change their mode exactly at the same time, ACTIVE message is received from
the successor after sending INACTIVE message to it. In that
case, active 3 state is eliminated and ACTIVE message is
Fig. 9. MSVN-SHO state diagram for a satellite.
Table 2
MSVN-SHO forwarding table.
Incoming interface (I-Int) Outgoing interface (O-Int)
Passive 1 Passive 2 Active 1 Active 2 Active 3
a b b IRT
IRT
b
b a a a
IRT
c b IRT
d b (if IRT = u then a) IRT
u inactive inactive
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1507
received in passive 2 state. Therefore, in the beginning of
the passive 2 state (before receiving ACTIVE message),
packets received from the successor should be forwarded
according to the routing table. If the O-Int of these packets
are UDL downlink, they can be sent back to the successor
or (regarding that GTs are capable of communicating with
more than one satellites at the same time) Sat2 could activate UDL downlinks only for those packets (that arrived
from interface a before an ACTIVE message).
Let us define ta1, ta2, ta3, tp1, tp2 as duration of active
(1,2,3) and passive (1,2) states, respectively. In a perfect
synchronization case as mentioned above, we can say that:
1. Passive duration of a satellite (tp1 + tp2) is equal to
N
L
S=F
 DtS.
2. Active duration of a satellite (ta1 + ta2) is equal to
N
H
S=F
 DtS.
3. ta1 is equal to intra-orbit ISL link delay (TISL).
4. ta3 is equal to zero.
If the new path is shorter than the old path, packet reordering could occur. New path is typically shorter when the
Sat1 is closer to the other end node than Sat2. Expected delay difference is TISL. To avoid packet reordering, packets
traversed over the new path can be delayed (TISL amount
of time) at an appropriate intermediate or end node. On
the other hand, if Sat2 is closer to the other end node, receiver experiences the same amount of delay between
packets traversing the old path and the packets traversing
the new path.
Note also that, in MSVN-SHO, perfect synchronization
between satellites in different orbits is not a necessity for
successful transmission of packets, but it is desirable for
avoiding delay variation. Suppose that Sat1 and Sat3 are
connected with each other with an inter-orbit ISL. If Sat3
switches to active mode while Sat1 stays in passive mode,
then Sat1 directs the packets received from Sat3 to Sat2,
and Sat2 forwards to appropriate node (may be to Sat1
again) looking at its routing table. This may lead to additional delay and delay variation for a flow. This situation
can be eliminated if Sat3 and Sat1 (or any two satellites
connected with inter-orbit ISLs) switch to the active (or
passive) mode almost at the same time.
Recall that MSVN-SHO algorithm is designed for the
case of 1 < N
avg
S=F < 2. We considered this case because system cost becomes too high when N
avg
S=F
exceeds 2, and it is
not reasonable to double the number of satellites in order
to benefit from soft handover. Nevertheless, case of
N
avg
S=F > 2 could be considered for the sake of increasing system availability. In that case, there will be more than one
Fig. 10. Link interfaces of a satellite.
Table 3
MSVN-SHO operation.
Step 1. Switch to new footprint area. State = passive 1, duration = tp1
Step 2. Receive routing table from predecessor
Step 3. Update tables and activate UDL links. Send ACTIVE to predecessor and GTs. State = active 1, duration = ta1
Step 4. Receive INACTIVE from predecessor. State = active 2, duration = ta2
Step 5. Send routing table and state info to successor
Step 6. Receive ACTIVE from successor. State = active 3, duration = ta3
Step 7. Deactivate UDL links. Send INACTIVE to successor. State = passive 2, duration = tp2
‚Äì For each state, packet forwarding is done according to Table 2
1508 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
active satellite with a single passive counterpart and proposed handover algorithms require some modification.
According to the number of additional active satellites
serving for a single footprint area, there will be additional
active modes in the state diagram. When a satellite enters
to a footprint area, it will be first in passive 1 mode, then
switch to active modes corresponding to first active VN.
Then it will switch to active modes corresponding to next
active VN(s). Finally it switches to passive 2 mode and
leave the footprint area. MSVN-SHO operation and the forwarding table should be extended accordingly. In this paper, we skip the details of the modification.
4.2.2. MSVN-SSHO
Basically MSVN-SSHO is very similar to MSVN-SHO. The
satellite state diagram shown in Fig. 9, Tables 1 and 2 are
also valid for MSVN-SSHO (except that active 3 state does
not exist). It considers the case where GTs cannot receive/
send different data from/to more than one satellite at the
same time. Again, let us consider two satellites (Sat1 and
Sat2) flying over a footprint area. Initially Sat1 is passive,
and Sat2 is active and communicates with GTs over the
footprint area. Since we consider that only one satellite
serves for a footprint at any time, two satellites can use exactly the same channel assignment for communicating
with GTs. Therefore, GTs are uninterrupted while switching from Sat2 to Sat1.2 Different from MSVN-SHO, GTs
could not receive packets from or send packets to Sat2
after switching to Sat1. In such a case, some packets may
needlessly shuttle between Sat1 and Sat2, i.e., when Sat1
is passive, it relays the packets (that are to be forwarded
to downlink UDL) to Sat2, and when they reach at Sat2,
Sat2 also becomes passive and resend them back to Sat1.
(Note that in MSVN-SHO, such packets could be sent to
GTs by Sat2, since MSVN-SHO is designed for the case that
GTs are capable of communicating with more than two satellites at the same time.) In order to avoid this situation,
Sat1 may buffer such packets starting from an appropriate
time before it switches to active state, and send to GTs
after activating UDL link.
To avoid packet losses, time between Sat2‚Äôs deactivating UDL link and Sat1‚Äôs activating UDL link should be minimized. This necessitates perfect synchronization between
Sat1 and Sat2.
4.3. Comparison of VN-HO, MSVN-SHO and MSVN-SSHO
Let us consider two polar satellite systems with 12 orbits and NFP = 24. The first one is a VN-based satellite system with NSAT = 24 and the other is an MSVN-based
satellite system with NSAT = 25. We assume that satellites
are synchronized perfectly. For VN-based system, link delay values are similar to that considered in [13], such that
TUDL and TISL(intra-orbit) are 7 ms and inter-orbit ISL delay
is 14 ms. For MSVN-based system these values are assumed to be same except that TISL is 6.72 ms since satellites
in the same orbit are closer to each other. We assume that
packet processing time is negligibly small compared to the
link delay values.
For both systems, we consider part of the network as
shown in Fig. 11. We consider a flow between two ground
terminals, GT-A and GT-B and investigate the handover
performance for different instances of FP-A and FP-B.
We assume that the flow has constant bit rate of 10 Mbps
with guaranteed QoS. Results show that handover performance is independent from number of hops between SatA and Sat-B for both VN-based system and MSVN-based
system.
Handover latency for VN-HO is dependent on TSW as
shown in Table 4. Obtained values are consistent with Eq.
(20). Latency is due to the fact that UDL transmissions stop
in VN-based systems when satellites switch their footprint
area. On the other hand, MSVN-based handover algorithms
provide zero latency since UDL transmission does not stop.
Recall that we assume perfect synchronization of satellites.
If perfect synchronization could not be provided, latency
for VN-HO and MSVN-SSHO would increase.
Fig. 12 illustrates data loss values for VN-HO algorithm
for different Bmax values. Bmax is defined as maximum
amount of onboard buffering available for the corresponding flow. TSW is set to 20 ms. Since TSW is higher than TISL,
buffering is needed to avoid data loss during switching of
satellites from one footprint to another. If small amount
of buffering is supported onboard (or buffering is not supported at all), data loss is inevitable. For high Bmax values
(higher than 130 Kb in this case), packets on the network
can be buffered until the end of the switching time and
only data loss occurs in uplink UDL (which is equal to
70 Kb). MSVN-SHO is a lossless handover algorithm.
MSVN-SSHO also avoids data loss in the case of perfect
synchronization. In MSVN-SSHO, perfect synchronization
between successive satellites along an orbit is important,
since both of them could not be active (for same footprint
area) at the same time. If both of them are passive at the
same time, then GTs will not be served and packet loss occurs. Therefore, for the best handover performance, satellites should change their mode in a synchronized way.
Perfect synchronization is also needed for VN-HO to reduce
the data loss (or latency if packets are buffered). In MSVNSHO, perfect synchronization is not a prerequisite for
avoiding packet loss. However, perfect synchronization between successive satellites along an orbit is beneficial for
avoiding packet duplication, and synchronization between
neighboring satellites in different orbits is desirable for
avoiding needless delay variations (and hence packet
reordering).
In VN-HO, delay variation in a flow occurs due to directing the packets from old representative of a VN to the new
representative after handover occurs. As handover is realized, mapping between logical nodes and physical satellites changes and packets on the network should travel
an ISL link in order to continue from their old logical node.
In our scenario, 7 ms of end-to-end delay variation occurs
at the time of handover. In MSVN-SHO, the mapping between logical and physical nodes changes in a smooth
way. Before changing its logical position, a satellite stays
in passive mode, and handles the traffic that is directed
to itself in a proper way. Nevertheless, delay variation in 2
Such interruption avoidance is also considered in Teledesic [12].
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1509
flow occurs due to length difference between the old path
and the new path. In our scenario, this corresponds to a delay variation of 0 and 6.72 ms for different instances of FPA and FP-B. When FP-A and FP-B are in the same latitude,
path length does not change, and hence end-to-end delay
does not vary during handover. However, in other cases,
path length varies at the amount of one intra-orbit ISL distance. When the new path is shorter, delay variation causes
packet reordering. As previously mentioned, packet reordering may be handled by delaying packets that travel
along the new route in an appropriate node, if needed. Delay variation in MSVN-SSHO is also similar to MSVN-SHO,
but additional variation occurs because just after a satellite
switches to passive mode, some packets that arrived from
successor should be sent back. Therefore, comparing to the
MSVN-SHO case, two times more delay variation
(13.44 ms) is obtained. This variation could be reduced
by buffering those packets in the successor, if possible.
From the above descriptions, it is evident that MSVNbased handover algorithms perform better than VN-HO.
Especially MSVN-SHO performs very well in terms of handover latency, data loss, delay variation, and synchronization and buffering requirements. However, since VN-HO,
MSVN-SHO and MSVN-SSHO are designed for different systems with different capabilities, system characteristics
should be taken into account in order to make a better
comparison.
MSVN-SHO is better than MSVN-SSHO in terms of delay
variation and less need for synchronization and buffering.
However, enabling GTs to communicate with more than
one satellite at a time necessitates extra complexity in
the system.
MSVN-based handover algorithms are faster and
smoother than VN-HO, but MSVN-based systems use more
satellites than VN-based systems. Actually, increase in the
system cost is marginal since using NFP + 1 satellites per orbit is usually sufficient to apply MSVN-based handover
algorithms. Moreover, in the passive mode, satellites use
small amount of power, and life-time of the satellites in
an MSVN-based system increases comparing with a VNbased system. Therefore, increasing number of satellites
to benefit from performance of MSVN-based handover
algorithms seems to be a reasonable decision.
Fig. 11. Communication scenario between two ground terminals.
Table 4
Handover latency values for all handover mechanisms.
VN-HO (ms) MSVN-SHO MSVN-SSHO
TSW = 10 ms 24 No latency No latencya
TSW = 20 ms 34
TSW = 50 ms 64
TSW = 100 ms 114
a Although MSVN-SSHO provides uninterrupt communication between GTs and satellites, small amount of latency may occur when switching from one
satellite to another. In this work, we assume that this latency is negligible.
Fig. 12. Data loss values for VN-HO algorithm.
1510 o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511
5. Conclusions
Handling satellite mobility is a major challenge for optimizing LEO satellite network resources. Virtual node (VN)
based networking protocols were proposed for mobility
handling, however these protocols require one-to-one correspondence between actual satellites and virtual nodes,
resulting in reduced system availability. In this paper, we
investigate a general virtual topology for satellite systems
with Earth-fixed footprints, where more than one satellite
can serve for the same footprint area. We propose a multistate virtual network (MSVN) topology, provide formal
mathematical model for it and discuss its contribution to
the overall system availability. Furthermore, we investigate potential handover mechanisms for VN-based and
MSVN-based satellite systems, and propose efficient handover algorithms, namely VN-HO, MSVN-SHO and MSVNSSHO. To our best knowledge, this is the first paper to deal
with handover algorithms in Earth-fixed satellite systems.
Despite a marginal increase in the cost, MSVN-based systems offer handover algorithms that are faster and
smoother than VN-HO. This constructs a significant benefit
of MSVN-based satellite systems over conventional VNbased satellite systems.
Acknowledgements
This work is supported by the State Planning Organization of Turkey, under grant no. DPT-03K 120250. omer
Korcak is supported by TUBITAK under national PhD scholarship. Authors thank to Ozgur Baris Akan, Tuna Tugcu,
Gurkan Gur and anonymous reviewers for their very useful
comments.
References
[1] o. Korcak, F. Alagoz, Multi-state virtual network architecture for next
generation satellite networks, in: Proceedings of the IEEE
GLOBECOM, Washington, DC, USA, 2007.
[2] F. Alagoz, o. Korcak, A. Jamalipour, Exploring the routing strategies
in next generation satellite networks, IEEE Wireless
Communications Magazine 14 (3) (2007) 79‚Äì88.
[3] R. Mauger, C. Rosenberg, QoS guarantees for multimedia services on
a TDMA-based satellite network, IEEE Communications Magazine 35
(7) (1997) 56‚Äì65.
[4] J. Restrepo, G. Maral, Cellular geometry for world-wide coverage by
non-GEO satellites using ‚ÄòEarth-fixed cell‚Äô technique, Space
Communications 14 (1996) 179‚Äì189.
[5] L. Wood, A. Clerget, I. Andrikopoulos, G. Pavlou, W. Dabbous, IP
routing issues in satellite constellation networks, International
Journal of Satellite Networks 19 (1) (2001) 69‚Äì92.
[6] E. Ekici, I.F. Akyildiz, M.D. Bender, A distributed routing algorithm for
datagram traffic in LEO satellite networks, IEEE/ACM Transactions on
Networking 9 (2) (2001) 137‚Äì147.
[7] E. Ekici, I.F. Akyildiz, M.D. Bender, A multicast routing algorithm for
LEO satellite IP networks, IEEE/ACM Transactions on Networking 10
(2) (2002) 183‚Äì192.
[8] I.F. Akyildiz, E. Ekici, M.D. Bender, MLSR: a novel routing algorithm
for multi-layered satellite IP networks, IEEE/ACM Transactions on
Networking 10 (3) (2002) 411‚Äì424.
[9] D.S. Dash, A. Durresi, R. Jain, Routing of VoIP traffic in multilayered
satellite networks, in: Proceedings of the SPIE ITCOMM, vol. 5244,
Orlando, FL, pp. 65‚Äì75.
[10] H. Uzunalioglu, M.D. Bender, I.F. Akyildiz, A routing algorithm for
LEO satellite networks with dynamic connectivity, ACM-Baltzer
Journal of Wireless Networks (WINET) 6 (3) (2000) 181‚Äì190.
[11] o. Korcak, F. Alagoz, Optimal beam management in Earth-fixed
satellite systems, in: Proceedings of the IEEE IWSSC, Salzburg,
Austria, 2007.
[12] D. Patterson, M. Sturza, Earth-fixed cell beam management for
satellite communication system, US Patent 5408237, 1995.
[13] B. Sarikaya, M. Tasaki, Supporting node mobility using IPv6 in a LEOsatellite network, International Journal of Satellite Communications
19 (5) (2001) 481‚Äì498.
Omer Korcak is currently working toward the
Ph.D. degree in the Department of Computer
Engineering, BogÀòazici University, Turkey. He
received his B.Sc. and M.Sc. degrees in Computer Engineering from BogÀòazici University, in
2002 and 2004, respectively. He is a Ph.D.
scholar of The Scientific and Technological
Research Council of Turkey. His main research
interests include networking in non-geostationary satellite systems with focus on routing, mobility management and traffic
engineering issues and all-optical networking
with focus on wavelength assignment in optical burst switching networks. He is a student member of IEEE Communications Society.
Fatih Alagoz is an Associate Professor in the
Department of Computer Engineering,
Bogazici University, Turkey. From 2001 to
2003, he was with the Department of Electrical Engineering, United Arab Emirates University, AlAin, UAE. In 1993, he was a Research
Engineer in a missile manufacturing company,
Muhimmatsan AS, Turkey. He received the
B.Sc. degree in Electrical Engineering from the
METU, Turkey, in 1992, and M.Sc. and D.Sc.
degrees in Electrical Engineering from George
Washington University, USA, in 1995 and
2000, respectively. His current research interests are in the areas of
satellite networks and wireless/mobile networks, UWB communications.
He has contributed/managed to 10 research projects for various agencies/
organizations including US Army of Intelligence Center, Naval Research
Laboratory, TUBITAK, BAP, etc. He has edited five books and published
more than 70 scholarly papers in selected journals and conferences. He is
the Satellite Systems Advisor to the Kandilli Earthquake Research Institute, Istanbul, Turkey. He has served on several major conferences technical committees, and organized and chaired many technical sessions in
many international conferences. He is a member of the IEEE Satellite and
Space Communications Technical Committee. He has numerous professional awards.
o. Korcak, F. Alagoz / Computer Networks 53 (2009) 1497‚Äì1511 1511
Received January 4, 2021, accepted February 3, 2021, date of publication February 9, 2021, date of current version February 18, 2021.
Digital Object Identifier 10.1109/ACCESS.2021.3058190
Adaptive Task Planning for Multi-Robot
Smart Warehouse
ALI BOLU , (Member, IEEE), AND Omer Korcak, (Member, IEEE)
Department of Computer Engineering, Marmara University, 34722 Istanbul, Turkey
Corresponding author: Ali Bolu (alibolu@marun.edu.tr)
This work was supported by the Makhina Robotics, Istanbul, Turkey.
ABSTRACT Using autonomous mobile robots is now a necessity for today‚Äôs large e-commerce warehouses
to save time and energy, and to prevent human-based errors. Robotic Mobile Fulfillment System (RMFS)
controls these robots as well as all other resources and tasks in a warehouse. There are challenges in the
management of an RMFS-based smart warehouse because of the high dynamics in the system. Limited
resources such as robots, stations, totes, and item spaces should be managed efficiently after tracking their
status continuously. In this study, we propose a centralized task management approach that is adaptive to
the system dynamics. We describe a novel task conversion algorithm that generates tasks from a batch of
orders and provides a high pile-on value. Then we propose an adaptive heuristic approach to assign generated
tasks to robots, considering system dynamics such as the location of robots and pods, utilization of totes,
and age of the tasks. To evaluate the proposed algorithms, we perform an extensive set of simulations in a
highly realistic environment including robot charging, replenishment process, and path planning algorithms.
We show that the proposed task planning approach significantly reduces order completion time even for a
high number of stock-keeping units (SKU). It also provides a balanced workload among robots. We analyze
the optimal value of order batch size and the effect of important system parameters such as robot count,
order count, and SKU. The obtained results shade light on how to design a smart warehouse system with
high efficiency.
INDEX TERMS Autonomous mobile robots, resource management, robotic mobile fulfillment system,
smart warehouse, task planning, warehouse execution system.
I. INTRODUCTION
Robotic Mobile Fulfillment System (RMFS) is a new trend
warehouse system that employs autonomous mobile robots.
Today, many e-commerce warehouses use this system, while
many more are investigating for future use. RMFS-based
warehouses in which robots lift pods and bring to pick stations
were first introduced by KIVA Systems, Wurman et al. [1].
Amazon bought Kiva systems in 2012 and renamed it to
Amazon Robotics [2]. Since then, many companies have
entered the market with their robots such as Swisslog CarryPick, GreyOrange Butler, Fetch Robotics Freight (and
Fetch), Scallog System, Hitachi Racrew, etc., [3]. Moreover,
major retailers, such as Amazon and Alibaba, use RMFS [2].
However, investment in RMFS to warehouses will cost more
than a million-dollar generally [4]. The most expensive part
of an RMFS investment is the robots. Hence, optimization on
The associate editor coordinating the review of this manuscript and
approving it for publication was Zhenliang Zhang.
RMFS to complete more order with less number of robots is
a crucial point of efficiency.
The order picking process is the most important part in a
warehouse system. Traditional warehouses use picker-to-part
method, i.e. workers travel in the warehouse and collect order
lines. The new RMFS approach is part-to-picker, such that
robots carry the mobile shelves (named as pod) that contain
items to the workers who are waiting at the pick stations.
An RMFS increase picking rate significantly compared to traditional methods especially for large e-commerce warehouses
with many SKUs (Stock Keeping Units) [5]. It is crucial to
optimize picking order, i.e. to collect more order items with
less effort. The order batch method is used for picker-to-parts
picking methods. In this method, a set of orders are splitted
into several subsets of order items and assigned to pickers in
an efficient way in order to reduce travel and picking time [6].
However, in an RMFS, it is not feasible for robots to carry
all order items in a single pod. Therefore, the optimization
objective is to collect more items per pod at the pick station.
27346 This work is licensed under a Creative Commons Attribution 4.0 License. For more information, see https://creativecommons.org/licenses/by/4.0/ VOLUME 9, 2021
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
The average number of order items picked from one pod,
named as pile-on, is the most important metric to reduce order
picking time [5], [7].
Another important task of an RMFS is the replenishment to
pods, in other words to place stocks in the warehouse. There
are two types of stations; pick stations and replenishment
stations. Human workers work in these stations for collecting
orders (picking) or placing items to the pods (replenishment).
In all tasks, the pods are carried to and from the station by
robots. The picking process consumes more energy and time
than replenishment, it is up to 80% according to [5].
It is obvious that robots need energy and charging to complete their tasks. When a robot completes the assigned task
and ready for another one, the RMFS will decide to assign one
of the three tasks: order picking, replenishment, or charging.
In this study, we mainly focus on order picking optimization,
while we also consider and do not neglect replenishment and
charging tasks. We propose novel order-to-task conversion
and task selection methods aiming to increase pile-on and
total efficiency of an RMFS by considering order throughput,
time priority, and utilization of resources. We also test our
methods and algorithm with different warehouse parameters such as number of robots, pick stations, totes, orders
and SKU.
Management of an RMFS requires knowledge of all existing and moving objects in the warehouse. For this purpose,
we develop a web-based central software called Warehouse
Execution System (WES) to manage warehouse automation. WES manages all resources such as robots, stations,
totes, pods etc. We simulate the RMFS on WES in a highly
realistic environment (which can be considered as a digital twin of the real system) in order to evaluate the performance of the proposed approaches for various system
parameters.
A. RELATED WORK
RMFS is a new approach with an increasing popularity in
the last decade. Cooperation of multiple robots and coordination of many other resources such as pods, totes, stations
etc. increase the complexity. Enright and Wurman (2011)
present general concepts of optimization and coordination of
an RMFS in [7]. They mention importance of pile-on optimization to reduce order picking time. Lamballais et al. [4]
analyze performance of an RMFS under four models such as
single-line and multi-line orders and with or without storage
zones. They develop queuing network model that includes
storage zoning and multi-line orders in order to estimate
performance according to order throughput, average order
cycle time, and utilization of robots and workstations.
The assignment of pick orders to pick stations (Pick Order
Assignment - POA) and the pod selection in the pick process
(Pick Pod Selection - PPS) are two important issues for order
picking optimization in an RMFS. First POA, then PPS is
applied [1], [5]. Moreover, [8] performs an approach for
integrating POA and PPS. Merschformann et al. [5] analyze
optimization performance by studying important decision
rules such as POA, PPS, Replenishment Order Assignment
(ROA), Replenishment Pod Selection (RPS) and Pod Storage
Assignment (PSA). They compare multiple rules and find
correlation between them to increase order item throughput.
They point out importance of pile-on and robot travelling
distance for RMFS performance. Boysen et al. [9] study on
processing the orders at the pick station. They focus on batching and sequencing of picking orders in order to decrease
robot needs. The decision problem they formulate is NP-Hard
and they provide several heuristic algorithms to converge to
the optimal. They show that their algorithms decrease the
number of pod visits, but they study only for small instances
(up to 100 orders). Their results imply that the provided
heuristic approaches would take significant amount of time
for larger instances and may not be feasible for real time
applications. Reference [8] integrate assignment of pods to
station and orders to station for order picking process, instead
of calculating separately. They also propose to split orders
in order to improve RMFS efficiency. In other words, parts
of an order are allowed to be processed in different stations
and combined later at the packaging stations. While splitting
orders improve the efficiency, it cause additional processing
load. Evaluation of extra effort for splitting orders and combining later requires real experiments beyond simulation and
analytical models.
Zou et al. [10] focus on rule based robot to task assignment
with handling speeds of workstations and propose a neighbourhood search algorithm to find a near optimal solution.
Moreover, they analyze shelf block size effect to the RMFS
throughput. Reference [11] identify the performance characteristics of an RMFS by providing a literature review. They
mention the relation between performance and the design
decisions of RMFS for operation as a preliminary finding
from an ongoing study.
Other important optimization approach in order picking
process is to use efficient replenishment and pod allocation
methods. These methods proactively increase picking order
throughput since they provide more efficient options to select
pods. Reference [12] focus on efficient pod alignment on the
warehouse storage area. Reference [13] prove that spreading
inventory across many pods significantly decreases the time
of collecting orders. They also analyze the optimization of
variables such as the number of items per pod, replenishment
level per pod, and picking station to replenishment station
ratio.
Robots can be dedicated specifically to order picking
task or replenishment task. This approach is called dedicated
robot assignment. On the other hand, in pooled robot assignment, both tasks are performed by a single pool of robots.
Merschformann et al. [5] adopts dedicated robot assignment
and assigns two-third of the robots for order picking tasks,
and others to replenishment tasks. Roy et al. [14] analyze
RMFS for single and multiple zone with both dedicated and
pooled robot assignment. They notice that using pooled robot
assignment reduces order picking time, while it increases
the replenishment time. Yuan and Gong [15] perform their
VOLUME 9, 2021 27347
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
order picking analysis with the pooled and dedicated robot
system. They also analyze optimal robot count and speed for
their test environment. Zhou et al. [16] focus on balancing
robot workload while optimizing total robot travel time. They
propose a heuristic balance mechanism to assign tasks to
robots. In other words they select robots for tasks with an aim
of minimizing total travel cost and balancing robot workload.
However, this approach will reduce robot utilization since
robots will need to wait for the others to become free. In a
cost-efficient RMFS, number of robots are optimized and
they are busy most of the time. In a warehouse with several
hundreds of robots, 3 to 4 robots may become idle concurrently [7] and it can be suitable to choose only among those
robots.
B. MAIN CONTRIBUTIONS
In this study we propose a novel Order Batch to Robot
Task Conversion (OBRTC) algorithm which tries to find
minimum number of pods that includes items of multiple
orders. In other words, contrary to existing studies, OBRTC
algorithm handles a number of orders as a single order instead
of handling orders one by one. The number of orders to
be handled as a batch has a crucial role to increase pile-on
value even for high SKU. After OBRTC is executed, WES
selects available totes at the pick stations for items in pod
when the order task is assigned to the robot. The pod of
order task will consist of multiple order‚Äôs items, and it can
be assigned to different stations if necessary. Furthermore,
we propose Adaptive Robot Task Selection (ARTS) method
to select a new task for a robot that become available. New
task selection is performed according to a novel priority based
heuristic model which depends on various criteria such as
distance to robot, totes usage and time. In brief, we first
select pods for multiple orders without assigning stations,
totes, or robots to reach maximal pile-on value. Then we
adaptively manage other resources considering the system
dynamics.
Contrary to the most of the studies in the literature,
we develop and use a fully realistic simulation environment
that includes robot collisions, waiting time on path and stations, and effects of the loaded pod weight. Moreover, our
simulation includes charging process by considering a realistic energy consumption model (depending on movements and
loads) and real charging times.
Some e-commerce companies may sell items even if they
are not already stored in their warehouses and these items
are replenished on demand. Therefore there could be many
already ordered items on the pods loaded at the replenishment
stations. Management of this case is mostly not addressed in
existing studies. In our study, we also test such a scenario and
analyze its effects on the system performance.
In summary, our work has three main contributions;
1) We provide a task planning approach with high pile-on
value even for high number of SKUs.
2) We propose a novel parametric heuristic model for
order task selection process.
3) We develop a highly realistic simulation environment
and provide test results under various decision rules
which shade light on how to design a smart warehouse
system with high efficiency.
Rest of the paper is organized as follows. We describe
the system model and our methods in Section 2. We explain
our simulation model and test parameters in Section 3. Test
results are shown in Section 4. We conclude the paper
in Section 5.
FIGURE 1. Warehouse execution area.
II. MODEL AND METHODOLOGY
A. SYSTEM MODEL
Figure 1 illustrates an RMFS based warehouse system. The
components of this system are the following:
‚Ä¢ Pods: All the warehouse items are stored in the pods.
When an order or replenishment arrives to the system,
it should be converted to the task by assigning appropriate pod or pods. These pods that are reserved by the
system are shown in yellow color in Figure 1 (such as 7).
When a pod is lifted by a robot, its cell becomes free (5 in
Figure 1).
‚Ä¢ Robots: Robots carry pods to the stations for order
collection or replenishment (6 in Figure 1).
‚Ä¢ Pick station (2 in Figure 1): There can be multiple pick
stations in a warehouse, where human workers collect
the order items carried by the robots. Figure 2 shows a
pick station. There exists limited number of totes, and
each tote is assigned for a single order. When an order is
collected, that tote is replaced with an empty one.
‚Ä¢ Replenishment station (4 in Figure 1): Human workers
place replenishment items to the shelves of pods that are
carried by the robots. In a the warehouse, human workers
work only in pick and replenishment stations, and the
rest is no-human zone.
‚Ä¢ Turning cells (3 in Figure 1): A pod may have multiple
faces and an item can be reached only through a single
face [17]. There are two types of pods according to the
number of faces: two-directional and four-directional
(pods that can be seen in Figure 2 are two-directional).
Robots can rotate pods only on turning cells.
27348 VOLUME 9, 2021
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
FIGURE 2. Pick station [18].
‚Ä¢ Charging cells(1 in Figure 1): Robots go to the charging
cells when their batteries are low.
B. METHODOLOGY
There are three main factors that should be handled in a
best way to succeed an efficient life-long task planning in an
RMFS based warehouse: incoming of stock (replenishment),
outgoing of stock (collecting orders) and necessity (such as
charging of robots). In this section, we explain our methodology, algorithms and design decisions to handle these factors
in an efficient way.
1) ORDER-TO-TASK CONVERSION
Order task is the process of collecting orders. We consider
multi-line orders as a usual behavior of e-commerce customers. In the basic approach, each order is converted to order
task(s) individually. Let assume that we have an order with
three items. WES tries to find pods that includes these items.
This order will be completed with at least one pod and at most
three pods. In the basic approach, most of the time robots
carry one pod for just one item of an order. Collecting a multiline order will mostly need more than one order task.
In order to increase the pile-on value, we handle order
batches, instead of handling orders one by one. Order batch
method is usually applied in traditional warehouses which
do not employ robots [6]. Human workers collect orders
after applying some order batch optimization. In this study,
we aim to adapt ‚Äò‚Äòorder batch‚Äô‚Äô concept to RMFS-based smart
warehouse in most effective manner. Figure 3 shows high
level flow of order task process. When an order arrives to
the WES, it is stored in an Order Pool. WES chooses a batch
of orders from this pool and converts these orders to order
tasks (Step 1 in Figure 3). Then these tasks are assigned to the
available robots (Step 2). Then the assigned robot goes under
the pod, lifts it, and carries to the pick station (step 3). Picker
puts order items to the totes. Each order is collected in the tote
that is reserved for that order. When an order is completed, its
tote is departed from the pick station and a new tote is put in
its place.
FIGURE 3. Order task process.
Now we will describe Step 1 of Figure 3, i.e. the order
to task conversion method in more detail. To accomplish
high pile-on value and provide high utilization of robots,
we propose a novel Order Batch to Robot Task Conversion
(OBRTC) algorithm as shown in Algorithm 1.
Algorithm 1 Order Batch to Robot Task Conversion
OrderList ‚Üê nob orders from the set of all orders;
OrderItemList ‚Üê all items of orders in OrderList;
PodList ‚Üê set of all pods in the warehouse;
while OrderItemList 6= ‚àÖ do
1. Podmax ‚Üê Pod that contains highest number of
items in OrderItemList;
2. Create OrderTask with Podmax ;
3. OrderItems ‚Üê All the items of OrderItemList
included in Pod1;
4. Add OrderItems to the OrderTask;
5. Remove OrderItems from OrderItemList;
6. Remove Podmax from PodList;
end
In OBRTC algorithm, firstly we select nob orders from
order list for order to task conversion. This method considers
nob orders as a single order to increase item pod matching
possibilities. Thus, more order items can be collected with
less number of pods. All the items of an order should exist
in the warehouse stock. If there is a missing item for an
order, this order is marked as ‚Äò‚Äòstock-waiting‚Äô‚Äô order and not
included in the task conversion process until the required
stock is provided through replenishment process.
At each iteration, OBRTC algorithm creates an order task
with the pod that includes maximum number of items. Note
that if an order task already exists for this pod (as a result of
VOLUME 9, 2021 27349
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
previous run of OBRTC algorithm), then new items would
be included in this order task, instead of creating a new one.
Then this pod and the items it includes are removed from
the list and the algorithm continues with the next iteration
for converting remaining items to tasks with the remaining
pods. The algorithm terminates when all the items in these
nob orders are converted to tasks.
In the OBRTC algorithm, there are some important design
parameters and restrictions to be considered. The value of nob
has an important role for optimization. Increasing the value of
nob will increase the number of items per task. In other words,
more items will be collected at the pick station when the robot
brings the pod. On the other hand tote count at the pick station
is the important restriction for executing nob orders during
the same time interval. For single order to task conversion,
it is simple to handle tote reservation. Because all the items
of an order task will be collected consecutively in a short time.
However, when the orders are handled as a batch, items of an
order may be collected in an extended time period. Because a
number of order tasks are created by OBRTC simultaneously
and items of an order may be spread over these order tasks
and there could be some gaps between their collection times.
This results in high number of reserved totes that include a
portion of order items. We analyzed the best value of nob in
different scenarios in Section III.
OBRTC algorithm should be executed and the order task
pool should be refilled in appropriate intervals. This is important to avoid idle waiting of robots (due to lack of order
tasks). On the other hand, if task pool includes too many tasks,
then this can increase the execution time of the task selection
process described in the next subsection. Therefore, OBRTC
algorithm is executed when the number of order tasks in the
order task pool becomes less than the number of working
robots.
2) ORDER TASK SELECTION METHOD
After order tasks are created, an order task selection method
is applied to manage resources efficiently and adaptively. For
an available robot, WES assigns a task from the order task
pool. In this study, we propose a heuristic model for task
selection, namely Adaptive Robot Task Selection (ARTS)
which adapts to the dynamics of the resources. WES selects
a task for an idle robot from the task pool according to
three important parameters: 1. Distance of the order task‚Äôs
pod to the robot; 2. Time elapsed after the creation of the
order task; 3. Completion rate of the tote(s) assigned for
the order task. When a robot finishes its previous task and
becomes available, ARTS calculates a priority value for all
order tasks in the pool, and assign the task with the highest
priority.
The priority value of an order task i for a robot r (prir) consists of three components (that correspond to three parameters
mentioned above): Spatial priority prs
ir, temporal priority prt
i
and tote priority pr œÑ
i
. Each of these components are calculated
as follows.
i. Spatial Priority:
prs
ir =
Œ±
1 + log2
(distir + 1)
(1)
where Œ± is a normalization constant and distri is the Manhattan distance between robot r and pod pi of task i, which is
calculated as in (2).
distir = |x(r) ‚àí x(pi)| + |y(r) ‚àí y(pi)| (2)
Note that x(¬∑) and y(¬∑) are x and y coordinates of the cells
that robots and pods stay on. Spatial priority is modeled using
a logarithmic function. This indicates that if the distance is too
low, high priority is given for that robot in order to decrease
path traveling distance, and consequently to reduce the traffic. As the distance increases, there would be diminishing
marginal effect of the distance to the task priority. The value
of Œ± describes maximum possible value of prs
ir, which is
chosen to be 10 in our warehouse.
ii. Temporal Priority:
prt
i = Œ≤ ¬∑ agei (3)
where Œ≤ is a normalization constant and agei
is the elapsed
time (in terms of minutes) after the creation of task i.
Temporal priority is modeled using a linear function that is
not bounded above. This is to guarantee that all the tasks are
handled before a maximum waiting time. The value of Œ≤ is
important to define maximum task age. In our study, we chose
Œ≤ = 0, 2.
iii. Tote priority:
Let us define O as set of all orders and Oi ‚àà O as set of
all orders that has some items to be handled by task i. Tote
priority of task i is defined as
pr œÑ
i =
X
o‚ààOi
(Boi)
1+œÅ
(4)
where œÅ ‚àà [0, 1] is the utilization ratio of the totes. In other
words, it is the ratio of the number of reserved totes to the
number of all totes. Boi is the base value for order-task pair
(o, i), which is related to the effect of task i on completing
order o. We use the following values for Boi:
‚Ä¢ (Reserve) Boi = 1 if task i reserves new tote for order o,
but not includes all items of the order.
‚Ä¢ (ReserveAndComplete) Boi = 2 if task i reserves new
tote for order o, and includes all items of the order (hence
completes the order).
‚Ä¢ (Fill) Boi = 3 if there already exists a partially filled tote
for order o, and task i puts some more item(s) to the tote
without completing the order.
‚Ä¢ (Complete) Boi = 4 if there already exists a partially
filled tote for order o, and task i puts some more item(s)
to the tote and completes the order.
Let us describe tote priority by an example scenario illustrated in Figure 4. We consider a pick station with five totes
(T1 - T5) and consider collection of four orders (O1 - O4).
The items of the orders are shown in the figure. In a specific
time, tote 3 (T3) is reserved for order 2 (O2) and tote 4 is
27350 VOLUME 9, 2021
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
FIGURE 4. Tote reservation scenario.
reserved for order 4, and these totes are partially filled. Now
we will calculate tote priority of the order task 1 (Pod1).
Pod1 includes A and B items of order 1, but doesn‚Äôt include H.
Therefore this task 1 reserves a tote for order 1 without
completing the order, so B11 = 1. On the other hand, order 2
has two items, E and D. E is already put in tote 3, and D is
included in Pod1. Therefore task 1 completes order 2, and
B21 = 4. Moreover, order 3 includes single item (C) which is
included in Pod1. So task 1 reserves and completes order 3,
i.e. B31 = 2. Task1 doesn‚Äôt include any missing item of
order 4, so order 4 will not be included in the calculation of
tote priority. Since two of the five totes are already reserved,
œÅ =
2
5 = 0.4. Tote priority for task 1 is calculated as
1
1.4 + 4
1.4 + 2
1.4 = 10.6.
The rationale behind the proposed tote priority model can
be described as follows. In order to efficiently utilize the totes,
partially filled totes should be completed as soon as possible.
Therefore, if a task fills and completes a tote, it would have
highest priority and the base value is set to 4. If it fills a
tote without completing, again it has a high priority and the
base value is 3. Tasks that reserve new totes are given lower
priority, especially if they only partially fill a tote. Tote priority becomes much more critical when only a few unreserved
totes remain. Therefore the base values are powered by 1+œÅ,
which converges to 2 as the number of idle totes gets closer
to zero.
After finding spatial, temporal and tote priority values,
overall priority of task i with respect to robot r can be simply
defined as the sum of these values.
Pr(i,r) = prs
ir + prt
i + pr œÑ
i
(5)
While priority of a task is effected by all three parameters,
it is dominated by temporal priority (prt
i
) if the task is too
old, and dominated by tote priority (pr œÑ
i
) if the tote utilization
is too high. All the orders created from the same run of the
OBRTC algorithm have almost same temporal priority. For
these order tasks, other priority metrics effect the order of
selection. But if there exists tasks that are generated from
an older order-to-task conversion process, a newer task is
favored only if its pod is too close to the robot. This is
provided by the logaritmic function used in prs
ir.
The proposed heuristic model is designed to dynamically
achieve several performance goals such as reducing robot
travel distance and order completion time, and increasing
system utilization. Here it should be noted that although the
task selection method provides efficient utilization of totes,
it is still possible to not have an available tote for any of the
items in a selected task. In that case this task is not assigned
to the robot, and WES tries to select the next task in the
calculated priority order.
3) ORDER TASK EXECUTION
Order task execution starts just after WES assigns an order
task to the robot by the order task selection method described
above. Figure 5 illustrates the order task execution flow. The
robot goes to the pod and lifts it. Since existence of tote is
checked before task assignment (as described in the previous
part), it is guaranteed that there is at least one available pick
station. If tote assignment is required for any items in the task,
WES tries to assign all totes in a single pick station in order
to decrease robot moving time. WES also tries to balance
workload at the stations while selecting the totes.
FIGURE 5. Order task execution flowchart.
The robot carries the pod to the selected pick station. When
the robot is close to the pick station, WES checks whether
the pod‚Äôs current angle is appropriate for the pick station. If it
is not as desired, the robot goes to the turning cell and the
pod is rotated. After desired angle of the pod is provided,
the robot takes the pod to the picker. Picker collects items
and insert into the tote(s). After the last item of the current
face of the pod is taken, WES checks whether another face
of the pod is also required for this station. When the picking
task is finished for all pod faces in this pick station, WES
checks whether another pick station is waiting for that pod.
If so, the same processes are handled until all required items
at that pod are collected. Afterwards, WES selects a free cell
for the pod to locate. When the robot goes to the pod cell and
release it, order task is completed. Now the robot is ready
for another order task, and task selection process is executed
again. If there is no available task at that moment, the robot
waits until a new task is created.
4) REPLENISHMENT TASK
Replenishment of goods is the other important task of WES
that is performed by autonomous robots. Figure 6 illustrates
overall replenishment task process and Figure 7 illustrates
VOLUME 9, 2021 27351
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
FIGURE 6. Replenishment task process.
FIGURE 7. Replenishment task execution flowchart.
execution of replenishment task. Replenishment to task conversion is simpler than order to task conversion. It starts with
the request of the worker in the replenishment station. Each
station has a single worker. The worker requests a pod to fill
with the replenishment goods. WES selects a pod according
to the free space, i.e. the pods with more free space are prioritized. After selecting a pod, the system waits for an available
robot if all the robots are busy. Replenishment task is assigned
to the first robot that becomes available. The robot goes to the
pod, lifts it and carries it to the replenishment station. If the
pod‚Äôs access direction is not appropriate, the robot first goes
to the turning cell and rotates the pod as desired. Then the
robot carries the pod to the station. A replenishment station
is shown in Figure 8. The worker fills the pod with the items.
Each item‚Äôs barcode is first scanned with a barcode reader,
and then the item is inserted in a shelf of the pod. The worker
should also scan the shelf code in order to assign replenished
items to the shelf. After the worker finishes these jobs, he/she
informs the system by pressing a button. After that, the robot
relocates the pod back to its place.
Several parts of the replenishment task execution directly
depend on the decision of the worker. Replenishment task
starts and ends upon request of the worker. Moreover,
the worker decides which items to locate in the pod, and also
in which shelf. The system may limit number of replenishment items even though the pod has enough space. Several
studies (such as [12], [13]) analyze effects of pod selection
and inventory allocation in the replenishment process. These
works show that classification of items and spreading the
FIGURE 8. Replenishment station [18].
inventory across multiple pods will increase the pod selection
options for order tasks and improve the order throughput
performance. However, inventory classification significantly
increases the complexity of the replenishment task. Inventory
items should be known, classified and ordered. Although
these additional efforts are mentioned in the related work, cost
analysis is not performed and the trade-off between the extra
effort and performance gain is not clear. In addition, the extra
effort also requires extra resources in terms of equipment and
workers, and extra rules.
Optimization of the replenishment task by inventory allocation decisions is not in the main scope of this study.
In order to increase algorithm efficiency in the picking process, we adopt replenishment rules that are easy to install with
low cost of pre-processing. In our model, WES does not have
to know replenishment items and their counts. Items on the
replenishment station may be held on pallets or anywhere.
The worker can choose any item that is easy to take. Pod
selection rule is emptiest-first as mentioned in [5]. Item selection and shelf selection decisions are left to the worker.
Most e-commerce companies sell some items although
they are not stored in their warehouse. They should supply
such items in a short time. In such warehouses, the replenished items typically include lots of already ordered items
(of ‚Äò‚Äòstock-waiting‚Äô‚Äô orders). This fact causes some challenges. Let us assume that there exists items of 100 stockwaiting orders in a replenishment task. The first question is
how to locate these items to the pod. The second question is
when to start collecting these orders.
As mentioned above, WES chooses the pod with most
available free space for replenishment task. However, allocating many items of stock-waiting orders in a single pod will
cause some unwanted situations. WES will want to reserve
100 totes for 100 stock-waiting orders‚Äô items stored in this
pod. Nevertheless, pick stations have limited totes to collect
orders simultaneously. Therefore managing such a highly
27352 VOLUME 9, 2021
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
desired pod will cause moving the pod to the pick station
several times. In order to avoid this situation and increase
manageability of the pods, we limit replenishment count
for each pod. This way, the already ordered items will be
allocated to more pods and pod selection options will be
increased during the order task selection process.
At the first glance, it seems to be an effective solution to
take the incoming pod directly to the pick station without
placing it to the warehouse. If this pod contains all items
of an order, this order will be completed quickly. However,
in most cases this pod will only partially contain items of
stock-waiting orders and it will cause creation of lots of order
tasks. Managing large number of order tasks with a small
number of totes is very difficult. Consequently, it is observed
that taking replenishment items directly to the pick station
reduces global system efficiency, although it may bring a
local gain.
To sum up, we limit number of items to be stored in a single
pod in the replenishment stations with np items. Furthermore,
we relocate the pod to the warehouse without visiting the pick
station even if it includes already ordered items. This pod will
be converted to order task in the next OBRTC execution in the
usual way.
FIGURE 9. Robot life-cycle.
5) ROBOT LIFE-CYCLE
Automated mobile robots are physical components of WES.
When a configured robot turns on, it sends a request to the
WES by introducing itself. After handshaking, WES creates
an entry for the robot in its database, if not exist. Robot lifecycle is shown in Figure 9. Robots wait in the robot pool until
a new task is assigned to them. There are mainly three types
of tasks: order, replenishment and charging tasks. WES will
assign one of these three tasks to the robot according to the
real-time dynamics of the warehouse. WES checks the battery
level of the robot before assigning a task, If it is low, robot will
go to the charging cell. It is charged up to a saturation level
(which is defined as 85% of the full capacity in this study) if
there is a waiting task in the system. Otherwise, it can wait
until fully charging its battery.
The replenishment task starts with the pod request of the
worker in the station. However, there should be a limit for
concurrent pod requests of a worker to avoid needless waiting
of robots in the replenishment station. In this study, we have
limited the maximum number of concurrently running replenishment tasks with the replenishment station count. If there
are replenishment items but there is no robot in the replenishment station (i.e. replenishment station is free), then WES
creates a replenishment task and assigns it to the robot.
Otherwise, WES assigns an order task to the robot with the
order task selection method. The robot executes the order
task as mentioned before. When the robot finishes its task,
it informs the WES and asks for a new task. There is a separate
thread running asynchronously for each robot. This avoids
needless waiting of robots. A robot thread only waits if task
selection process is running for another robot in order to avoid
race conditions. Task assignment to a robot is done in less
than a second, including all waiting time.
Task assignment is one directional. WES assigns tasks, but
a robot cannot select its task, it can just request from the
system. WES evaluates this request and handles task selection
according to real time dynamics. If there is no task in the
pool, it sends the robots to charging even if their battery levels
are not low. WES checks new orders and replenishment for
new task every minute. This system guarantees completion
of order and replenishment processes with high utilization of
resources.
FIGURE 10. WES architecture.
III. SIMULATION STUDY AND NUMERICAL RESULTS
A. SIMULATION ENVIRONMENT
Figure 10 illustrates the main components of WES. The
database functions (insert, update, delete, select) and business
logic (task planning, resource allocation, etc.) are performed
by the Logic (Core) Service. It is a RESTful service so
other components connect with it via HTTP. Logistic Service,
VOLUME 9, 2021 27353
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
Pick Station and Replenishment station screens, Manager
Dashboard and Layer 3 Robot API are. Net Core C# web
applications. Pick Station screen is used by pick worker.
When the robot arrives at the station with the pod, this screen
shows the commands to the pick worker for collecting the
order items. Replenishment station screen is used by the
replenishing worker for inventory allocation. The Manager
Dashboard is for management of warehouse process and components. Reports and results are also shown in the Manager
Dashboard. The 3D Viewer shows robot movements in the
warehouse in 3 dimensions and it is coded with Tree.js 3D
Javascript library and Vue.js.
For each robot, we run a separate simulation application
on the server as Robot Layer 3 API. Low level communication and process on the robot is simulated with realistic parameters. All the delays encountered while processing
commands such as ‚Äò‚Äògo‚Äô‚Äô, ‚Äò‚Äòturn‚Äô‚Äô or ‚Äò‚Äòlift‚Äô‚Äô are considered
in the simulations according to real measurements. Robot
cannot access new command until finishing its last job.
Robot charge management is also simulated. Robot charge
decreases according to its state. For example, a robot will
consume more energy when it picks a pod. All the parameters
are set according to real measurements obtained from Robee
of Makhina Robotics [18] shown in Figure 11.
FIGURE 11. The physical robot (Robee of Makhina Robotics [18]) used in
parameter setting.
Robot path planning is implemented according to the modified collision free A* algorithm proposed in our previous
work [17]. However in this study, we implement some modifications as follows. In the previous algorithm, there exists
some directed paths such that robots are allowed to go only in
single direction. We relaxed this restriction and allow robots
to go in opposite direction by assigning 5 times more cost for
this movement. Increasing the cost per one cell movement
will result in the selection of such paths very rarely, only
if it has significant gain. Allowing the opposite direction
will increase possibility of head to head encountering but it
decreases the total robot traveling time by providing shorter
options. Another modification is that robots are also allowed
to go under the pods. Moving under the pods is not preferred
because there is a restricted movement area and small deviations may cause stopping of the robots. Therefore we set
the same cost as the opposite direction movement for moving
under the pods. Path planning is out of the scope of this paper
so we skip the details to [17].
We analyzed orders of a book e-commerce warehouse in a
two months span. The mean of order line count for an order
was 3,28. Approximately half of the daily orders included
only a single item. We calculate the selling rate of the items.
We create our simulation orders randomly using statistical
characteristics of these orders, so that we accomplish realistic order line counts and items selling rate. Orders arrival
to the WES is simulated with appropriate time intervals
to analyze utilization of robots and picking stations with
changing order density in time. We track and record state of
all dynamic WES processes including robots, pods, shelves,
items, orders, stations, and totes while simulation tests are
running. Main assumptions of our simulation model are the
following.
1) A pod can include up to 500 items. In general, we used
approximately half of this capacity.
2) Orders can be single-line or multi-line.
3) Robot‚Äôs velocity, acceleration/deceleration, and energy
consumption will change according to the weight of
the robot load (picked pod). We have simulated the
weight effect according to whether the robot is loaded
a pod or not. Loaded pod weight is set to 300 kg which
is the half of the robot‚Äôs maximum load capacity.
4) After an order completed in the tote at the pick station,
a new free tote is located instead of the completed one.
This process can be done separately without blocking
picking processes. Hence, time of tote relocating is
ignored.
5) Charging cell count is equal to the robot count so there
is no queue for charging.
6) Each picking and replenishment station has a single
worker.
7) 80% of our pods are two-sided and the rest are foursided. The robot should rotate the pod to the desired
side before the picking or replenishment process.
8) Time elapsed for picking one item at the pick station is
set to 8 seconds. Time elapsed for locating an SKU to
a pod at the replenishment station is set to 6 seconds.
Process time per single item for worker at the replenishment station will be less than the pick station because
typically replenishment task is easier. Replenishment
workers mostly allocate same SKU items at once with
less effort and time. These times may change according
to the physical environment, worker capabilities, etc.
9) Totes are of the same size and they have enough space
to contain items.
10) 10% of the orders arrive the system at the beginning.
Remaining orders arrive the WES gradually in different
time periods. We want to realize e-commerce orders
such that there are different number of orders in the
pool at different time periods. However, there will be
27354 VOLUME 9, 2021
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
always enough orders in the pool to keep robots busy
until all orders are completed.
11) Order arrival duration is divided into four time periods
(for 2000 orders) and replenishment arrives as a bulk at
the end of each period, if not otherwise stated. For more
orders, number of time periods increase proportionally.
B. NUMERICAL RESULTS
We simulate our algorithms on WES under various design
decisions and parameters. We have analyzed our tests under
6 subtitles: (1) Effect of order batch size (nob); (2) Effect of
the number of robots; (3) Robots‚Äô charging time and workload
balance; (4) Effect of the order count; (5) SKU effects on pileon and time; (6) Effect of stock-waiting orders. All tests are
performed for a warehouse where 624 pods are located in an
area of 36 √ó 43 = 1548m
2
. If not otherwise stated, there are
48272 SKU and 169343 items stored in the warehouse. The
mean number of items per SKU is 3,5.
1) ORDER BATCH SIZE
In the first set of experiments, we analyze effect of the
proposed algorithm for various values of nob, which corresponds to order batch size. Tests are performed for 12 robots,
2000 orders, 6560 order items and 6204 replenished items.
There exists 2 or 3 pick stations, and each pick station has
20 totes.
We first simulated the system without applying OBRTC
and ARTS methods. We set nob to one, in other words, each
order is converted to a task individually and WES assigns
these tasks to the robots randomly. In a warehouse with
2 pick stations (and 40 totes), 12 robots completed orders with
6560 items in 1637 minutes. The pile-on number is 1,3. For
3 pick stations (with 60 totes), same number of orders are
completed in 1677 minutes. Then we applied the proposed
OBRTC and ARTS methods by handling orders in batches.
Initially we set nob to 10, and we increase it ten by ten in
each new test in order to find the best value of nob. The
results of tests can be seen in Figure 12. For 2 pick stations, the minimum time for collecting items (981 minutes)
is obtained when nob is 70 for 40 totes. The pile-on values
is 2,6. As mentioned before, achieving high pile-on value
is very important to reduce total time for collecting orders.
The results show that the proposed methodology (with an
optimal nob selection) reduces the process time by 40% for
a warehouse system with 2 pick stations. For a warehouse
with 3 pick stations, the minimum completion time is found
as 910 minutes when nob is set to 120. The pile-on value is
2,99. For this case, reduction in total time is 45,7%, which is
even more than the case with 2 pick stations.
The results shown in Figure 12 indicate that after an
optimal value, further increasing the nob value would start
increasing the order completion time. This is mainly because
of the tote limitation. When there is no available tote in the
pick station, pods will be returned back to the warehouse
without all the items collected. Then they will be carried to
the pick station again after totes become available.
FIGURE 12. Order batch size (nob) vs orders completion time.
FIGURE 13. Order batch size (nob) vs average order departure time.
nob value has also an important effect on the order departure time (ODT), i.e. the waiting time of an order until
departing from the warehouse. The relation between nob and
mean ODT is shown in Figure 13. It is observed that the
best mean ODT value is obtained at the optimal nob value.
Although the ROB algorithm changes FIFO order and items
of an order may be spread over multiple order tasks, mean
ODT value decreases with the batch size until the optimal
nob value. Temporal priority in the ARTS method provides
a balance to avoid long waiting for an order in order task
pool. The maximum ODT, in other words, the longest waiting
time of an order in the pool, is approximately double the
mean ODT value. The mean and maximum values of ODT
are 166 minutes and 305 minutes respectively when nob is
70 and tote count is 40. These values are 134 minutes (mean)
and 260 minutes (max) for 60 totes.
2) ROBOT COUNT
We analyze the effect of robot count on the order completion time and pile-on. We test for 2 pick stations (with
8-16 robots), 3 pick stations (with 8-20 robots) and 4 pick
VOLUME 9, 2021 27355
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
FIGURE 14. Robot count vs orders completion time.
stations (with 15-20 robots). nob is set to 70 for 2 pick stations
and 120 for 3 and 4 pick stations. Figure 14 illustrates the
effect of the robot count on the order completion time. Firstly,
it is observed that completion time does not decrease linearly
with the number of robots. The contribution of extra robot
decreases as number of robots increase. This is because of
extra waiting of robots on path and picking line. As an example result, a robot can carry 37 items per hour (on average)
if 8 robots are employed, while 32 items can be carried per
hour when 20 robots are employed (for 3 pick stations).
Another result is related to the increment in the number of
pick stations. Increasing number of totes increase optimization effect as mentioned before. However, there is a limit
for number of totes in a pick station. Furthermore, opening
new pick station has a cost of employing new worker. Hence,
pick station count should be well optimized. Number of pick
stations should be proportional to number of robots in order
to increase utilization of pick workers. For example, using
3 or 4 pick stations is unnecessary for 8 robots, because
robots will not be able to provide enough items to the pickers.
Figure 14 shows that the difference in completion times for
40 and 60 totes (for the same number of robots) increases
with the robot count. When 8 robots are employed, adding
new 20 totes yields a 4% decrease in the completion time,
while this ratio is (10%) when 16 robots are employed.
Similar result is obtained when we compare the results for
60 and 80 totes. Decrease in the completion time is 6% for
16 robots and 9% for 20 robots.
The effect of the robot count on the pile-on value is shown
in Figure 15. It is observed that while the number of robots
is increased, the pile-on value has been preserved with minor
changes.
3) ROBOTS‚Äô CHARGING AND WORKLOAD BALANCE
We analyze the balance in the workload and charging time of
robots in the warehouse setting with 10 robots and 2 pick stations. All robots work for 42 hours (including charging times)
and collect 13073 items. The results are shown in Table 1. The
total covered distances and total charging times for all robots
are very close to each other. Any robot spends approximately
FIGURE 15. Robot count vs pile-on.
TABLE 1. Robots‚Äô charging and workload balance.
14.5% of the time on charging. This indicates that all the
robots consume almost same amount of energy. It can be
realized that the balance in the workload and energy consumption of the robots comes with the nature of RMFS, where
robots are employed anonymously and are busy most of the
time. This result suggests that there is no need for extra load
balancing effort (such as [16]) in the proposed system.
TABLE 2. Effect of order count.
4) ORDER COUNT
We increase number of orders up to 5000, and the number
of replenished items in parallel. We test for 20 robots and
4 pick stations (80 totes). Table 2 illustrates the obtained
results. It is observed that there is an approximately linear
relation between order count and completion time. Furthermore, the pile-on value is preserved while the order count
increases. For each case, a robot carries around 35 items per
hour.
5) SKU EFFECTS ON PILE-ON AND TIME
SKU and stock count have important effect on pile-on value.
Increasing SKU decreases the pile-on value. Merschforman et al. [5] describe the negative effect of high SKU by
27356 VOLUME 9, 2021
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
performing tests for up to 10000 SKU. However, in the above
tests, we analyze our algorithms for 48272 SKU which is
approximately 5 times more than the maximum SKU value
considered in [5]. We perform another set of tests after
decreasing SKU to 22603 for approximately same amount
of stock, and increasing stock per SKU from 3,51 to 7,53.
The tests are performed for 2000 and 4000 orders, 12 robots
and 3 pick stations. The results are shown in Table 3.
When SKU is decreased, the pile-on value increases from
2,99 to 3,7 (for 2000 orders) and 3,02 to 3,78 (for
4000 orders). This corresponds to an increase of approximately 25%. As a result, 4000 orders (12868) are collected
in 1815 ‚àí 1601 = 214 minutes less time after decreasing the
SKU value.
TABLE 3. Effect of SKU.
6) EFFECT OF STOCK-WAITING ORDERS
In the replenishment station, the maximum number of items
that can be located in a pod is limited with np in order to manage stock-waiting orders, as mentioned in Section II-B4. In all
our tests, we set np to 40. In order to test the system with more
stock-waiting orders, we remove some items arbitrarily from
the stock at the beginning. Tests are performed for 12 robots,
3 pick stations and 2000 orders (6560 items). We consider
3 different replenishment scenarios which result in different
number of stock-waiting orders. Although all 3 scenarios
have the same number of items to replenish as 6204, they
differ in the time intervals that the replenishment arrives to the
warehouse. In the first scenario, all the replenishment arrives
as a bulk after arrival of all orders. In the second scenario,
replenishment is partitioned into two parts. The first part
arrives to the system in the middle and the second part arrives
at the end. In the third scenario, replenishment is partitioned
into four parts and each part arrives in equal time intervals.
TABLE 4. Effect of stock waiting orders.
The effect of stock-waiting orders can be observed
in Table 4. When stock-waiting orders increase, total collection time of all orders also increase. This increase is
aligned with expectations, because it causes lower utilization
of the system while orders are waiting for stock, compared
to the case where these order tasks are distributed throughout
the day. Hence, this fact causes a decrease in the pile-on value.
IV. CONCLUSION
In this work, we propose a task planning approach for RMFSbased smart warehouses, with the aim of utilizing system
resources efficiently and adaptively. We describe a novel
algorithm for conversion of order batches to tasks. We also
propose a heuristic model for assignment of tasks to robots.
We consider various system dynamics such as location and
battery level of robots, replenishment of new stock in various
pods, utilization level of totes and time elapsed after generation of order tasks. We develop a highly realistic simulation
environment which can be considered as a digital twin of the
real system. We take into account all realistic considerations
such as routing, queuing, turning, energy consumption and
charging of the robots. We analyzed the total elapsed time,
pile-on value, mean order waiting time and total distance
covered by the robots. We realize crucial relations between
all of these outputs, especially between pile-on value and
total elapsed time. It is shown that the proposed algorithms
preserve the pile-on value for various number of robots and
orders, and work well under different situations even in high
SKU. The obtained results show that the reduction in total
completion time of orders is about 40% in a warehouse with
2 pick stations and 40 totes, and about 46% in a warehouse
with 3 pick stations and 60 totes.
Although this work gives significant insight into how to
design an efficient RMFS-based warehouse system, there are
always open directions for research. In this study, in the orderto-task conversion step, orders are handled with the order
they arrive. As a future work, an additional optimization
study can be performed while selecting orders into the order
batch. Another idea is to allow allocation of temporary totes
in pick stations when there is no available tote for some of the
order items in a coming pod. This may increase efficiency but
also increase complexity due to additional process for workers. Performance effects and induced costs of these further
improvements remain to be discovered.
ACKNOWLEDGMENT
Ali Bolu worked as a Robotics Engineer for developing
RMFS in Makhina Robotics.
REFERENCES
[1] P. R. Wurman, R. D‚ÄôAndrea, and M. Mountz, ‚Äò‚ÄòCoordinating hundreds of
cooperative, autonomous vehicles in warehouses,‚Äô‚Äô AI Mag., vol. 29, no. 1,
p. 9, 2008.
[2] N. Boysen, R. de Koster, and F. Weidinger, ‚Äò‚ÄòWarehousing in the
E-commerce era: A survey,‚Äô‚Äô Eur. J. Oper. Res., vol. 277, no. 2,
pp. 396‚Äì411, Sep. 2019.
[3] Steve Banker. (2016). Robots in the Warehouse: It‚Äôs Not Just Amazon.
Accessed: Sep. 7, 2020. [Online]. Available: https://www.forbes.com/
sites/stevebanker/2016/01/11/robots-in-the-warehouse-its-not-justamazon/?sh=d7f4dcc40b8f
[4] T. Lamballais, D. Roy, and M. B. M. De Koster, ‚Äò‚ÄòEstimating performance
in a robotic mobile fulfillment system,‚Äô‚Äô Eur. J. Oper. Res., vol. 256, no. 3,
pp. 976‚Äì990, Feb. 2017.
[5] M. Merschformann, T. Lamballais, M. B. M. de Koster, and L. Suhl, ‚Äò‚ÄòDecision rules for robotic mobile fulfillment systems,‚Äô‚Äô Oper. Res. Perspect.,
vol. 6, 2019, Art. no. 100128.
VOLUME 9, 2021 27357
A. Bolu, o. Korcak: Adaptive Task Planning for Multi-Robot Smart Warehouse
[6] J. Zhang, X. Wang, and K. Huang, ‚Äò‚ÄòIntegrated on-line scheduling of
order batching and delivery under B2C E-commerce,‚Äô‚Äô Comput. Ind. Eng.,
vol. 94, pp. 280‚Äì289, Apr. 2016.
[7] J. J. Enright and P. R. Wurman, ‚Äò‚ÄòOptimization and coordinated autonomy
in mobile fulfillment systems,‚Äô‚Äô in Proc. 25th AAAI Conf. Artif. Intell.,
2011, pp. 33‚Äì38.
[8] L. Xie, N. Thieme, R. Krenzler, and H. Li, ‚Äò‚ÄòEfficient order picking
methods in robotic mobile fulfillment systems,‚Äô‚Äô 2019, arXiv:1902.03092.
[Online]. Available: http://arxiv.org/abs/1902.03092
[9] N. Boysen, D. Briskorn, and S. Emde, ‚Äò‚ÄòParts-to-picker based order processing in a rack-moving mobile robots environment,‚Äô‚Äô Eur. J. Oper. Res.,
vol. 262, no. 2, pp. 550‚Äì562, Oct. 2017.
[10] B. Zou, Y. Gong, X. Xu, and Z. Yuan, ‚Äò‚ÄòAssignment rules in robotic mobile
fulfilment systems for online retailers,‚Äô‚Äô Int. J. Prod. Res., vol. 55, no. 20,
pp. 6175‚Äì6192, Oct. 2017.
[11] R. Hanson, L. Medbo, and M. I. Johansson, ‚Äò‚ÄòPerformance characteristics
of robotic mobile fulfilment systems in order picking applications,‚Äô‚Äô IFACPapersOnLine, vol. 51, no. 11, pp. 1493‚Äì1498, 2018.
[12] F. Weidinger, N. Boysen, and D. Briskorn, ‚Äò‚ÄòStorage assignment with rackmoving mobile robots in KIVA warehouses,‚Äô‚Äô Transp. Sci., vol. 52, no. 6,
pp. 1479‚Äì1495, Dec. 2018.
[13] T. Lamballais Tessensohn, D. Roy, and R. B. M. De Koster, ‚Äò‚ÄòInventory
allocation in robotic mobile fulfillment systems,‚Äô‚Äô IISE Trans., vol. 52,
no. 1, pp. 1‚Äì17, Jan. 2020.
[14] D. Roy, S. Nigam, R. de Koster, I. Adan, and J. Resing, ‚Äò‚ÄòRobot-storage
zone assignment strategies in mobile fulfillment systems,‚Äô‚Äô Transp. Res.
E, Logistics Transp. Rev., vol. 122, pp. 119‚Äì142, Feb. 2019.
[15] Z. Yuan and Y. Y. Gong, ‚Äò‚ÄòBot-in-time delivery for robotic mobile fulfillment systems,‚Äô‚Äô IEEE Trans. Eng. Manag., vol. 64, no. 1, pp. 83‚Äì93,
Feb. 2017.
[16] L. Zhou, Y. Shi, J. Wang, and P. Yang, ‚Äò‚ÄòA balanced heuristic mechanism
for multirobot task allocation of intelligent warehouses,‚Äô‚Äô Math. Problems
Eng., vol. 2014, Nov. 2014, Art. no. 380480.
[17] A. Bolu and O. Korcak, ‚Äò‚ÄòPath planning for multiple mobile robots in
smart warehouse,‚Äô‚Äô in Proc. 7th Int. Conf. Control, Mechatronics Autom.
(ICCMA), Nov. 2019, pp. 144‚Äì150.
[18] Boost Your Warehouse With Robee. Accessed: Dec. 25, 2020. [Online].
Available: https://www.makhina.com/product
ALI BOLU (Member, IEEE) received the B.Sc.
degree in telecommunication engineering from
Istanbul Technical University, Istanbul, Turkey,
in 2015. He is currently pursuing the M.Sc. degree
in computer engineering with Marmara University,
Istanbul, Turkey.
He worked as a Robotics Engineer for developing RMFS with Makhina Robotics. He has been
working on robotic software technologies, since
the beginning of 2018, coping with math, optimization, and algorithmic challenges. He currently works in Delivers.ai as a
Robotic Software Engineer. His research interests include robotics systems
and their optimizations.
Omer Korcak (Member, IEEE) received the
B.S. (Hons.), M.S., and Ph.D. degrees in computer
engineering from Bogazici University, in 2002,
2004, and 2009, respectively. In 2011, he worked
as a Visiting Researcher with Deutsche Telekom
Laboratories, Berlin. He is currently an Assistant Professor with Marmara University, Istanbul.
His main research interests include in the general
area of network optimization, network economics,
game theory and resource management, and with
applications to wireless networks and multi-agent systems.
27358 VOLUME 9, 2021